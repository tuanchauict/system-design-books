<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Distributed Job Scheduler System Design Interview Guide</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div><div class="flex flex-col gap-2 md:gap-4"><div class="flex flex-col"><h6 class="MuiTypography-root MuiTypography-h6 mui-zfm63x">Common Problems</h6><h1 class="MuiTypography-root MuiTypography-h2 mui-161snwm">Design a Distributed Job Scheduler</h1></div><div class="flex flex-col md:flex-row gap-2 md:items-center justify-between"><div class="flex flex-col lg:flex-row gap-4 md:items-center"><a target="_blank" rel="noopener noreferrer" class="flex flex-row gap-2 items-center" href="https://www.linkedin.com/in/evan-king-40072280/" style="text-decoration: none;"><img class="rounded-full" src="https://hellointerview-files.s3.us-west-2.amazonaws.com/public-media/evan-headshot.png" alt="Evan King" width="40" height="40"><div class="flex flex-col"><div class="flex flex-row gap-2 items-center"><p class="MuiTypography-root MuiTypography-body2 mui-ltrqv0">Evan King</p><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeInherit mui-70s7oy" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="LinkedInIcon"><path d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z"></path></svg></div><span class="MuiTypography-root MuiTypography-caption mui-1eozzb8">Ex-Meta Staff Engineer</span></div></a><div class="flex flex-row gap-4 md:gap-8 items-center"><div class="flex flex-row gap-1 items-center" aria-label="Difficulty"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-5 h-5 text-gray-500"><path stroke-linecap="round" stroke-linejoin="round" d="M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z"></path></svg><p class="MuiTypography-root MuiTypography-body2 mui-su24yt">medium</p></div><div class="flex flex-row gap-1 items-center" aria-label="Average time allowed in interview"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-5 h-5 text-gray-500"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"></path></svg><p class="MuiTypography-root MuiTypography-body2 mui-1pb8xyp">35 min</p></div></div></div><a class="MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary MuiButton-sizeSmall MuiButton-containedSizeSmall MuiButton-colorPrimary MuiButton-disableElevation MuiButton-root MuiButton-contained MuiButton-containedPrimary MuiButton-sizeSmall MuiButton-containedSizeSmall MuiButton-colorPrimary MuiButton-disableElevation mui-1c7cv5a" tabindex="0" href="/practice/system-design/start/job-scheduler" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-5 h-5 mr-1"><path stroke-linecap="round" stroke-linejoin="round" d="M15.042 21.672 13.684 16.6m0 0-2.51 2.225.569-9.47 5.227 7.917-3.286-.672ZM12 2.25V4.5m5.834.166-1.591 1.591M20.25 10.5H18M7.757 14.743l-1.59 1.59M6 10.5H3.75m4.007-4.243-1.59-1.59"></path></svg>Practice this problem<span class="MuiTouchRipple-root mui-w0pj6f"></span></a></div></div><hr class="MuiDivider-root MuiDivider-fullWidth mui-1rvhejo"></div>
<h2 class="MuiTypography-root MuiTypography-h3 mui-1rzqq5q" id="understanding-the-problem">Understanding the Problem</h2>
<div class="my-6"><div class="MuiBox-root mui-1fz7ihe"><div class="MuiBox-root mui-79elbk"><div style="overflow: hidden; max-height: 300px;"><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><strong>⏰ What is a Job Scheduler</strong>
A job scheduler is a program that automatically schedules and executes jobs at specified times or intervals. It is used to automate repetitive tasks, run scheduled maintenance, or execute batch processes.</div></div></div></div></div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">There are two key terms worth defining before we jump into solving the problem:</div>
<ul class="MuiList-root MuiList-padding mui-sedpvs">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Task</strong>: A task is the abstract concept of work to be done. For example, "send an email". Tasks are reusable and can be executed multiple times by different jobs.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Job</strong>: A job is an instance of a task. It is made up of the task to be executed, the schedule for when the task should be executed, and parameters needed to execute the task. For example, if the task is "send an email" then a job could be "send an email to <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="mailto:john@example.com" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">john@example.com</a> at 10:00 AM Friday".</div></li>
</ul>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">The main responsibility of a job scheduler is to take a set of jobs and execute them according to the schedule.</div>
<h3 class="MuiTypography-root MuiTypography-h4 mui-hkpafq" id="functional-requirements"><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://www.hellointerview.com/learn/system-design/in-a-hurry/delivery#1-functional-requirements-1" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Functional Requirements</a></h3>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><strong>Core Requirements</strong></div>
<ol style="list-style: outside decimal;">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Users should be able to schedule jobs to be executed immediately, at a future date, or on a recurring schedule (ie. "every day at 10:00 AM").</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Users should be able monitor the status of their jobs.</div></li>
</ol>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><strong>Below the line (out of scope)</strong></div>
<ul class="MuiList-root MuiList-padding mui-sedpvs">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Users should be able to cancel or reschedule jobs.</div></li>
</ul>
<h3 class="MuiTypography-root MuiTypography-h4 mui-hkpafq" id="non-functional-requirements"><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://www.hellointerview.com/learn/system-design/in-a-hurry/delivery#2-non-functional-requirements-1" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Non-Functional Requirements</a></h3>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Now is a good time to ask about the scale of the system in your interview. If I were your interviewer, I would explain that the system should be able to execute 10k jobs per second.</div>
<div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><strong>Core Requirements</strong></div><ol style="list-style: outside decimal;">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">The system should be highly available (availability &gt; consistency).</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">The system should execute jobs within 2s of their scheduled time.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">The system should be scalable to support up to 10k jobs per second.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">The system should ensure <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://blog.bytebytego.com/i/51197752/At-Least-Once" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">at-least-once</a> execution of jobs.</div></li>
</ol><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><strong>Below the line (out of scope)</strong></div><ul class="MuiList-root MuiList-padding mui-sedpvs">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">The system should enforce security policies.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">The system should have a CI/CD pipeline.</div></li>
</ul><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">On the whiteboard, this might look like:</div><div class="my-4 flex-col w-full undefined"><div class="MuiBox-root mui-10khgmf" style="cursor: pointer;"><div class="MuiGrid-root MuiGrid-container MuiGrid-direction-xs-column mui-1tdxmx0"><div class="MuiGrid-root MuiGrid-item mui-tolxbf"><div class="relative w-full"><button class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall mui-wksd04" tabindex="0" type="button" aria-label="zoom-in"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ZoomInIcon"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"></path><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"></path></svg><span class="MuiTouchRipple-root mui-w0pj6f"></span></button><div class="w-full"><img class="w-full max-w-full max-h-full" src="https://d248djf5mc6iku.cloudfront.net/excalidraw/dfd155615c648ab98b7bd0be636848a4" alt="Job Scheduler Requirements"></div></div></div><div class="MuiGrid-root MuiGrid-item mui-1wxaqej"><span class="MuiTypography-root MuiTypography-caption mui-17cupi8">Job Scheduler Requirements</span></div></div></div></div><h2 class="MuiTypography-root MuiTypography-h3 mui-1rzqq5q" id="the-set-up">The Set Up</h2><h3 class="MuiTypography-root MuiTypography-h4 mui-hkpafq" id="planning-the-approach">Planning the Approach</h3><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">For this question, which is less of a user-facing product and more focused on data processing, we're going to follow the delivery framework outlined <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://www.hellointerview.com/learn/system-design/in-a-hurry/delivery" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">here</a>, focusing on the core entities, then the API, and then the data flow before diving into the high-level design and ending with deep dives.</div><h3 class="MuiTypography-root MuiTypography-h4 mui-hkpafq" id="defining-the-core-entities"><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://www.hellointerview.com/learn/system-design/in-a-hurry/delivery#core-entities-2-minutes" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Defining the Core Entities</a></h3><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">We recommend that you start with a broad overview of the primary entities, even for questions more focused on infrastructure, like this one. It is not necessary to know every specific column or detail yet. We will focus on the intricacies, such as columns and fields, later when we have a clearer grasp of the system.</div><div class="my-6"><div class="MuiBox-root mui-1147lff"><div class="MuiBox-root mui-zvu67g"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-6 h-6 heroicon-sw-2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"></path></svg></div><div class="MuiBox-root mui-79elbk"><div style="overflow: hidden; max-height: 300px;"><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Just make sure that you let your interviewer know your plan so you're on the same page. I'll often explain that I'm going to start with just a simple list, but as we get to the high-level design, I'll document the data model more thoroughly.</div></div></div></div></div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">To satisfy our key functional requirements, we'll need the following entities:</div><ol style="list-style: outside decimal;">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Task</strong>: Represents a task to be executed.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Job</strong>: Represents an instance of a task to be executed at a given time with a given set of parameters.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Schedule</strong>: Represents a schedule for when a job should be executed, either a CRON expression or a specific DateTime.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>User</strong>: Represents a user who can schedule jobs and view the status of their jobs.</div></li>
</ol><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">In the actual interview, this can be as simple as a short list like this. Just make sure you talk through the entities with your interviewer to ensure you are on the same page.</div><div class="my-4 flex-col w-full max-w-[200px]"><div class="MuiBox-root mui-10khgmf" style="cursor: pointer;"><div class="MuiGrid-root MuiGrid-container MuiGrid-direction-xs-column mui-1tdxmx0"><div class="MuiGrid-root MuiGrid-item mui-tolxbf"><div class="relative w-full"><button class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall mui-wksd04" tabindex="0" type="button" aria-label="zoom-in"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ZoomInIcon"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"></path><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"></path></svg><span class="MuiTouchRipple-root mui-w0pj6f"></span></button><div class="w-full"><img class="w-full max-w-full max-h-full" src="https://d248djf5mc6iku.cloudfront.net/excalidraw/d7deeaa26d4ffffd2f0357cd7a7c5bad" alt="Job Scheduler Entities"></div></div></div><div class="MuiGrid-root MuiGrid-item mui-1wxaqej"><span class="MuiTypography-root MuiTypography-caption mui-17cupi8">Job Scheduler Entities</span></div></div></div></div><h3 class="MuiTypography-root MuiTypography-h4 mui-hkpafq" id="the-api"><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://www.hellointerview.com/learn/system-design/in-a-hurry/delivery#4-api-or-system-interface" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">The API</a></h3><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Your goal is to simply go one-by-one through the core requirements and define the APIs that are necessary to satisfy them. Usually, these map 1:1 to the functional requirements, but there are times when multiple endpoints are needed to satisfy an individual functional requirement.</div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">First, let's create a job:</div><pre><div class="MuiBox-root mui-xnilmx"><div class="MuiBox-root mui-v2ritd"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-4 h-4  cursor-pointer" aria-label="Copy"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg></div><div style="background: rgb(250, 250, 250); color: rgb(56, 58, 66); font-family: &quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; line-height: 1.5; tab-size: 2; hyphens: none; padding: 1em; margin: 0px; overflow: auto; border-radius: 0.375rem; border: none;"><code font-size="18" style="white-space: pre;"><span>POST /jobs
</span>{
  "task_id": "send_email",
  "schedule": "0 10 * * *",
  "parameters": {
    "to": "john@example.com",
    "subject": "Daily Report"
  }
}</code></div></div></pre><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Next, let's query the status of our jobs:</div><pre><div class="MuiBox-root mui-xnilmx"><div class="MuiBox-root mui-v2ritd"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-4 h-4  cursor-pointer" aria-label="Copy"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg></div><div style="background: rgb(250, 250, 250); color: rgb(56, 58, 66); font-family: &quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; line-height: 1.5; tab-size: 2; hyphens: none; padding: 1em; margin: 0px; overflow: auto; border-radius: 0.375rem; border: none;"><code font-size="18" style="white-space: pre;"><span>GET /jobs?user_id={user_id}&amp;status={status}&amp;start_time={start_time}&amp;end_time={end_time} -&gt; Job[]</span></code></div></div></pre><h3 class="MuiTypography-root MuiTypography-h4 mui-hkpafq" id="data-flow"><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://www.hellointerview.com/learn/system-design/in-a-hurry/delivery#optional-data-flow-5-minutes" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Data Flow</a></h3><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Before diving into the technical design, let's understand how data flows through our system. The data flow represents the journey from when a request enters our system to when it produces the final output.</div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Understanding this flow early in our design process serves multiple purposes. First, it helps ensure we're aligned with our interviewer on the core functionality before getting into implementation details. Second, it provides a clear roadmap that will guide our high-level design decisions. Finally, it allows us to identify potential bottlenecks or issues before we commit to specific architectural choices.</div><ol style="list-style: outside decimal;">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">A user schedules a job by providing the task to be executed, the schedule for when the task should be executed, and the parameters needed to execute the task.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">The job is persisted in the system.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">The job is picked up by a worker and executed at the scheduled time.
<ul class="MuiList-root MuiList-padding mui-sedpvs">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">If the job fails, it is retried with exponential backoff.</div></li>
</ul>
</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Update the job status in the system.</div></li>
</ol><div class="my-6"><div class="MuiBox-root mui-1ygn9bx"><div class="MuiBox-root mui-14185gn"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-6 h-6 heroicon-sw-2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"></path></svg></div><div class="MuiBox-root mui-79elbk"><div style="overflow: hidden; max-height: 300px;"><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Note that this is simple, we will improve upon as we go, but it's important to start simple and build up from there.</div></div></div></div></div><h2 class="MuiTypography-root MuiTypography-h3 mui-1rzqq5q" id="high-level-design"><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://www.hellointerview.com/learn/system-design/in-a-hurry/delivery#high-level-design-10-15-minutes-1" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">High-Level Design</a></h2><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">We start by building an MVP that works to satisfy the core functional requirements. This does not need to scale or be perfect. It's just a foundation for us to build upon later. We will walk through each functional requirement, making sure each is satisfied by the high-level design.</div><h3 class="MuiTypography-root MuiTypography-h4 mui-hkpafq" id="1-users-should-be-able-to-schedule-jobs-to-be-executed-immediately-at-a-future-date-or-on-a-recurring-schedule">1) Users should be able to schedule jobs to be executed immediately, at a future date, or on a recurring schedule</h3><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">When a user schedules a job, they'll provide the task to be executed, the schedule for when the job should be executed, and the parameters needed to execute the task. Let's walk through how this works:</div><ol style="list-style: outside decimal;">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">The user makes a request to a <span class="MuiBox-root mui-1vu004u">/jobs</span> endpoint with:</div>
<ul class="MuiList-root MuiList-padding mui-sedpvs">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Task ID (which task to run)</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Schedule (when to run it)</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Parameters (what inputs the task needs)</div></li>
</ul>
</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">We store the job in our database with a status of <span class="MuiBox-root mui-1vu004u">PENDING</span>. This ensures that:</div>
<ul class="MuiList-root MuiList-padding mui-sedpvs">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">We have a persistent record of all jobs</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">We can recover jobs if our system crashes</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">We can track the job's status throughout its lifecycle</div></li>
</ul>
</div></li>
</ol><div class="my-4 flex-col w-full undefined"><div class="MuiBox-root mui-10khgmf" style="cursor: pointer;"><div class="MuiGrid-root MuiGrid-container MuiGrid-direction-xs-column mui-1tdxmx0"><div class="MuiGrid-root MuiGrid-item mui-tolxbf"><div class="relative w-full"><button class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall mui-wksd04" tabindex="0" type="button" aria-label="zoom-in"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ZoomInIcon"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"></path><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"></path></svg><span class="MuiTouchRipple-root mui-w0pj6f"></span></button><div class="w-full"><img class="w-full max-w-full max-h-full" src="https://d248djf5mc6iku.cloudfront.net/excalidraw/5aa417b04955bd8356c935dd44841fd4"></div></div></div></div></div></div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">When it comes to choosing a database, the hard truth is that any modern database will work. Given no need for strong consistency and our data has few relationships, I'm going to opt for a flexible key value store like <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://www.hellointerview.com/learn/system-design/deep-dives/dynamodb" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">DynamoDB</a> to make scaling later on easier. If you're interviewing at a company that prefers open-source solutions, you might go with <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://www.hellointerview.com/learn/system-design/deep-dives/cassandra" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Cassandra</a> instead. But, like I said, Postgres or MySQL would work just as well, you'd just need to pay closer attention to scaling later on.</div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Let's start with a simple schema for our Jobs table to see why this approach needs refinement:</div><pre><div class="MuiBox-root mui-xnilmx"><div class="MuiBox-root mui-v2ritd"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-4 h-4  cursor-pointer" aria-label="Copy"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg></div><div style="background: rgb(250, 250, 250); color: rgb(56, 58, 66); font-family: &quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; line-height: 1.5; tab-size: 2; hyphens: none; padding: 1em; margin: 0px; overflow: auto; border-radius: 0.375rem; border: none;"><code font-size="18" style="white-space: pre;"><span class="token" style="color: rgb(56, 58, 66);">{</span><span>
</span><span>  </span><span class="token" style="color: rgb(228, 86, 73);">"job_id"</span><span class="token" style="color: rgb(64, 120, 242);">:</span><span> </span><span class="token" style="color: rgb(80, 161, 79);">"123e4567-e89b-12d3-a456-426614174000"</span><span class="token" style="color: rgb(56, 58, 66);">,</span><span>
</span><span>  </span><span class="token" style="color: rgb(228, 86, 73);">"user_id"</span><span class="token" style="color: rgb(64, 120, 242);">:</span><span> </span><span class="token" style="color: rgb(80, 161, 79);">"user_123"</span><span class="token" style="color: rgb(56, 58, 66);">,</span><span>
</span><span>  </span><span class="token" style="color: rgb(228, 86, 73);">"task_id"</span><span class="token" style="color: rgb(64, 120, 242);">:</span><span> </span><span class="token" style="color: rgb(80, 161, 79);">"send_email"</span><span class="token" style="color: rgb(56, 58, 66);">,</span><span>
</span><span>  </span><span class="token" style="color: rgb(228, 86, 73);">"scheduled_at"</span><span class="token" style="color: rgb(64, 120, 242);">:</span><span> </span><span class="token" style="color: rgb(183, 107, 1);">1715548800</span><span class="token" style="color: rgb(56, 58, 66);">,</span><span>
</span><span>  </span><span class="token" style="color: rgb(228, 86, 73);">"parameters"</span><span class="token" style="color: rgb(64, 120, 242);">:</span><span> </span><span class="token" style="color: rgb(56, 58, 66);">{</span><span>
</span><span>    </span><span class="token" style="color: rgb(228, 86, 73);">"to"</span><span class="token" style="color: rgb(64, 120, 242);">:</span><span> </span><span class="token" style="color: rgb(80, 161, 79);">"john@example.com"</span><span class="token" style="color: rgb(56, 58, 66);">,</span><span>
</span><span>    </span><span class="token" style="color: rgb(228, 86, 73);">"subject"</span><span class="token" style="color: rgb(64, 120, 242);">:</span><span> </span><span class="token" style="color: rgb(80, 161, 79);">"Daily Report"</span><span>
</span><span>  </span><span class="token" style="color: rgb(56, 58, 66);">}</span><span class="token" style="color: rgb(56, 58, 66);">,</span><span>
</span><span>  </span><span class="token" style="color: rgb(228, 86, 73);">"status"</span><span class="token" style="color: rgb(64, 120, 242);">:</span><span> </span><span class="token" style="color: rgb(80, 161, 79);">"PENDING"</span><span>
</span><span></span><span class="token" style="color: rgb(56, 58, 66);">}</span></code></div></div></pre><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">This works fine for one-time jobs, but it breaks down when we consider recurring schedules. Consider a daily email report that needs to run at 10 AM every day. We could store the CRON expression (<span class="MuiBox-root mui-1vu004u">0 10 * * *</span>) in our table, but then how do we efficiently find which jobs need to run in the next few minutes? We'd need to evaluate every single CRON expression in our database—clearly not scalable.</div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">This brings us to a key insight: we need to separate the <em>definition</em> of a job from its <em>execution instances</em>. Think of it like a calendar: you might have an event that repeats every Monday, but in your calendar app, you see individual instances of that event on each Monday. This is exactly what we need.</div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Let's split our data into two tables. First, our Jobs table stores the job definitions:</div><pre><div class="MuiBox-root mui-xnilmx"><div class="MuiBox-root mui-v2ritd"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-4 h-4  cursor-pointer" aria-label="Copy"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg></div><div style="background: rgb(250, 250, 250); color: rgb(56, 58, 66); font-family: &quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; line-height: 1.5; tab-size: 2; hyphens: none; padding: 1em; margin: 0px; overflow: auto; border-radius: 0.375rem; border: none;"><code font-size="18" style="white-space: pre;"><span class="token" style="color: rgb(56, 58, 66);">{</span><span>
</span><span>  </span><span class="token" style="color: rgb(228, 86, 73);">"job_id"</span><span class="token" style="color: rgb(64, 120, 242);">:</span><span> </span><span class="token" style="color: rgb(80, 161, 79);">"123e4567-e89b-12d3-a456-426614174000"</span><span class="token" style="color: rgb(56, 58, 66);">,</span><span>  </span><span class="token" style="color: rgb(160, 161, 167); font-style: italic;">// Partition key for easy lookup by job_id</span><span>
</span><span>  </span><span class="token" style="color: rgb(228, 86, 73);">"user_id"</span><span class="token" style="color: rgb(64, 120, 242);">:</span><span> </span><span class="token" style="color: rgb(80, 161, 79);">"user_123"</span><span class="token" style="color: rgb(56, 58, 66);">,</span><span> 
</span><span>  </span><span class="token" style="color: rgb(228, 86, 73);">"task_id"</span><span class="token" style="color: rgb(64, 120, 242);">:</span><span> </span><span class="token" style="color: rgb(80, 161, 79);">"send_email"</span><span class="token" style="color: rgb(56, 58, 66);">,</span><span>
</span><span>  </span><span class="token" style="color: rgb(228, 86, 73);">"schedule"</span><span class="token" style="color: rgb(64, 120, 242);">:</span><span> </span><span class="token" style="color: rgb(56, 58, 66);">{</span><span>
</span><span>    </span><span class="token" style="color: rgb(228, 86, 73);">"type"</span><span class="token" style="color: rgb(64, 120, 242);">:</span><span> </span><span class="token" style="color: rgb(80, 161, 79);">"CRON"</span><span> | </span><span class="token" style="color: rgb(80, 161, 79);">"DATE"</span><span> 
</span><span>    </span><span class="token" style="color: rgb(228, 86, 73);">"expression"</span><span class="token" style="color: rgb(64, 120, 242);">:</span><span> </span><span class="token" style="color: rgb(80, 161, 79);">"0 10 * * *"</span><span>  </span><span class="token" style="color: rgb(160, 161, 167); font-style: italic;">// Every day at 10:00 AM for CRON, specific date for DATE</span><span>
</span><span>  </span><span class="token" style="color: rgb(56, 58, 66);">}</span><span class="token" style="color: rgb(56, 58, 66);">,</span><span>
</span><span>  </span><span class="token" style="color: rgb(228, 86, 73);">"parameters"</span><span class="token" style="color: rgb(64, 120, 242);">:</span><span> </span><span class="token" style="color: rgb(56, 58, 66);">{</span><span>
</span><span>    </span><span class="token" style="color: rgb(228, 86, 73);">"to"</span><span class="token" style="color: rgb(64, 120, 242);">:</span><span> </span><span class="token" style="color: rgb(80, 161, 79);">"john@example.com"</span><span class="token" style="color: rgb(56, 58, 66);">,</span><span>
</span><span>    </span><span class="token" style="color: rgb(228, 86, 73);">"subject"</span><span class="token" style="color: rgb(64, 120, 242);">:</span><span> </span><span class="token" style="color: rgb(80, 161, 79);">"Daily Report"</span><span>
</span><span>  </span><span class="token" style="color: rgb(56, 58, 66);">}</span><span>
</span><span></span><span class="token" style="color: rgb(56, 58, 66);">}</span></code></div></div></pre><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Then, our <span class="MuiBox-root mui-1vu004u">Executions</span> table tracks each individual time a job should run:</div><pre><div class="MuiBox-root mui-xnilmx"><div class="MuiBox-root mui-v2ritd"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-4 h-4  cursor-pointer" aria-label="Copy"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg></div><div style="background: rgb(250, 250, 250); color: rgb(56, 58, 66); font-family: &quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; line-height: 1.5; tab-size: 2; hyphens: none; padding: 1em; margin: 0px; overflow: auto; border-radius: 0.375rem; border: none;"><code font-size="18" style="white-space: pre;"><span class="token" style="color: rgb(56, 58, 66);">{</span><span>
</span><span>  </span><span class="token" style="color: rgb(228, 86, 73);">"time_bucket"</span><span class="token" style="color: rgb(64, 120, 242);">:</span><span> </span><span class="token" style="color: rgb(183, 107, 1);">1715547600</span><span class="token" style="color: rgb(56, 58, 66);">,</span><span>  </span><span class="token" style="color: rgb(160, 161, 167); font-style: italic;">// Partition key (Unix timestamp rounded down to hour)</span><span>
</span><span>  </span><span class="token" style="color: rgb(228, 86, 73);">"execution_time"</span><span class="token" style="color: rgb(64, 120, 242);">:</span><span> </span><span class="token" style="color: rgb(80, 161, 79);">"1715548800-123e4567-e89b-12d3-a456-426614174000"</span><span class="token" style="color: rgb(56, 58, 66);">,</span><span>  </span><span class="token" style="color: rgb(160, 161, 167); font-style: italic;">// Sort key (exact execution time and the jobId since partition key and sort key must be unique)</span><span>
</span><span>  </span><span class="token" style="color: rgb(228, 86, 73);">"job_id"</span><span class="token" style="color: rgb(64, 120, 242);">:</span><span> </span><span class="token" style="color: rgb(80, 161, 79);">"123e4567-e89b-12d3-a456-426614174000"</span><span class="token" style="color: rgb(56, 58, 66);">,</span><span>
</span><span>  </span><span class="token" style="color: rgb(228, 86, 73);">"user_id"</span><span class="token" style="color: rgb(64, 120, 242);">:</span><span> </span><span class="token" style="color: rgb(80, 161, 79);">"user_123"</span><span class="token" style="color: rgb(56, 58, 66);">,</span><span> 
</span><span>  </span><span class="token" style="color: rgb(228, 86, 73);">"status"</span><span class="token" style="color: rgb(64, 120, 242);">:</span><span> </span><span class="token" style="color: rgb(80, 161, 79);">"PENDING"</span><span class="token" style="color: rgb(56, 58, 66);">,</span><span>
</span><span>  </span><span class="token" style="color: rgb(228, 86, 73);">"attempt"</span><span class="token" style="color: rgb(64, 120, 242);">:</span><span> </span><span class="token" style="color: rgb(183, 107, 1);">0</span><span>
</span><span></span><span class="token" style="color: rgb(56, 58, 66);">}</span></code></div></div></pre><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">By using a time bucket (Unix timestamp rounded down to the nearest hour) as our partition key, we achieve efficient querying while avoiding hot partition issues. For example, to find jobs that need to run in the next few minutes, we only need to query the current hour's bucket and possibly the next hour's bucket. The time bucket can be easily calculated:</div><pre><div class="MuiBox-root mui-xnilmx"><div class="MuiBox-root mui-v2ritd"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-4 h-4  cursor-pointer" aria-label="Copy"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg></div><div style="background: rgb(250, 250, 250); color: rgb(56, 58, 66); font-family: &quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; line-height: 1.5; tab-size: 2; hyphens: none; padding: 1em; margin: 0px; overflow: auto; border-radius: 0.375rem; border: none;"><code font-size="18" style="white-space: pre;"><span>time_bucket </span><span class="token" style="color: rgb(64, 120, 242);">=</span><span> </span><span class="token" style="color: rgb(56, 58, 66);">(</span><span>execution_time </span><span class="token" style="color: rgb(64, 120, 242);">//</span><span> </span><span class="token" style="color: rgb(183, 107, 1);">3600</span><span class="token" style="color: rgb(56, 58, 66);">)</span><span> </span><span class="token" style="color: rgb(64, 120, 242);">*</span><span> </span><span class="token" style="color: rgb(183, 107, 1);">3600</span><span>  </span><span class="token" style="color: rgb(160, 161, 167); font-style: italic;"># Round down to nearest hour</span></code></div></div></pre><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">First, by querying only 1-2 partitions to find upcoming jobs, we maintain efficient read operations. The hourly buckets ensure jobs are well-distributed across partitions, preventing hotspots. Second, when a recurring job completes, we can easily schedule its next occurrence by calculating the next execution time and creating a new entry in the <span class="MuiBox-root mui-1vu004u">Executions</span> table. The job definition stays the same, but we keep creating new execution instances.</div><div class="my-6"><div class="MuiBox-root mui-1147lff"><div class="MuiBox-root mui-zvu67g"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-6 h-6 heroicon-sw-2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"></path></svg></div><div class="MuiBox-root mui-79elbk"><div style="overflow: hidden; max-height: 300px;"><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">This pattern of separating the definition of something from its instances is common in system design. You'll see it in calendar systems (event definition vs. occurrences), notification systems (template vs. individual notifications), and many other places. It's a powerful way to handle recurring or templated behaviors. See the <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://www.hellointerview.com/learn/system-design/problem-breakdowns/gopuff" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">GoPuff Breakdown</a> for another example of this.</div></div></div></div></div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">When a worker node is ready to execute jobs, it simply queries the Executions table for entries where:</div><ul class="MuiList-root MuiList-padding mui-sedpvs">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><span class="MuiBox-root mui-1vu004u">execution_time</span> is within the next few minutes</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><span class="MuiBox-root mui-1vu004u">status</span> is "PENDING"</div></li>
</ul><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">The worker can then look up the full job details in the Jobs table and execute the task.</div><div class="my-4 flex-col w-full undefined"><div class="MuiBox-root mui-10khgmf" style="cursor: pointer;"><div class="MuiGrid-root MuiGrid-container MuiGrid-direction-xs-column mui-1tdxmx0"><div class="MuiGrid-root MuiGrid-item mui-tolxbf"><div class="relative w-full"><button class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall mui-wksd04" tabindex="0" type="button" aria-label="zoom-in"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ZoomInIcon"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"></path><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"></path></svg><span class="MuiTouchRipple-root mui-w0pj6f"></span></button><div class="w-full"><img class="w-full max-w-full max-h-full" src="https://d248djf5mc6iku.cloudfront.net/excalidraw/cbc27f8ac41d9fa5c36481b0f8adbe8c"></div></div></div></div></div></div><div class="my-6"><div class="MuiBox-root mui-o9fqh4"><div class="MuiBox-root mui-3t6lyr"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-6 h-6 heroicon-sw-2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"></path></svg></div><div class="MuiBox-root mui-79elbk"><div style="overflow: hidden; max-height: 300px;"><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">This simple approach is a great start, but don't stop reading here! We expand on this significantly later in the deep-dives in order to ensure the system is scalable, fault tolerant, and handles job failures gracefully.</div></div></div></div></div><h3 class="MuiTypography-root MuiTypography-h4 mui-hkpafq" id="2-users-should-be-able-monitor-the-status-of-their-jobs">2) Users should be able monitor the status of their jobs.</h3><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">First, the obvious bit, when a job is executed we need to update the status on the Executions table with any of <span class="MuiBox-root mui-1vu004u">COMPLETED</span>, <span class="MuiBox-root mui-1vu004u">FAILED</span>, <span class="MuiBox-root mui-1vu004u">IN_PROGRESS</span>, <span class="MuiBox-root mui-1vu004u">RETRYING</span>, etc.</div><div class="my-4 flex-col w-full undefined"><div class="MuiBox-root mui-10khgmf" style="cursor: pointer;"><div class="MuiGrid-root MuiGrid-container MuiGrid-direction-xs-column mui-1tdxmx0"><div class="MuiGrid-root MuiGrid-item mui-tolxbf"><div class="relative w-full"><button class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall mui-wksd04" tabindex="0" type="button" aria-label="zoom-in"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ZoomInIcon"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"></path><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"></path></svg><span class="MuiTouchRipple-root mui-w0pj6f"></span></button><div class="w-full"><img class="w-full max-w-full max-h-full" src="https://d248djf5mc6iku.cloudfront.net/excalidraw/db853ef40be2c45dcebdb9d98c893b25"></div></div></div></div></div></div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">But how can we query for the status of all jobs for a given user?</div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">With the current design, querying jobs by userId would require an inefficient two-step process:</div><ol style="list-style: outside decimal;">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Query the <span class="MuiBox-root mui-1vu004u">Jobs</span> table to find all job_ids for a user (an inefficient full table scan)</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Query the <span class="MuiBox-root mui-1vu004u">Executions</span> table to find the status of each job</div></li>
</ol><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">To solve this, we'll add a <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://www.hellointerview.com/learn/system-design/deep-dives/dynamodb#secondary-indexes" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Global Secondary Index (GSI)</a> on the <span class="MuiBox-root mui-1vu004u">Executions</span> table:</div><ul class="MuiList-root MuiList-padding mui-sedpvs">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Partition Key: <span class="MuiBox-root mui-1vu004u">user_id</span></div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Sort Key: <span class="MuiBox-root mui-1vu004u">execution_time</span></div></li>
</ul><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">This GSI allows us to efficiently find all executions for a user, sort them by execution time, support pagination, and filter by status if needed. The index provides a fast and scalable way to query execution data from the user's perspective.</div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">The GSI adds some write overhead and cost, but it's a worthwhile trade-off to support efficient user queries without compromising our primary access pattern of finding jobs that need to run soon.</div><div class="my-6"><div class="MuiBox-root mui-1147lff"><div class="MuiBox-root mui-zvu67g"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-6 h-6 heroicon-sw-2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"></path></svg></div><div class="MuiBox-root mui-79elbk"><div style="overflow: hidden; max-height: 300px;"><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">This is a common pattern in DynamoDB (and similar NoSQL databases) where you maintain multiple access patterns through GSIs rather than denormalizing the data. The alternative would be duplicating the user_id in the base table, which would make the data model more complex and harder to maintain.</div></div></div></div></div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Now, users simply need to query the GSI by user_id and get a list of executions sorted by execution_time.</div><h2 class="MuiTypography-root MuiTypography-h3 mui-1rzqq5q" id="potential-deep-dives"><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://www.hellointerview.com/learn/system-design/in-a-hurry/delivery#deep-dives-10-minutes-1" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Potential Deep Dives</a></h2><h3 class="MuiTypography-root MuiTypography-h4 mui-hkpafq" id="1-how-can-we-ensure-the-system-executes-jobs-within-2s-of-their-scheduled-time">1) How can we ensure the system executes jobs within 2s of their scheduled time?</h3><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Our current design has some key limitations that prevent us from executing jobs at the precision we require.</div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">The single, most obvious, limitation is that we are querying the database every few minutes to find jobs that are due for execution. The frequency with which we decide to run our cron that queries for upcoming jobs is naturally the upper bound of how often we can be executing jobs. If we ran the cron every 2 minutes, then a job could be executed as much as 2 minutes early or late.</div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">The next consideration would be to run the cron more frequently. However, to meet our precision requirement, this would mean running it every 2 seconds or less. This won't work for a whole host of reasons.</div><ol style="list-style: outside decimal;">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">With 10k jobs per second, each query would need to fetch and process around 20k jobs (jobs due in the next 2 seconds). This is a large payload to transfer and process frequently.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Even with proper indexing, querying for 20k jobs could take several hundred milliseconds. Add in network latency and serialization time, and we might spend 500ms just getting the job data.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">After retrieving the jobs, we still need time to initialize them, distribute them to workers, and begin execution. This processing overhead further reduces our precision window.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Running such large queries every 2 seconds puts significant load on the database, which could impact other operations and overall system stability.</div></li>
</ol><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">As you can see, this isn't the best idea. Instead, we can get more clever and introduce a two-layered scheduler architecture which marries durability with precision.</div><ol style="list-style: outside decimal;">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Phase 1: Query the database</strong>: Just like in our current design, we will query the <span class="MuiBox-root mui-1vu004u">Executions</span> table for jobs that are due for execution in the next ~5 minutes (leaving some buffer for network latency, etc.).</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Phase 2: Message queue</strong>: We'll take the list of jobs returned by our query and push them to a message queue, ordered by <span class="MuiBox-root mui-1vu004u">execution_time</span>. Workers will then pull jobs from the queue in order and execute the job.</div></li>
</ol><div class="my-4 flex-col w-full undefined"><div class="MuiBox-root mui-10khgmf" style="cursor: pointer;"><div class="MuiGrid-root MuiGrid-container MuiGrid-direction-xs-column mui-1tdxmx0"><div class="MuiGrid-root MuiGrid-item mui-tolxbf"><div class="relative w-full"><button class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall mui-wksd04" tabindex="0" type="button" aria-label="zoom-in"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ZoomInIcon"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"></path><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"></path></svg><span class="MuiTouchRipple-root mui-w0pj6f"></span></button><div class="w-full"><img class="w-full max-w-full max-h-full" src="https://d248djf5mc6iku.cloudfront.net/excalidraw/90ad0c85ce151f3691c1ef9c715b51b7"></div></div></div></div></div></div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">This two-layered approach provides significant advantages by decoupling the database querying from job execution. By running database queries just once every 5 minutes, we reduce database load while maintaining precision through the message queue. The message queue's high throughput and ordering guarantees mean we can execute jobs with sub-second precision, removing the upper bound on execution frequency that existed in our previous design.</div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Okay, we're making progress, but what about new jobs that are created and expected to run in less than 5 minutes? Currently, we'd write this job to the database, but the cron that runs every 5 minutes would never see it. We either missed it entirely, or we'd catch it the next time the cron runs, which could be as much as 5 minutes later.</div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">We could try to put the job directly into the message queue, but this introduces a new problem. Message queues like Kafka process messages in order, so any new job would go to the end of the queue. This means if we have a 5 minute window of jobs in the queue, the new job would wait behind all of them before being processed - even if it's scheduled to run sooner. This would make it impossible to execute the job within our 2 second precision requirement.</div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Instead, we could replace our log-based message queue with a queue system that can handle job prioritization based on execution time. Let's examine our main options:</div><div class="my-6 flex flex-col gap-4"><div class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation0 MuiAccordion-root MuiAccordion-rounded MuiAccordion-gutters mui-nhbct3"><div class="MuiButtonBase-root MuiAccordionSummary-root MuiAccordionSummary-gutters mui-guv1gb" tabindex="0" role="button" aria-expanded="false" aria-controls="panel1bh-content" id="panel1bh-header"><div class="MuiAccordionSummary-content MuiAccordionSummary-contentGutters mui-l0jafl"><p class="MuiTypography-root MuiTypography-body1 mui-h8owmt">Good Solution: Redis Sorted Sets</p></div><div class="MuiAccordionSummary-expandIconWrapper mui-awtdfi"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ExpandMoreIcon"><path d="M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"></path></svg></div></div><div class="MuiCollapse-root MuiCollapse-vertical MuiCollapse-hidden mui-a0y2e3" style="min-height: 0px;"><div class="MuiCollapse-wrapper MuiCollapse-vertical mui-hboir5"><div class="MuiCollapse-wrapperInner MuiCollapse-vertical mui-8atqhb"><div aria-labelledby="panel1bh-header" id="panel1bh-content" role="region" class="MuiAccordion-region"><div class="MuiAccordionDetails-root mui-u7qq7e"><h6 class="MuiTypography-root MuiTypography-body1 mui-1quhbks" id="approach">Approach</h6><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Redis Sorted Sets (ZSET) offer a straightforward way to implement a priority queue, using the execution timestamp as the score for ordering. When a job needs to be scheduled, we can add it to the sorted set with its execution time as the score. Workers can then efficiently query for the next jobs to execute by fetching entries with scores less than the current timestamp.</div><h6 class="MuiTypography-root MuiTypography-body1 mui-1quhbks" id="challenges">Challenges</h6><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">While Redis provides excellent performance characteristics with sub-millisecond latency and atomic operations, it comes with significant operational complexity in a distributed environment. You'll need to implement your own retry logic, handle failure scenarios, and carefully manage Redis replication to avoid single points of failure. The solution can work well at moderate scale, but requires substantial operational expertise and custom code to run reliably in production.</div></div></div></div></div></div></div><div class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation0 MuiAccordion-root MuiAccordion-rounded MuiAccordion-gutters mui-nhbct3"><div class="MuiButtonBase-root MuiAccordionSummary-root MuiAccordionSummary-gutters mui-guv1gb" tabindex="0" role="button" aria-expanded="false" aria-controls="panel1bh-content" id="panel1bh-header"><div class="MuiAccordionSummary-content MuiAccordionSummary-contentGutters mui-l0jafl"><p class="MuiTypography-root MuiTypography-body1 mui-h8owmt">Good Solution: RabbitMQ</p></div><div class="MuiAccordionSummary-expandIconWrapper mui-awtdfi"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ExpandMoreIcon"><path d="M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"></path></svg></div></div><div class="MuiCollapse-root MuiCollapse-vertical MuiCollapse-hidden mui-a0y2e3" style="min-height: 0px;"><div class="MuiCollapse-wrapper MuiCollapse-vertical mui-hboir5"><div class="MuiCollapse-wrapperInner MuiCollapse-vertical mui-8atqhb"><div aria-labelledby="panel1bh-header" id="panel1bh-content" role="region" class="MuiAccordion-region"><div class="MuiAccordionDetails-root mui-u7qq7e"><h6 class="MuiTypography-root MuiTypography-body1 mui-1quhbks" id="approach-1">Approach</h6><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">RabbitMQ provides a robust message queuing system with a delayed message exchange plugin for scheduling. The system handles message persistence out of the box and provides publisher confirms to ensure reliable delivery. Jobs can be scheduled by publishing messages with a delay parameter, and RabbitMQ's clustering capabilities provide high availability.</div><h6 class="MuiTypography-root MuiTypography-body1 mui-1quhbks" id="challenges-1">Challenges</h6><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">While RabbitMQ is a mature message broker, its delayed message functionality is plugin-based rather than native, which can be less reliable at scale. The system requires manual implementation of retry logic and has higher operational overhead than managed solutions. Scaling horizontally requires careful cluster configuration and monitoring, and the delayed message implementation may not be as precise as purpose-built scheduling systems.</div></div></div></div></div></div></div><div class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation0 MuiAccordion-root MuiAccordion-rounded MuiAccordion-gutters mui-11r69q9"><div class="MuiButtonBase-root MuiAccordionSummary-root MuiAccordionSummary-gutters mui-3ujfba" tabindex="0" role="button" aria-expanded="false" aria-controls="panel1bh-content" id="panel1bh-header"><div class="MuiAccordionSummary-content MuiAccordionSummary-contentGutters mui-l0jafl"><p class="MuiTypography-root MuiTypography-body1 mui-h8owmt">Great Solution: Amazon SQS</p></div><div class="MuiAccordionSummary-expandIconWrapper mui-awtdfi"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ExpandMoreIcon"><path d="M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"></path></svg></div></div><div class="MuiCollapse-root MuiCollapse-vertical MuiCollapse-hidden mui-a0y2e3" style="min-height: 0px;"><div class="MuiCollapse-wrapper MuiCollapse-vertical mui-hboir5"><div class="MuiCollapse-wrapperInner MuiCollapse-vertical mui-8atqhb"><div aria-labelledby="panel1bh-header" id="panel1bh-content" role="region" class="MuiAccordion-region"><div class="MuiAccordionDetails-root mui-u7qq7e"><h6 class="MuiTypography-root MuiTypography-body1 mui-1quhbks" id="approach-2">Approach</h6><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Amazon SQS provides a fully managed queue service with native support for delayed message delivery. When scheduling a job, we simply send a message to SQS with a delay value (called a "SQS Delivery Delay"), and SQS handles the rest.</div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">For example, if we want to schedule a job to run in 10 seconds, we can send a message to SQS with a delay of 10 seconds. SQS will then deliver the message to our worker after the delay. Easy as that!</div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">This eliminates the need for managing infrastructure while providing all the features we need out of the box. The delivery delay feature ensures messages remain invisible until their scheduled execution time, while visibility timeouts handle worker failures after messages are consumed. Dead-letter queues capture failed jobs for investigation. High availability is guaranteed across multiple availability zones, and the service scales automatically to handle our load. The native delayed message delivery feature effectively turns SQS into a distributed priority queue, but without the operational complexity of managing it ourselves.</div></div></div></div></div></div></div></div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">For our use case, SQS would be the best choice due to its native support for delayed message delivery (effectively making it a priority queue based on time), automatic handling of worker failures through visibility timeouts, and excellent scaling characteristics for our load of 10k jobs per second.</div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><div class="MuiBox-root mui-10khgmf" style="cursor: pointer;"><div class="MuiGrid-root MuiGrid-container MuiGrid-direction-xs-column mui-1tdxmx0"><div class="MuiGrid-root MuiGrid-item mui-tolxbf"><div class="relative w-full"><button class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall mui-wksd04" tabindex="0" type="button" aria-label="zoom-in"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ZoomInIcon"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"></path><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"></path></svg><span class="MuiTouchRipple-root mui-w0pj6f"></span></button><span class="w-full h-full"><span class="block"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1429.2979326632521 483.6671251290845">
  <!-- svg-source:excalidraw -->
  <!-- payload-type:application/vnd.excalidraw+json --><!-- payload-version:2 -->
  <defs>
    <style class="style-fonts">
      
      
      
    </style>
    
  </defs>
  <rect x="0" y="0" width="1429.2979326632521" height="483.6671251290845" fill="#ffffff"></rect><g stroke-linecap="round" transform="translate(10 59.445063892188045) rotate(0 61.80078125 35.58203125)"><path d="M4.74 4.12 C4.74 4.12, 4.74 4.12, 4.74 4.12 M4.74 4.12 C4.74 4.12, 4.74 4.12, 4.74 4.12 M0.28 21.44 C8.71 11.07, 13.25 6.27, 18.65 0.31 M0.28 21.44 C4.59 16.03, 8.62 11.37, 18.65 0.31 M0.41 33.48 C6.32 25.21, 16.43 15.86, 29.28 0.27 M0.41 33.48 C10.84 22.99, 19.65 10.98, 29.28 0.27 M0.54 45.52 C12.39 31.9, 22.94 21.17, 39.91 0.24 M0.54 45.52 C9.77 34.82, 18.96 24.03, 39.91 0.24 M0.68 57.56 C16.42 39.66, 35.45 18.48, 50.54 0.21 M0.68 57.56 C19.09 36.73, 37.87 14.77, 50.54 0.21 M4.09 65.83 C22.97 44.29, 43.85 21.61, 60.51 0.93 M4.09 65.83 C21.34 45.75, 38.69 27.76, 60.51 0.93 M10.78 70.32 C32.71 44.3, 53.37 21.39, 71.14 0.89 M10.78 70.32 C29.36 49.96, 48.86 29.32, 71.14 0.89 M20.76 71.04 C42.81 43.15, 66.68 13.87, 81.77 0.86 M20.76 71.04 C38.81 48.8, 58.75 26.94, 81.77 0.86 M31.39 71.01 C51.36 47.52, 71.33 26.65, 92.4 0.82 M31.39 71.01 C52.18 48.18, 72.23 26.08, 92.4 0.82 M42.02 70.98 C57.37 52.86, 76.25 30.57, 103.03 0.79 M42.02 70.98 C61.77 48.57, 80.94 28.29, 103.03 0.79 M52.65 70.94 C65.28 57.25, 77.83 41.09, 113 1.51 M52.65 70.94 C67.91 53.39, 82.94 36.47, 113 1.51 M63.28 70.91 C78.63 52.86, 95.52 31.93, 119.7 6 M63.28 70.91 C77.11 56.76, 89.02 41.89, 119.7 6 M73.25 71.63 C90.52 54.03, 105.55 32.86, 123.77 13.51 M73.25 71.63 C87.39 54.79, 102.58 38.04, 123.77 13.51 M83.88 71.59 C99.35 55.2, 115.89 35.05, 123.9 25.55 M83.88 71.59 C96.93 56.88, 108.08 43.31, 123.9 25.55 M94.51 71.56 C101.37 61.4, 110.69 53.37, 123.38 38.35 M94.51 71.56 C102.19 61.38, 110.82 54.09, 123.38 38.35 M105.14 71.52 C110.43 63.9, 117.43 58.41, 123.51 50.39 M105.14 71.52 C110.72 64.76, 116.01 58.53, 123.51 50.39" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M17.79 0 C42.93 -1.18, 72.75 -0.54, 105.81 0 M17.79 0 C44.47 -0.04, 72.08 1.26, 105.81 0 M105.81 0 C118.25 -1.27, 124.82 4.78, 123.6 17.79 M105.81 0 C118.77 1.73, 125.36 3.78, 123.6 17.79 M123.6 17.79 C125.87 29.32, 125.82 41.17, 123.6 53.37 M123.6 17.79 C123.06 24.92, 123.52 31.93, 123.6 53.37 M123.6 53.37 C123.46 64.77, 118.19 72.94, 105.81 71.16 M123.6 53.37 C121.54 65.92, 115.56 71.75, 105.81 71.16 M105.81 71.16 C71.76 71.73, 38.82 73.34, 17.79 71.16 M105.81 71.16 C78.96 72.82, 50.19 71.06, 17.79 71.16 M17.79 71.16 C4.31 71.62, 0.38 65.47, 0 53.37 M17.79 71.16 C7.08 70.22, -0.44 63.18, 0 53.37 M0 53.37 C0.35 43.19, 0.51 35.6, 0 17.79 M0 53.37 C0.63 44.16, 0.54 33.82, 0 17.79 M0 17.79 C1.48 6.58, 4.78 0.75, 17.79 0 M0 17.79 C1.13 6.18, 5.94 -0.21, 17.79 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(49.5888671875 82.52709514218805) rotate(0 22.2119140625 12.5)"><text x="22.2119140625" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">client</text></g><g stroke-linecap="round"><g transform="translate(145.46618824101324 98.02840299157833) rotate(0 43.8671875 0)"><path d="M-0.29 0.04 C14.43 -0.25, 72.98 -0.88, 87.64 -1.05 M1.76 -0.98 C16.37 -1.22, 72.46 -0.21, 86.65 -0.07" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(145.46618824101324 98.02840299157833) rotate(0 43.8671875 0)"><path d="M27.77 -10.58 C21.06 -8.21, 12.38 -5.55, -0.29 0.04 M27.77 -10.58 C22 -8.75, 16.18 -6.36, -0.29 0.04" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(145.46618824101324 98.02840299157833) rotate(0 43.8671875 0)"><path d="M28.03 9.94 C21.14 7.3, 12.39 4.96, -0.29 0.04 M28.03 9.94 C22.04 7.28, 16.16 5.17, -0.29 0.04" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(145.46618824101324 98.02840299157833) rotate(0 43.8671875 0)"><path d="M58.32 9.8 C65.24 7.3, 70.33 4.97, 86.65 -0.07 M58.32 9.8 C64.72 6.86, 71.25 4.76, 86.65 -0.07" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(145.46618824101324 98.02840299157833) rotate(0 43.8671875 0)"><path d="M58.6 -10.72 C65.58 -8.21, 70.6 -5.54, 86.65 -0.07 M58.6 -10.72 C65.12 -9.16, 71.58 -6.77, 86.65 -0.07" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(242.12109375 44.413813892188045) rotate(0 98.697265625 53.470703125)"><path d="M4.03 10.13 C4.03 10.13, 4.03 10.13, 4.03 10.13 M4.03 10.13 C4.03 10.13, 4.03 10.13, 4.03 10.13 M0.88 25.94 C8.98 16.91, 16.26 7.15, 22.53 1.04 M0.88 25.94 C6.85 18.59, 12.34 13.37, 22.53 1.04 M1.02 37.99 C10.76 25.41, 25.89 9.44, 33.82 0.25 M1.02 37.99 C11.88 25.51, 22.82 12.41, 33.82 0.25 M1.15 50.03 C18.48 30.37, 35.41 10.52, 44.45 0.22 M1.15 50.03 C16.96 31.6, 32.99 14.81, 44.45 0.22 M1.28 62.07 C14.5 45.13, 29.67 29.42, 55.08 0.18 M1.28 62.07 C19.77 39.6, 39.88 18.07, 55.08 0.18 M1.42 74.11 C23.6 49.03, 44.16 24.69, 65.71 0.15 M1.42 74.11 C26.41 47.07, 48.91 19.12, 65.71 0.15 M0.89 86.9 C17.55 65.57, 38.33 46.5, 76.34 0.11 M0.89 86.9 C28.34 53.06, 56.75 20.29, 76.34 0.11 M3.65 95.93 C20.04 75.02, 36.09 57.64, 86.97 0.08 M3.65 95.93 C25.62 70.92, 47.14 45.75, 86.97 0.08 M9.03 101.93 C37.45 70.43, 66.21 37.75, 97.6 0.04 M9.03 101.93 C43.89 60.98, 79.09 22.17, 97.6 0.04 M16.38 105.67 C38.94 81.67, 59.41 56.86, 108.23 0.01 M16.38 105.67 C53.27 63.17, 90.85 20.84, 108.23 0.01 M25.7 107.14 C55.05 73.62, 84.21 39.75, 118.86 -0.03 M25.7 107.14 C53.13 73.28, 82.63 40.78, 118.86 -0.03 M36.33 107.11 C63.43 78.37, 91.22 46.04, 128.84 0.69 M36.33 107.11 C69.02 68.43, 103.39 29.24, 128.84 0.69 M46.96 107.07 C74.24 75.1, 101 45.26, 139.47 0.66 M46.96 107.07 C75.94 72, 107.76 37.22, 139.47 0.66 M57.59 107.04 C84.61 75.99, 112.34 41.14, 150.1 0.63 M57.59 107.04 C89.23 69.22, 121.65 32.67, 150.1 0.63 M68.22 107 C102.49 68.27, 132.71 31.68, 160.73 0.59 M68.22 107 C104.89 65.03, 140.57 23.37, 160.73 0.59 M78.85 106.97 C115.41 64.75, 151.21 21.86, 171.36 0.56 M78.85 106.97 C112.48 67.81, 146.75 29.58, 171.36 0.56 M89.48 106.94 C116.1 79.35, 138.67 52.28, 180.67 2.03 M89.48 106.94 C118.75 70.72, 149.18 37.35, 180.67 2.03 M100.11 106.9 C119.49 88.21, 137.57 65.24, 188.68 5.02 M100.11 106.9 C119.02 83.51, 137.68 62, 188.68 5.02 M110.74 106.87 C129.88 88.22, 147.1 65.5, 194.06 11.02 M110.74 106.87 C133.43 79.94, 157.88 52.66, 194.06 11.02 M121.37 106.83 C146.37 78.52, 169.75 53.43, 196.82 20.04 M121.37 106.83 C148.19 76.38, 173.56 47.57, 196.82 20.04 M132 106.8 C145.93 90.47, 160.57 72.7, 197.61 31.33 M132 106.8 C151.07 84.6, 171.48 62.74, 197.61 31.33 M141.98 107.52 C157.13 90.36, 172.76 73.67, 197.74 43.37 M141.98 107.52 C161.66 84.21, 180.63 61.13, 197.74 43.37 M152.61 107.48 C169.48 89.93, 186.63 69.63, 197.87 55.41 M152.61 107.48 C167.76 88.8, 183.5 71.52, 197.87 55.41 M163.24 107.45 C176.32 93.19, 185.17 80.81, 198.01 67.45 M163.24 107.45 C174.51 95.41, 184.56 81.93, 198.01 67.45 M174.52 106.66 C183.31 96.14, 191.03 87.72, 197.48 80.24 M174.52 106.66 C180.8 99.15, 187.92 92.35, 197.48 80.24" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M26.74 0 C64.71 0.03, 104.57 1.78, 170.66 0 M26.74 0 C77.59 0.34, 127.7 1.66, 170.66 0 M170.66 0 C190.01 -1.87, 198.09 10.79, 197.39 26.74 M170.66 0 C188.3 2.22, 196.95 11.07, 197.39 26.74 M197.39 26.74 C195.21 39.9, 196.4 55.69, 197.39 80.21 M197.39 26.74 C197.62 40.43, 196.46 52.66, 197.39 80.21 M197.39 80.21 C195.56 98.54, 190.01 108.78, 170.66 106.94 M197.39 80.21 C198.46 96.95, 188.67 106.05, 170.66 106.94 M170.66 106.94 C116.36 107.78, 60.87 105.74, 26.74 106.94 M170.66 106.94 C138.99 107.39, 107.45 106.86, 26.74 106.94 M26.74 106.94 C8.53 105.16, -0.64 98.26, 0 80.21 M26.74 106.94 C7.5 107.39, -0.73 98.67, 0 80.21 M0 80.21 C0 61.57, 1.65 41.81, 0 26.74 M0 80.21 C-0.97 62.29, 0.1 43.74, 0 26.74 M0 26.74 C0.01 8.73, 8.6 0.34, 26.74 0 M0 26.74 C-1.09 10.11, 8.93 2.23, 26.74 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(271.677734375 85.38451701718805) rotate(0 69.140625 12.5)"><text x="69.140625" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Schedule Service</text></g><g stroke-linecap="round"><g transform="translate(446.89454957081125 97.17293424157833) rotate(0 37.94921875 -0.435546875)"><path d="M1 0.59 C13.72 0.48, 63.64 -1.28, 76.24 -1.63 M0.07 -0.15 C12.66 -0.03, 62.78 -0.42, 75.48 -0.5" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(446.89454957081125 97.17293424157833) rotate(0 37.94921875 -0.435546875)"><path d="M28.89 -10.48 C21.53 -6.39, 11.03 -2.48, 1 0.59 M28.89 -10.48 C22.94 -8.52, 15.76 -3.96, 1 0.59" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(446.89454957081125 97.17293424157833) rotate(0 37.94921875 -0.435546875)"><path d="M29.48 10.04 C22.12 8.06, 11.44 5.91, 1 0.59 M29.48 10.04 C23.29 7.02, 15.97 6.61, 1 0.59" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(446.89454957081125 97.17293424157833) rotate(0 37.94921875 -0.435546875)"><path d="M47.36 9.95 C56.74 7.2, 62.81 4.76, 75.48 -0.5 M47.36 9.95 C54.89 6.27, 61.3 5.61, 75.48 -0.5" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(446.89454957081125 97.17293424157833) rotate(0 37.94921875 -0.435546875)"><path d="M47.22 -10.57 C56.48 -7.25, 62.58 -3.63, 75.48 -0.5 M47.22 -10.57 C54.89 -9.27, 61.32 -4.95, 75.48 -0.5" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(537.2170317057262 10) rotate(0 89.47739173275392 87.55859375)"><path d="M21.6 32.03 C21.6 32.03, 21.6 32.03, 21.6 32.03 M21.6 32.03 C21.6 32.03, 21.6 32.03, 21.6 32.03 M4.68 63.69 C19.64 45.25, 38.08 28.69, 51.91 9.35 M4.68 63.69 C14.66 52.94, 24.2 40.37, 51.91 9.35 M2.84 78 C24.85 53.08, 46.38 27.72, 65.17 6.3 M2.84 78 C24.46 53.85, 44.42 31.01, 65.17 6.3 M1.01 92.3 C23.48 68.58, 43.7 43.67, 79.08 2.49 M1.01 92.3 C20.28 69.06, 40.27 44.99, 79.08 2.49 M3.76 101.32 C22.33 82.08, 38.78 59.2, 89.71 2.46 M3.76 101.32 C25.12 76.67, 45.23 52.2, 89.71 2.46 M6.52 110.35 C35.26 80.38, 58.22 50.98, 99.68 3.18 M6.52 110.35 C38.15 74.12, 69.19 37.28, 99.68 3.18 M9.28 119.37 C37.62 89.27, 63.99 55.9, 109.66 3.9 M9.28 119.37 C30.12 95.52, 53.19 70.42, 109.66 3.9 M12.04 128.39 C36.38 100.3, 60.93 71.76, 118.32 6.13 M12.04 128.39 C46.14 90.03, 78.51 51.58, 118.32 6.13 M16.76 135.15 C56 90.9, 93.18 48.33, 125.67 9.87 M16.76 135.15 C41.6 104.51, 67.85 74.36, 125.67 9.87 M22.14 141.15 C61.75 96.24, 97.64 54.3, 133.02 13.6 M22.14 141.15 C53.01 104.96, 84.07 68.94, 133.02 13.6 M26.87 147.91 C61.46 108.83, 97.4 68.12, 140.37 17.34 M26.87 147.91 C54.33 115.26, 82.13 83.36, 140.37 17.34 M31.59 154.67 C72.53 109.15, 113.81 61.28, 147.06 21.84 M31.59 154.67 C70.85 108.52, 111.27 62.28, 147.06 21.84 M38.94 158.41 C66.43 129.35, 92.25 95.3, 152.44 27.84 M38.94 158.41 C68.13 123.68, 99.18 88.28, 152.44 27.84 M45.64 162.9 C89.97 114.12, 132.01 63.8, 157.82 33.84 M45.64 162.9 C71.32 134.6, 96.41 106.89, 157.82 33.84 M52.99 166.64 C89.64 128.14, 120.06 89.94, 163.21 39.85 M52.99 166.64 C79.93 137.36, 104.85 107.56, 163.21 39.85 M60.34 170.38 C90.19 137.92, 116.83 104.94, 168.59 45.85 M60.34 170.38 C82.72 143.48, 105.53 118.22, 168.59 45.85 M69.66 171.85 C99.34 139.64, 129.11 104.6, 172 54.12 M69.66 171.85 C89.19 147.76, 110.61 124.49, 172 54.12 M79.63 172.57 C113.23 133.14, 152.11 90.28, 174.76 63.14 M79.63 172.57 C104.22 142.68, 130.63 115.38, 174.76 63.14 M88.95 174.05 C123.61 134.19, 160.24 92.08, 177.52 72.16 M88.95 174.05 C117.51 140.4, 145.78 107.54, 177.52 72.16 M99.58 174.01 C120.34 150.44, 141.29 129.6, 179.62 81.94 M99.58 174.01 C122.09 145.76, 147.2 118.3, 179.62 81.94 M113.49 170.2 C134.2 147.02, 153.83 122.28, 178.44 95.49 M113.49 170.2 C130.79 148.84, 149.95 128.23, 178.44 95.49 M128.05 165.64 C145.16 148.63, 159.92 128.86, 176.6 109.79 M128.05 165.64 C142.36 150.44, 154.21 135.61, 176.6 109.79 M155.09 146.74 C156.15 145.61, 157.14 144.5, 157.71 143.72 M155.09 146.74 C155.74 146.05, 156.27 145.53, 157.71 143.72" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M117.11 4.81 C127.81 6.69, 137.27 13.78, 146.04 20.82 C154.82 27.86, 164.19 37.21, 169.78 47.03 C175.37 56.85, 178.58 68.61, 179.58 79.71 C180.57 90.82, 179.5 102.82, 175.76 113.65 C172.01 124.48, 164.74 136.24, 157.11 144.69 C149.47 153.14, 139.97 159.41, 129.96 164.36 C119.95 169.32, 108.38 173.29, 97.05 174.4 C85.72 175.5, 72.87 174.25, 61.99 171 C51.1 167.75, 40.24 162.22, 31.75 154.9 C23.25 147.59, 16.19 137.21, 11.01 127.11 C5.82 117.01, 1.74 105.14, 0.64 94.29 C-0.46 83.44, 0.86 72.43, 4.39 62.01 C7.92 51.59, 14.62 40.43, 21.84 31.76 C29.05 23.08, 37.77 15.07, 47.67 9.98 C57.58 4.89, 69.17 2.11, 81.27 1.22 C93.37 0.32, 113.16 3.29, 120.26 4.62 C127.37 5.96, 124.26 7.75, 123.89 9.22 M55.47 6.86 C65.29 1.39, 78.86 -0.36, 90.17 -0.62 C101.49 -0.88, 113.04 0.91, 123.38 5.31 C133.73 9.71, 144.26 17.61, 152.23 25.78 C160.2 33.95, 166.83 43.94, 171.2 54.3 C175.57 64.65, 178.15 76.85, 178.48 87.92 C178.8 98.99, 177.55 110.49, 173.15 120.73 C168.76 130.97, 160.2 141.22, 152.09 149.36 C143.97 157.51, 134.8 165.19, 124.47 169.59 C114.14 173.99, 101.44 175.85, 90.09 175.75 C78.75 175.64, 67.18 173.24, 56.39 168.96 C45.61 164.68, 33.52 158.02, 25.38 150.07 C17.25 142.12, 11.8 131.71, 7.57 121.28 C3.34 110.84, 0.18 98.62, 0.01 87.47 C-0.16 76.32, 2.32 64.52, 6.56 54.36 C10.8 44.19, 17.35 34.17, 25.46 26.46 C33.57 18.76, 50.25 11.38, 55.2 8.14 C60.14 4.89, 54.73 6.04, 55.12 6.99" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(571.9341186063647 72.64531835821694) rotate(0 54.990234375 25.000000000000014)"><text x="54.990234375" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Job Store</text><text x="54.990234375" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">(DynamoDB)</text></g><g transform="translate(747.7819646675653 14.64722889506811) rotate(0 49.43994903564453 75)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Jobs</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- id</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- userId</text><text x="0" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- taskId</text><text x="0" y="100" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- params</text><text x="0" y="125" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- schedule</text></g><g transform="translate(882.2279653071218 14.885596198811982) rotate(0 52.00994873046875 75)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Executions</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- time</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- jobId</text><text x="0" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- userId</text><text x="0" y="100" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- status</text><text x="0" y="125" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- attempt</text></g><g stroke-linecap="round"><g transform="translate(628.8957415234636 196.62938991246665) rotate(0 0.9476839926498997 58.65029357750063)"><path d="M0.42 1.13 C0.56 21.06, 1.59 98.91, 1.8 118.46 M-0.82 0.68 C-0.92 20.4, 0.53 97.61, 0.8 116.94" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(628.8957415234636 196.62938991246665) rotate(0 0.9476839926498997 58.65029357750063)"><path d="M11.01 29.2 C9.16 18.5, 5.22 7.71, 0.42 1.13 M11.01 29.2 C7.76 17.19, 1.87 6.73, 0.42 1.13" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(628.8957415234636 196.62938991246665) rotate(0 0.9476839926498997 58.65029357750063)"><path d="M-9.51 29.44 C-3.63 18.58, 0.16 7.7, 0.42 1.13 M-9.51 29.44 C-4.68 17.53, -2.48 6.97, 0.42 1.13" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(628.8957415234636 196.62938991246665) rotate(0 0.9476839926498997 58.65029357750063)"><path d="M-9.92 88.92 C-4.26 99.28, -0.18 109.6, 0.8 116.94 M-9.92 88.92 C-4.89 99.22, -2.38 110.85, 0.8 116.94" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(628.8957415234636 196.62938991246665) rotate(0 0.9476839926498997 58.65029357750063)"><path d="M10.6 88.59 C8.53 99.14, 4.88 109.59, 0.8 116.94 M10.6 88.59 C7.54 98.82, 1.96 110.59, 0.8 116.94" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(504.77407089811095 324.5931155123908) rotate(0 125.576171875 63.78515625)"><path d="M4.79 12.11 C4.79 12.11, 4.79 12.11, 4.79 12.11 M4.79 12.11 C4.79 12.11, 4.79 12.11, 4.79 12.11 M0.33 29.43 C10.62 18.16, 18.13 9.73, 25.26 0.76 M0.33 29.43 C8.06 20.06, 17.23 10.38, 25.26 0.76 M0.46 41.48 C12.86 26.88, 24.98 15.31, 36.54 -0.03 M0.46 41.48 C11.57 30.27, 21.09 17.99, 36.54 -0.03 M0.59 53.52 C12.47 40.36, 22.07 31.48, 46.52 0.69 M0.59 53.52 C13.5 39.75, 25.73 25.57, 46.52 0.69 M0.73 65.56 C11.65 52.23, 26.71 38.3, 57.15 0.65 M0.73 65.56 C10.62 52.64, 22.4 39.14, 57.15 0.65 M0.86 77.6 C17.36 61.79, 33.72 44.44, 67.78 0.62 M0.86 77.6 C23.6 51.03, 45.57 25.85, 67.78 0.62 M0.34 90.39 C26.36 60.59, 53.2 29.79, 78.41 0.58 M0.34 90.39 C20.43 66.9, 41.86 43.01, 78.41 0.58 M0.47 102.43 C21.77 78.88, 44.53 52.97, 89.04 0.55 M0.47 102.43 C34.03 65.45, 65.58 27.33, 89.04 0.55 M3.23 111.46 C23.73 87.28, 48.42 59.37, 99.67 0.51 M3.23 111.46 C37.1 73.45, 69.37 35.79, 99.67 0.51 M7.95 118.21 C35.33 86.14, 63.95 54.27, 110.3 0.48 M7.95 118.21 C50.08 71.36, 90.08 24.4, 110.3 0.48 M13.99 123.46 C40.27 93.32, 65.1 66.21, 120.93 0.45 M13.99 123.46 C57.28 74.04, 98.52 25.84, 120.93 0.45 M22 126.45 C53.73 90.47, 85.69 56.25, 131.56 0.41 M22 126.45 C52.61 93.24, 80.86 59.89, 131.56 0.41 M31.31 127.92 C72.02 78.59, 114.85 32.38, 142.19 0.38 M31.31 127.92 C65.7 89.38, 100.51 50.45, 142.19 0.38 M41.94 127.89 C83.03 79.25, 130.23 28.71, 152.82 0.34 M41.94 127.89 C66.86 98.44, 93.73 69.2, 152.82 0.34 M52.57 127.85 C83.98 89.94, 116.7 55.01, 163.45 0.31 M52.57 127.85 C82.33 95, 110.61 61.4, 163.45 0.31 M63.2 127.82 C86.98 99.91, 112.54 72.2, 174.08 0.27 M63.2 127.82 C104.21 82.42, 143.65 35.48, 174.08 0.27 M73.83 127.78 C103.94 92.37, 129.92 61.17, 184.71 0.24 M73.83 127.78 C112.44 83.29, 151.72 36.41, 184.71 0.24 M84.47 127.75 C125.42 79.02, 165.14 33.3, 195.34 0.2 M84.47 127.75 C123.45 83.83, 160.72 40.2, 195.34 0.2 M95.1 127.72 C120.95 99.59, 148.28 67.55, 205.97 0.17 M95.1 127.72 C138.37 78.01, 181 26.39, 205.97 0.17 M105.07 128.44 C144.02 82.68, 182.77 39.47, 216.6 0.13 M105.07 128.44 C132.94 98.11, 158.78 66.61, 216.6 0.13 M115.7 128.4 C157.57 81.73, 199.74 34.58, 226.57 0.86 M115.7 128.4 C147.37 90.67, 181.65 53.1, 226.57 0.86 M126.33 128.37 C151.83 99.08, 176.12 70.81, 235.24 3.08 M126.33 128.37 C166.02 83.69, 205.55 38.78, 235.24 3.08 M136.96 128.33 C164.83 94.25, 195.02 63.26, 241.93 7.58 M136.96 128.33 C165.15 93.77, 194.99 60.67, 241.93 7.58 M147.59 128.3 C168.22 104.67, 188.64 82.87, 247.31 13.58 M147.59 128.3 C168.6 105.51, 188.15 81.44, 247.31 13.58 M158.22 128.26 C176.46 106.87, 195.25 82.12, 250.07 22.6 M158.22 128.26 C182.83 98.93, 209.83 68.96, 250.07 22.6 M168.85 128.23 C189.79 105.93, 208.99 81.72, 250.86 33.89 M168.85 128.23 C192.45 102.67, 216.48 74.29, 250.86 33.89 M179.48 128.19 C198.32 107.45, 214.08 84.64, 250.99 45.93 M179.48 128.19 C204.13 101.98, 228.74 73.33, 250.99 45.93 M190.11 128.16 C202.92 113.03, 216.45 96.4, 251.12 57.97 M190.11 128.16 C208.73 105.74, 229.2 83.43, 251.12 57.97 M200.74 128.13 C216.87 106.41, 236 87, 251.26 70.01 M200.74 128.13 C210.4 117.48, 222.03 104.28, 251.26 70.01 M211.37 128.09 C224.89 112.27, 237.73 96.24, 251.39 82.05 M211.37 128.09 C220.31 117.36, 230.61 104.74, 251.39 82.05 M222.66 127.3 C228.03 120.81, 236.05 111.08, 251.52 94.09 M222.66 127.3 C232.82 116.3, 242.78 103.73, 251.52 94.09 M235.25 125 C237.47 120.5, 240.79 117.31, 249.69 108.4 M235.25 125 C237.47 121.39, 241.45 117.09, 249.69 108.4" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M31.89 0 C96.54 -0.24, 159.22 -0.29, 219.26 0 M31.89 0 C69.87 1.34, 109.17 0.98, 219.26 0 M219.26 0 C240.38 -0.46, 251.67 12.41, 251.15 31.89 M219.26 0 C238.46 0.68, 249.04 11.22, 251.15 31.89 M251.15 31.89 C250.8 56.05, 250.97 81.64, 251.15 95.68 M251.15 31.89 C251.63 52.97, 250.61 71.32, 251.15 95.68 M251.15 95.68 C249.53 117.39, 240.9 127.81, 219.26 127.57 M251.15 95.68 C252.3 115.99, 240.08 125.52, 219.26 127.57 M219.26 127.57 C169.39 125.78, 119.29 127.74, 31.89 127.57 M219.26 127.57 C167.13 128.25, 114.45 127.9, 31.89 127.57 M31.89 127.57 C12.11 128.22, -1.15 117.69, 0 95.68 M31.89 127.57 C11.76 127.82, 0.01 116.72, 0 95.68 M0 95.68 C0.93 77.54, 1.83 58.37, 0 31.89 M0 95.68 C-0.02 82.17, -0.48 69.22, 0 31.89 M0 31.89 C-1.44 12.54, 10.32 0.8, 31.89 0 M0 31.89 C1.31 8.4, 8.81 1.85, 31.89 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(512.025047460611 350.8782717623908) rotate(0 118.3251953125 37.5)"><text x="118.3251953125" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Watcher</text><text x="118.3251953125" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- polls for Jobs that should be</text><text x="118.3251953125" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">executed soon</text></g><g stroke-linecap="round"><g transform="translate(776.5830889132521 384.4140537650128) rotate(0 36.28125 -0.10546875)"><path d="M-0.26 -1.11 C12.04 -1.51, 61.63 -1.33, 73.6 -1.23 M1.8 0.92 C14.05 1.15, 61.18 -0.18, 73.19 -0.22" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(776.5830889132521 384.4140537650128) rotate(0 36.28125 -0.10546875)"><path d="M45.18 10.51 C51.09 9.29, 59.11 2.85, 73.19 -0.22 M45.18 10.51 C52.86 7.5, 60.89 5.66, 73.19 -0.22" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(776.5830889132521 384.4140537650128) rotate(0 36.28125 -0.10546875)"><path d="M44.83 -10.01 C51.03 -5.47, 59.15 -6.15, 73.19 -0.22 M44.83 -10.01 C52.53 -7.38, 60.66 -3.56, 73.19 -0.22" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(858.9868599592992 342.0390537650128) rotate(0 128.51953125 42.5)"><path d="M3.19 8.07 C3.19 8.07, 3.19 8.07, 3.19 8.07 M3.19 8.07 C3.19 8.07, 3.19 8.07, 3.19 8.07 M0.7 23.13 C6.92 15.98, 11.8 11.79, 20.38 0.49 M0.7 23.13 C5.2 17.98, 9.59 12.69, 20.38 0.49 M0.83 35.17 C10.05 24.82, 22.55 11.14, 31.01 0.46 M0.83 35.17 C11.63 22.9, 22.98 9.5, 31.01 0.46 M0.96 47.21 C14.29 31.92, 29.67 15.57, 41.64 0.42 M0.96 47.21 C13.36 32.56, 26 19.99, 41.64 0.42 M1.1 59.25 C19.79 36.91, 37.33 17.6, 52.27 0.39 M1.1 59.25 C16.8 42.02, 33.5 24.61, 52.27 0.39 M1.23 71.29 C23.54 43.11, 47.67 13.52, 62.9 0.35 M1.23 71.29 C19.48 48.81, 39.63 26.72, 62.9 0.35 M5.3 78.81 C27.6 52.67, 49.88 29.14, 73.53 0.32 M5.3 78.81 C28.5 53.26, 50.9 28.46, 73.53 0.32 M11.99 83.3 C30.37 61.59, 52.35 35.73, 84.16 0.28 M11.99 83.3 C35.3 56.89, 57.92 32.63, 84.16 0.28 M20.65 85.53 C36.25 68.43, 51.81 48.8, 94.79 0.25 M20.65 85.53 C39.4 64.06, 57.87 43.18, 94.79 0.25 M31.28 85.5 C51.78 61.44, 74 34.38, 105.42 0.21 M31.28 85.5 C49.3 66.7, 65.25 47.18, 105.42 0.21 M41.91 85.46 C66.8 58.88, 89.69 28.67, 116.05 0.18 M41.91 85.46 C62.95 60.69, 85 36.04, 116.05 0.18 M52.54 85.43 C81.76 53.53, 111.91 17.72, 126.68 0.14 M52.54 85.43 C76.03 58.52, 97.88 32.63, 126.68 0.14 M63.17 85.39 C83.29 60.21, 105.9 36.89, 137.31 0.11 M63.17 85.39 C82.83 60.67, 103.9 39.06, 137.31 0.11 M73.8 85.36 C99.05 54.85, 125.59 26.89, 147.94 0.08 M73.8 85.36 C97.4 57.83, 120.6 30.98, 147.94 0.08 M84.44 85.32 C103.22 63.11, 124.28 38.42, 157.91 0.8 M84.44 85.32 C102.36 64.6, 120.25 44.86, 157.91 0.8 M95.07 85.29 C120.05 54.22, 150.09 20.15, 168.54 0.76 M95.07 85.29 C119.34 58.92, 141.35 30.57, 168.54 0.76 M105.7 85.25 C133.12 50.82, 163.77 17.25, 179.17 0.73 M105.7 85.25 C122.47 66.46, 137.49 47.1, 179.17 0.73 M116.33 85.22 C140.8 59.04, 164.21 30.1, 189.8 0.69 M116.33 85.22 C136.19 62.09, 157.38 39.72, 189.8 0.69 M126.3 85.94 C147.37 61.03, 171.07 33.1, 200.43 0.66 M126.3 85.94 C147.11 61.89, 167.46 37.7, 200.43 0.66 M136.93 85.91 C160.63 60.35, 185.29 31.19, 211.06 0.62 M136.93 85.91 C156.55 63.21, 176.84 40.65, 211.06 0.62 M147.56 85.87 C175.71 51.01, 204.31 21, 221.69 0.59 M147.56 85.87 C169.72 62.08, 190.06 37.71, 221.69 0.59 M158.19 85.84 C177.08 62.15, 198.75 38.76, 232.32 0.55 M158.19 85.84 C180.21 58.93, 203.05 33.32, 232.32 0.55 M168.82 85.8 C199.15 51.36, 226.58 18.91, 242.3 1.27 M168.82 85.8 C190.67 60.64, 212.91 35.42, 242.3 1.27 M179.45 85.77 C207.81 54.74, 237.25 20.74, 250.3 4.26 M179.45 85.77 C199.78 62.36, 220.05 39.36, 250.3 4.26 M190.08 85.73 C203.14 68.34, 216.59 55.91, 254.37 11.77 M190.08 85.73 C204.09 71.44, 216.92 56.23, 254.37 11.77 M200.71 85.7 C215.19 66.11, 234.58 48.6, 257.13 20.79 M200.71 85.7 C213.31 72.76, 224.31 58.37, 257.13 20.79 M211.34 85.66 C220.72 73.43, 234.71 62.16, 257.26 32.83 M211.34 85.66 C225.86 70.32, 238.61 55.25, 257.26 32.83 M221.97 85.63 C230.13 74.46, 238.67 66.67, 257.4 44.88 M221.97 85.63 C236.39 68.8, 249.25 53.49, 257.4 44.88 M232.6 85.6 C237.23 77.77, 246.46 73.5, 257.53 56.92 M232.6 85.6 C239.26 77.83, 245.78 69.72, 257.53 56.92 M244.54 84.05 C247.18 77.82, 253.59 73.64, 257.01 69.71 M244.54 84.05 C248.66 78.97, 252.84 75.17, 257.01 69.71" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M21.25 0 C79.4 -3.11, 140.07 -2.29, 235.79 0 M21.25 0 C72.88 1.21, 123.27 0.7, 235.79 0 M235.79 0 C248.12 0.51, 258.56 8.92, 257.04 21.25 M235.79 0 C251.02 -1.08, 257.22 6.2, 257.04 21.25 M257.04 21.25 C258.66 39.55, 259.04 54, 257.04 63.75 M257.04 21.25 C256.88 30.78, 257.19 39.65, 257.04 63.75 M257.04 63.75 C256.65 76.13, 249.32 85.23, 235.79 85 M257.04 63.75 C255.62 78.37, 249.22 85.64, 235.79 85 M235.79 85 C157.18 84.95, 80.09 84.79, 21.25 85 M235.79 85 C161.9 85.94, 89.46 85.71, 21.25 85 M21.25 85 C7.09 84.81, -0.31 78.26, 0 63.75 M21.25 85 C6 86.2, 0.02 80.14, 0 63.75 M0 63.75 C-0.91 52.17, 0.43 40.65, 0 21.25 M0 63.75 C0.15 48.8, 0.88 32.07, 0 21.25 M0 21.25 C-1.58 8.69, 5.63 1.57, 21.25 0 M0 21.25 C-0.38 7.79, 5.62 0.38, 21.25 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(896.4126412092992 372.0390537650128) rotate(0 91.09375 12.5)"><text x="91.09375" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Message Queue (SQS)</text></g><g stroke-linecap="round" transform="translate(1275.0987139132521 309.9804600150128) rotate(0 72.099609375 68.462890625)"><path d="M7.86 8.16 C7.86 8.16, 7.86 8.16, 7.86 8.16 M7.86 8.16 C7.86 8.16, 7.86 8.16, 7.86 8.16 M1.43 27.75 C6.45 20.99, 14.17 13, 24.4 1.33 M1.43 27.75 C9.73 18.55, 17.51 9.22, 24.4 1.33 M0.91 40.54 C14.92 24.42, 26.29 9.51, 36.34 -0.21 M0.91 40.54 C15.47 24.25, 28.23 8.32, 36.34 -0.21 M1.04 52.58 C16.52 32.86, 32.25 16.34, 46.31 0.51 M1.04 52.58 C12.03 38.88, 23.32 27.84, 46.31 0.51 M1.18 64.62 C12.65 50.11, 22.42 37.53, 56.94 0.47 M1.18 64.62 C19.7 43.78, 36.7 21.71, 56.94 0.47 M1.31 76.67 C20.97 56.64, 39.28 32.88, 67.57 0.44 M1.31 76.67 C18.61 56.68, 35.73 37.3, 67.57 0.44 M1.44 88.71 C20.61 65.48, 39.09 45.78, 78.2 0.41 M1.44 88.71 C24.43 61.46, 48.45 32.89, 78.2 0.41 M0.92 101.5 C33.78 62.56, 67.23 26.73, 88.83 0.37 M0.92 101.5 C21.67 75.53, 44.2 49.46, 88.83 0.37 M1.05 113.54 C36.27 71.81, 72.37 31.35, 99.46 0.34 M1.05 113.54 C26.87 84.86, 51.86 53.75, 99.46 0.34 M3.81 122.56 C40.69 78.1, 79.67 37.18, 110.09 0.3 M3.81 122.56 C43.48 78.26, 81.68 33.2, 110.09 0.3 M8.54 129.32 C51.38 80.3, 94.45 30.37, 120.07 1.02 M8.54 129.32 C44.81 88.23, 78.5 47.82, 120.07 1.02 M15.23 133.82 C59.54 84.62, 102.57 34.25, 128.07 4.01 M15.23 133.82 C45.25 99.62, 74.06 65.03, 128.07 4.01 M23.89 136.05 C54.14 102.44, 85.89 65.87, 135.42 7.75 M23.89 136.05 C46.86 107.4, 70.51 80.49, 135.42 7.75 M33.87 136.77 C66.15 99.35, 97.71 62.8, 140.15 14.5 M33.87 136.77 C67.52 98.07, 100.25 59.95, 140.15 14.5 M44.5 136.73 C77.25 96.98, 113.69 59.59, 142.91 23.53 M44.5 136.73 C74.14 103.49, 102.54 68.25, 142.91 23.53 M55.13 136.7 C84.12 103.51, 114.43 72.46, 144.35 34.06 M55.13 136.7 C91.16 98.01, 125.27 57.08, 144.35 34.06 M65.76 136.66 C82.4 117.19, 103.63 96.27, 144.48 46.1 M65.76 136.66 C92.8 106.81, 118.56 76.26, 144.48 46.1 M76.39 136.63 C101.27 106.07, 127.85 77.09, 144.62 58.14 M76.39 136.63 C95.76 114.24, 116.81 90.19, 144.62 58.14 M86.36 137.35 C105.81 115.37, 126.02 91.41, 144.09 70.93 M86.36 137.35 C103.97 117.1, 120.63 97.82, 144.09 70.93 M96.99 137.31 C113.71 118.77, 131.71 97.77, 144.23 82.97 M96.99 137.31 C112.64 119.59, 127.11 101.95, 144.23 82.97 M107.62 137.28 C115.29 126.53, 123.86 119.94, 144.36 95.02 M107.62 137.28 C120.61 122.67, 133.55 106.32, 144.36 95.02 M118.91 136.49 C126.47 127.53, 135.67 117.96, 143.84 107.81 M118.91 136.49 C126.94 128.3, 133.63 120.98, 143.84 107.81 M134.79 130.42 C136.32 127.89, 138.13 126.33, 140.03 124.38 M134.79 130.42 C136.78 128.2, 138.01 126.64, 140.03 124.38" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M32 0 C48.03 0.16, 66.02 0.83, 112.2 0 M32 0 C62.26 0.02, 95.12 0.68, 112.2 0 M112.2 0 C134.46 -0.94, 144.36 9.89, 144.2 32 M112.2 0 C135.56 0.35, 142.66 12.46, 144.2 32 M144.2 32 C143.33 58.84, 145.36 89.29, 144.2 104.93 M144.2 32 C144.37 53.85, 144.25 77.6, 144.2 104.93 M144.2 104.93 C142.97 126.65, 132.9 137.48, 112.2 136.93 M144.2 104.93 C145.72 125.82, 132.46 136.81, 112.2 136.93 M112.2 136.93 C85.22 138.7, 57.21 136.08, 32 136.93 M112.2 136.93 C85.15 136.92, 57.93 137.18, 32 136.93 M32 136.93 C9.72 137.97, 0.01 128.2, 0 104.93 M32 136.93 C9.51 134.91, -1.66 124.79, 0 104.93 M0 104.93 C1.21 85.13, 1.89 67.91, 0 32 M0 104.93 C-1.21 80.93, -1.14 56.1, 0 32 M0 32 C-0.33 11.28, 9.39 0.33, 32 0 M0 32 C-1.15 10.21, 12.75 1.17, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1288.3360186007521 353.4433506400128) rotate(0 58.8623046875 25)"><text x="58.8623046875" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Worker</text><text x="58.8623046875" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- execute tasks</text></g><g stroke-linecap="round"><g transform="translate(1264.6729326632521 383.4687412650128) rotate(0 -70.70827072697625 -0.29084560296348627)"><path d="M0.31 1.06 C-23.42 1.07, -118.69 0, -142.49 -0.23 M-0.98 0.58 C-24.35 0.24, -117.14 -2.26, -140.35 -2.16" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1264.6729326632521 383.4687412650128) rotate(0 -70.70827072697625 -0.29084560296348627)"><path d="M-112.02 -12.04 C-118.56 -10.87, -128.03 -8.02, -140.35 -2.16 M-112.02 -12.04 C-120.7 -9.04, -130.3 -5.74, -140.35 -2.16" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1264.6729326632521 383.4687412650128) rotate(0 -70.70827072697625 -0.29084560296348627)"><path d="M-112.29 8.48 C-118.71 3.64, -128.1 0.49, -140.35 -2.16 M-112.29 8.48 C-121.04 4.8, -130.55 1.42, -140.35 -2.16" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(1340.457252251479 295.0006083430617) rotate(0 -172.0858683876338 -109.42230805932036)"><path d="M-1.08 0.36 C-19.34 -28.86, -52.22 -137.9, -109.25 -174.25 C-166.28 -210.6, -304.2 -210.22, -343.26 -217.74 M0.56 -0.5 C-17.37 -29.58, -49.77 -139.71, -107.12 -176.21 C-164.47 -212.71, -304.22 -212.44, -343.54 -219.51" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1340.457252251479 295.0006083430617) rotate(0 -172.0858683876338 -109.42230805932036)"><path d="M-314.5 -227.01 C-323.3 -226.66, -332.86 -220.86, -343.54 -219.51 M-314.5 -227.01 C-325.76 -224.59, -336.34 -221.12, -343.54 -219.51" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1340.457252251479 295.0006083430617) rotate(0 -172.0858683876338 -109.42230805932036)"><path d="M-316.47 -206.58 C-324.82 -212.87, -333.73 -213.73, -343.54 -219.51 M-316.47 -206.58 C-327.06 -212.16, -336.86 -216.68, -343.54 -219.51" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(1271.2439920042398 102.29313447684035) rotate(0 73.59992980957031 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">update status</text></g><g transform="translate(818.6354793262899 448.6671251290845) rotate(0 175.6998291015625 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- delivery delay until execution time</text></g></svg></span></span></div></div><div class="MuiGrid-root MuiGrid-item mui-1wxaqej"><span class="MuiTypography-root MuiTypography-caption mui-17cupi8">Timely Execution</span></div></div></div></div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">To recap, our new two-layered scheduler architecture looks like this:</div><ol style="list-style: outside decimal;">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">A user creates a new job which is written to the database.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">A cron job runs every 5 minutes to query the database for jobs that are due for execution in the next ~5 minutes.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">The cron job sends these jobs to SQS with appropriate delay values.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Workers receive messages from SQS when they're ready for execution.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">If a new job is created with a scheduled time &lt; 5 minutes from the current time, it's sent directly to SQS with the appropriate delay.</div></li>
</ol><div class="my-6"><div class="MuiBox-root mui-o9fqh4"><div class="MuiBox-root mui-3t6lyr"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-6 h-6 heroicon-sw-2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"></path></svg></div><div class="MuiBox-root mui-79elbk"><div style="overflow: hidden; max-height: 300px;"><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Keep in mind that many interviewers or companies will prefer that you avoid managed services like SQS. If this is the case, you can implement your own priority queue using Redis or a similar data store. Just check in with them to get a gauge on what is and isn't allowed.</div></div></div></div></div><h3 class="MuiTypography-root MuiTypography-h4 mui-hkpafq" id="2-how-can-we-ensure-the-system-is-scalable-to-support-up-to-10k-jobs-per-second">2) How can we ensure the system is scalable to support up to 10k jobs per second?</h3><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">In any interview, when you get to talking about scale my suggestion is to work left to right looking for any bottlenecks and addressing them one-by-one.</div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><strong>Job Creation</strong></div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">For us, this means starting with job creation. If job creation was evenly distributed with job execution, this would mean we have 10k jobs being created per second. This is unlikely, since we support recurring jobs, but it's an upper bound. I would likely ask my interviewer at this point if we have any expectations about what percent of jobs are recurring vs. one-time. If the proportion is small, meaning most jobs are one-time, then our Job Creation service might end up being a bottleneck.</div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">To handle high job creation rates, we can introduce a message queue like Kafka or RabbitMQ between our API and Job Creation service. This queue acts as a buffer during traffic spikes, allowing the Job Creation service to process requests at a sustainable rate rather than being overwhelmed. The message queue also enables horizontal scaling by letting us add more Job Creation service instances as consumers, while providing durability to ensure no job creation requests are lost if the service experiences issues.</div><div class="my-6"><div class="MuiBox-root mui-o9fqh4"><div class="MuiBox-root mui-3t6lyr"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-6 h-6 heroicon-sw-2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"></path></svg></div><div class="MuiBox-root mui-79elbk"><div style="overflow: hidden; max-height: 300px;"><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Adding a message queue between the API and Job Creation service is likely overcomplicating the design. The database should be able to handle the write throughput directly, and we'll always need some service in front of it that can scale horizontally. Unless there's expensive business logic in the Job Creation service that we want to isolate, it's better to keep the architecture simpler and just scale the service itself.</div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">In an interview setting, while this pattern might impress some interviewers, it's worth noting that simpler solutions are often better. Focus on properly scaling your database and service layer before adding additional components. I'll leave it in the diagram but consider it optional.</div></div></div></div></div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><div class="MuiBox-root mui-10khgmf" style="cursor: pointer;"><div class="MuiGrid-root MuiGrid-container MuiGrid-direction-xs-column mui-1tdxmx0"><div class="MuiGrid-root MuiGrid-item mui-tolxbf"><div class="relative w-full"><button class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall mui-wksd04" tabindex="0" type="button" aria-label="zoom-in"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ZoomInIcon"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"></path><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"></path></svg><span class="MuiTouchRipple-root mui-w0pj6f"></span></button><span class="w-full h-full"><span class="block"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1854.529155424821 547.3636111822125">
  <!-- svg-source:excalidraw -->
  <!-- payload-type:application/vnd.excalidraw+json --><!-- payload-version:2 -->
  <defs>
    <style class="style-fonts">
      
      
      
    </style>
    
  </defs>
  <rect x="0" y="0" width="1854.529155424821" height="547.3636111822125" fill="#ffffff"></rect><g stroke-linecap="round" transform="translate(10 121.2711125757478) rotate(0 61.80078125 35.58203125)"><path d="M4.74 4.12 C4.74 4.12, 4.74 4.12, 4.74 4.12 M4.74 4.12 C4.74 4.12, 4.74 4.12, 4.74 4.12 M0.28 21.44 C4.27 14.22, 12.19 9.36, 18.65 0.31 M0.28 21.44 C6.37 15.12, 12.68 8.5, 18.65 0.31 M0.41 33.48 C9.13 26.3, 16.24 17.11, 29.28 0.27 M0.41 33.48 C7.87 24.11, 17.15 13.81, 29.28 0.27 M0.54 45.52 C15.46 26.16, 29.57 10.38, 39.91 0.24 M0.54 45.52 C14.57 30.53, 27.19 15.46, 39.91 0.24 M0.68 57.56 C13.69 39.02, 30.62 24.12, 50.54 0.21 M0.68 57.56 C19.76 35.53, 39.2 12.73, 50.54 0.21 M4.09 65.83 C25.15 40.54, 41.82 18.78, 60.51 0.93 M4.09 65.83 C16.21 51.51, 29.57 37.74, 60.51 0.93 M10.78 70.32 C23.31 54, 41.02 35.45, 71.14 0.89 M10.78 70.32 C30.75 47.56, 50.47 22.95, 71.14 0.89 M20.76 71.04 C37.61 48.97, 56.57 29.75, 81.77 0.86 M20.76 71.04 C41.04 46.03, 61.36 23.46, 81.77 0.86 M31.39 71.01 C53.35 42.62, 77.61 16.04, 92.4 0.82 M31.39 71.01 C54.55 44.8, 77.4 16.88, 92.4 0.82 M42.02 70.98 C65.65 44.01, 86.56 17.1, 103.03 0.79 M42.02 70.98 C63.78 46.45, 84.16 20.99, 103.03 0.79 M52.65 70.94 C67.15 54.18, 80.91 37.31, 113 1.51 M52.65 70.94 C71.83 50.28, 90.11 28.15, 113 1.51 M63.28 70.91 C79.09 49.5, 97.23 30.42, 119.7 6 M63.28 70.91 C76.24 55.94, 91.03 38.99, 119.7 6 M73.25 71.63 C85.76 55.29, 100.83 39.83, 123.77 13.51 M73.25 71.63 C92.44 50.3, 112.1 27.84, 123.77 13.51 M83.88 71.59 C93.19 59.62, 106.19 47.48, 123.9 25.55 M83.88 71.59 C95.36 57.8, 108.13 45.88, 123.9 25.55 M94.51 71.56 C102.77 61.43, 113.34 49.4, 123.38 38.35 M94.51 71.56 C106.44 58.83, 116.78 45.22, 123.38 38.35 M105.14 71.52 C109.4 64.44, 115.97 59.41, 123.51 50.39 M105.14 71.52 C111.18 64.82, 116.09 59.85, 123.51 50.39" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M17.79 0 C38.67 0.99, 58.7 0.27, 105.81 0 M17.79 0 C47.03 -0.66, 73.72 0.12, 105.81 0 M105.81 0 C118.78 0.63, 124.64 7, 123.6 17.79 M105.81 0 C119.87 0.08, 124.94 6.64, 123.6 17.79 M123.6 17.79 C124.02 29.66, 124.27 44.53, 123.6 53.37 M123.6 17.79 C124.13 30.99, 123.73 42.11, 123.6 53.37 M123.6 53.37 C124.58 64.79, 119.45 70.67, 105.81 71.16 M123.6 53.37 C123.82 67.13, 118.04 71.92, 105.81 71.16 M105.81 71.16 C76.13 70.68, 48.79 70.93, 17.79 71.16 M105.81 71.16 C73.66 69.85, 41.04 70.36, 17.79 71.16 M17.79 71.16 C3.94 73.02, -1.82 65.97, 0 53.37 M17.79 71.16 C4.99 72.35, 1.83 64.43, 0 53.37 M0 53.37 C1.8 39.97, 1.55 25.25, 0 17.79 M0 53.37 C0.52 45.43, -0.25 35.11, 0 17.79 M0 17.79 C1.79 6.01, 6.29 0.18, 17.79 0 M0 17.79 C0.91 7.31, 8.09 -0.14, 17.79 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(49.5888671875 144.3531438257478) rotate(0 22.2119140625 12.5)"><text x="22.2119140625" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">client</text></g><g stroke-linecap="round" transform="translate(664.8042548292352 31.787517778202528) rotate(0 98.697265625 53.470703125)"><path d="M4.03 10.13 C4.03 10.13, 4.03 10.13, 4.03 10.13 M4.03 10.13 C4.03 10.13, 4.03 10.13, 4.03 10.13 M3.51 22.93 C7.19 19.83, 11.57 15.67, 19.25 4.81 M3.51 22.93 C8.91 17.03, 13.94 10.09, 19.25 4.81 M3.64 34.97 C14.1 22.72, 26.07 8.47, 31.2 3.27 M3.64 34.97 C13.76 24.72, 21.38 13.61, 31.2 3.27 M3.12 47.76 C12.37 39.64, 18.09 31.08, 41.17 3.99 M3.12 47.76 C14.68 34.6, 27.03 19.91, 41.17 3.99 M3.25 59.8 C18.04 44.47, 29.88 28.48, 51.8 3.95 M3.25 59.8 C23.25 38.31, 42.59 16.65, 51.8 3.95 M3.39 71.84 C14.99 56.59, 29.39 41.68, 62.43 3.92 M3.39 71.84 C21.56 50.37, 40.16 27.25, 62.43 3.92 M0.89 86.9 C22.52 64.22, 42.52 38.07, 73.06 3.89 M0.89 86.9 C27.28 58.63, 52.23 27.65, 73.06 3.89 M3.65 95.93 C22.32 74.62, 41.24 53.74, 83.69 3.85 M3.65 95.93 C22.02 76.71, 38.15 56.2, 83.69 3.85 M9.69 101.17 C32.37 78.78, 50.15 54.14, 94.32 3.82 M9.69 101.17 C40.33 68.63, 68.17 34.73, 94.32 3.82 M15.73 106.42 C39.08 81.4, 59.66 56.97, 104.95 3.78 M15.73 106.42 C42.31 77.74, 68.6 46.94, 104.95 3.78 M25.7 107.14 C47.75 81.27, 70.55 57.37, 115.58 3.75 M25.7 107.14 C59.4 69.21, 93.3 28.8, 115.58 3.75 M32.4 111.64 C57.88 81.84, 85.69 50.69, 126.21 3.71 M32.4 111.64 C68.23 68.56, 105.58 26.37, 126.21 3.71 M43.03 111.6 C68.27 83.87, 89.95 56.75, 136.84 3.68 M43.03 111.6 C76.83 72.23, 111.07 31.79, 136.84 3.68 M53.66 111.57 C80.62 78.41, 107.23 46.56, 147.47 3.64 M53.66 111.57 C74.88 86.62, 96.11 60.57, 147.47 3.64 M64.29 111.53 C104.21 69.4, 140.02 26.9, 158.1 3.61 M64.29 111.53 C97.55 74.64, 129.67 35.68, 158.1 3.61 M74.92 111.5 C103.93 77.53, 132.6 46.34, 171.36 0.56 M74.92 111.5 C97.92 84.91, 119.12 59.36, 171.36 0.56 M85.55 111.46 C103 91.25, 122.68 68.19, 180.67 2.03 M85.55 111.46 C110.1 81.73, 135.18 55.37, 180.67 2.03 M96.18 111.43 C120.15 85.79, 140.6 57.83, 188.68 5.02 M96.18 111.43 C127.03 75.56, 159.01 37.85, 188.68 5.02 M106.81 111.39 C141.12 71.07, 176.23 33.73, 194.06 11.02 M106.81 111.39 C136.64 78.67, 165 44.33, 194.06 11.02 M116.78 112.12 C140.3 82.2, 168.55 54.57, 196.82 20.04 M116.78 112.12 C134.26 93.93, 151.51 73.23, 196.82 20.04 M127.41 112.08 C149.55 87.38, 172.2 61.7, 202.86 25.29 M127.41 112.08 C151.39 83.38, 175.09 56.58, 202.86 25.29 M138.04 112.05 C154.74 89.85, 175.49 68.74, 202.99 37.33 M138.04 112.05 C163.94 82.98, 189.18 55.57, 202.99 37.33 M148.67 112.01 C158.73 98.14, 171.62 86.06, 203.12 49.37 M148.67 112.01 C165.05 94.37, 178.81 77.74, 203.12 49.37 M159.3 111.98 C169.85 96.23, 183.37 85.47, 203.26 61.41 M159.3 111.98 C173.65 95.84, 186.59 79.82, 203.26 61.41 M172.55 108.92 C177.7 102.2, 185.27 94.27, 197.48 80.24 M172.55 108.92 C182.14 98.92, 191.61 87.56, 197.48 80.24" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M26.74 0 C77.23 -1.05, 128.23 1.44, 170.66 0 M26.74 0 C69.99 -0.76, 112.66 -0.54, 170.66 0 M170.66 0 C190.4 0.07, 198.56 9.53, 197.39 26.74 M170.66 0 C190.02 -0.37, 199.54 9.46, 197.39 26.74 M197.39 26.74 C198.47 39.5, 197.97 53.56, 197.39 80.21 M197.39 26.74 C197.96 47.68, 198.36 68.82, 197.39 80.21 M197.39 80.21 C197.58 99.68, 188.8 107.6, 170.66 106.94 M197.39 80.21 C198.2 97.94, 190.74 106.72, 170.66 106.94 M170.66 106.94 C138.69 106.42, 103.01 107.59, 26.74 106.94 M170.66 106.94 C140.45 107.21, 111.32 106.65, 26.74 106.94 M26.74 106.94 C8.09 107.97, 1.59 97.33, 0 80.21 M26.74 106.94 C10.79 106.48, -1.25 100.02, 0 80.21 M0 80.21 C-1.52 63.44, -1.95 48.12, 0 26.74 M0 80.21 C1.05 60.3, 0.33 40.4, 0 26.74 M0 26.74 C0.79 10.11, 10.79 -0.12, 26.74 0 M0 26.74 C-0.78 7.96, 10.55 0.64, 26.74 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(691.0308173292352 72.75822090320253) rotate(0 72.470703125 12.5)"><text x="72.470703125" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Scheduler Service</text></g><g stroke-linecap="round"><g transform="translate(869.8550360792352 127.95316443555839) rotate(0 39.22324959116702 15.758255254877895)"><path d="M0.97 -0.04 C13.94 5.22, 64.28 27.09, 77.31 32.42 M0.01 -1.11 C13.39 3.75, 66.31 25.62, 79.42 30.76" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(869.8550360792352 127.95316443555839) rotate(0 39.22324959116702 15.758255254877895)"><path d="M30.92 1.57 C23.18 -0.5, 17.09 2.1, 0.97 -0.04 M30.92 1.57 C21.95 1.23, 11.65 0.97, 0.97 -0.04" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(869.8550360792352 127.95316443555839) rotate(0 39.22324959116702 15.758255254877895)"><path d="M22.88 20.45 C17.06 13.49, 13.02 11.25, 0.97 -0.04 M22.88 20.45 C16.47 13.81, 8.84 7.3, 0.97 -0.04" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(869.8550360792352 127.95316443555839) rotate(0 39.22324959116702 15.758255254877895)"><path d="M49.44 29.73 C57.05 27.86, 66.28 31.13, 79.42 30.76 M49.44 29.73 C60.34 29.95, 69.89 30.56, 79.42 30.76" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(869.8550360792352 127.95316443555839) rotate(0 39.22324959116702 15.758255254877895)"><path d="M57.12 10.7 C62.9 13.75, 70.17 21.89, 79.42 30.76 M57.12 10.7 C65.57 17.26, 72.58 24.18, 79.42 30.76" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(962.4482544672952 73.69648605312614) rotate(0 89.47739173275392 87.55859375)"><path d="M19.94 33.23 C19.94 33.23, 19.94 33.23, 19.94 33.23 M19.94 33.23 C19.94 33.23, 19.94 33.23, 19.94 33.23 M4.33 63.39 C20.66 46.72, 36.52 27.32, 50.25 10.56 M4.33 63.39 C23.32 42.93, 40.96 22.51, 50.25 10.56 M3.15 76.94 C23.17 55.09, 41.4 34.02, 65.47 5.24 M3.15 76.94 C23.03 52.79, 44.37 30.78, 65.47 5.24 M1.97 90.49 C31.15 57.56, 60.08 24.55, 80.69 -0.08 M1.97 90.49 C27.22 60.9, 54.79 31.69, 80.69 -0.08 M2.1 102.53 C29.2 71.53, 54.77 44.92, 90.01 1.4 M2.1 102.53 C32.32 64.07, 64.99 27.32, 90.01 1.4 M4.86 111.55 C28.77 85.16, 53.76 56.55, 99.33 2.87 M4.86 111.55 C40.43 73.14, 74.25 32.82, 99.33 2.87 M7.62 120.57 C46.7 75.88, 82.1 34.24, 109.3 3.59 M7.62 120.57 C48.35 74.26, 89.82 28, 109.3 3.59 M11.03 128.84 C37.15 94.71, 68.19 64.39, 117.97 5.82 M11.03 128.84 C46.11 88.04, 82.2 48.14, 117.97 5.82 M15.75 135.6 C56.15 89.79, 93.11 47.84, 125.32 9.56 M15.75 135.6 C57.98 86.4, 99.55 39.11, 125.32 9.56 M21.14 141.6 C52.27 104.16, 81.52 68.82, 132.67 13.3 M21.14 141.6 C65.43 91.01, 108.87 40.35, 132.67 13.3 M25.86 148.36 C55.64 115.37, 82.51 82.32, 140.02 17.04 M25.86 148.36 C67.88 99.39, 111.43 50.43, 140.02 17.04 M31.24 154.36 C69.66 113.59, 104.19 68.89, 146.71 21.53 M31.24 154.36 C54.29 128.14, 77.88 101.59, 146.71 21.53 M37.94 158.85 C69.13 125.5, 97.99 90.47, 152.09 27.53 M37.94 158.85 C77.63 115.18, 116.71 69.39, 152.09 27.53 M45.29 162.59 C72.5 132.68, 103.09 100.54, 157.47 33.54 M45.29 162.59 C83.98 118.83, 122.16 76.68, 157.47 33.54 M53.29 165.58 C94.14 117.79, 133.44 72.71, 162.85 39.54 M53.29 165.58 C92.79 120.62, 133.15 75.85, 162.85 39.54 M60.64 169.32 C90.83 133.18, 124.41 98.05, 168.24 45.54 M60.64 169.32 C89.97 135.35, 120.17 100.08, 168.24 45.54 M68.65 172.3 C105.32 127.92, 145.21 85.59, 170.99 54.57 M68.65 172.3 C88.59 147.11, 109.07 124.04, 170.99 54.57 M78.62 173.02 C108.07 143.38, 134.19 109.22, 173.75 63.59 M78.62 173.02 C118.12 129.99, 153.83 86.62, 173.75 63.59 M87.94 174.5 C107.9 149.71, 127.59 128.91, 176.51 72.61 M87.94 174.5 C120.28 138.28, 151.94 100.6, 176.51 72.61 M97.91 175.22 C117.03 150.24, 138.05 126.41, 178.61 82.39 M97.91 175.22 C128.43 140.03, 159.29 104.52, 178.61 82.39 M111.82 171.41 C133.01 146.59, 154.04 121.84, 177.43 95.94 M111.82 171.41 C126.78 154.12, 142.32 137.09, 177.43 95.94 M126.39 166.85 C139.46 152.39, 148.31 140.78, 176.91 108.73 M126.39 166.85 C136.98 153.19, 149.53 138.81, 176.91 108.73 M152.11 149.45 C154.21 145.37, 156.85 144.82, 163.26 136.62 M152.11 149.45 C155.15 145.41, 159.37 141.41, 163.26 136.62" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M114.51 4.3 C125.27 5.92, 136.17 12.63, 145.08 19.51 C153.99 26.4, 162.44 35.82, 167.96 45.63 C173.48 55.45, 176.9 67.53, 178.2 78.41 C179.5 89.3, 178.81 100.3, 175.77 110.94 C172.74 121.58, 167.03 133.41, 159.97 142.25 C152.92 151.1, 143.45 158.54, 133.45 164.01 C123.44 169.48, 111.22 173.76, 99.97 175.08 C88.71 176.4, 76.97 174.98, 65.94 171.91 C54.9 168.85, 42.89 163.49, 33.74 156.68 C24.6 149.86, 16.65 140.87, 11.08 131.04 C5.51 121.22, 1.48 108.95, 0.35 97.73 C-0.79 86.51, 1.02 74.44, 4.25 63.74 C7.47 53.05, 12.73 42.15, 19.68 33.53 C26.62 24.92, 36.01 17.65, 45.91 12.04 C55.81 6.44, 66.53 1.11, 79.08 -0.1 C91.64 -1.3, 113.35 3.19, 121.23 4.79 C129.11 6.39, 127.1 7.93, 126.36 9.52 M46.27 11.49 C54.75 5.56, 68.35 2.06, 79.87 0.93 C91.38 -0.21, 104.01 1.57, 115.34 4.69 C126.67 7.82, 138.75 12.72, 147.84 19.67 C156.92 26.63, 164.87 36.25, 169.86 46.43 C174.85 56.62, 176.89 69.43, 177.76 80.78 C178.63 92.14, 178.44 104.26, 175.08 114.57 C171.72 124.89, 164.94 134.44, 157.59 142.66 C150.25 150.87, 140.87 158.32, 131.01 163.86 C121.15 169.39, 109.85 174.85, 98.44 175.84 C87.04 176.84, 73.37 173.3, 62.57 169.83 C51.77 166.35, 42.32 161.86, 33.65 154.98 C24.99 148.09, 16.03 138.26, 10.59 128.51 C5.14 118.77, 1.83 107.69, 0.97 96.53 C0.11 85.37, 2.22 72.48, 5.42 61.56 C8.61 50.64, 12.9 39.51, 20.14 31 C27.37 22.49, 43.98 13.71, 48.83 10.51 C53.69 7.32, 48.93 10.42, 49.27 11.81" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(997.1653413679337 136.34180441134308) rotate(0 54.990234375 25)"><text x="54.990234375" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Job Store</text><text x="54.990234375" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">(DynamoDB)</text></g><g transform="translate(1173.0131874291342 78.34371494819425) rotate(0 49.43994903564453 75)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Jobs</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- id</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- userId</text><text x="0" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- taskId</text><text x="0" y="100" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- params</text><text x="0" y="125" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- schedule</text></g><g transform="translate(1307.4591880686908 78.58208225193812) rotate(0 52.00994873046875 75)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Executions</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- time</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- jobId</text><text x="0" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- userId</text><text x="0" y="100" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- status</text><text x="0" y="125" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- attempt</text></g><g stroke-linecap="round"><g transform="translate(1054.1269642850325 260.3258759655946) rotate(0 0.9476839926498997 58.65029357750063)"><path d="M0.7 0.37 C0.96 19.88, 2.31 97.57, 2.7 117.11 M-0.39 -0.48 C-0.32 19.21, 1.63 98.62, 2.17 118.54" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1054.1269642850325 260.3258759655946) rotate(0 0.9476839926498997 58.65029357750063)"><path d="M11.43 28.38 C7.79 18.7, 2.6 8.14, 0.7 0.37 M11.43 28.38 C8.44 19.79, 4.6 10.47, 0.7 0.37" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1054.1269642850325 260.3258759655946) rotate(0 0.9476839926498997 58.65029357750063)"><path d="M-9.09 28.73 C-4.61 18.78, -1.67 8.09, 0.7 0.37 M-9.09 28.73 C-5.43 19.95, -2.63 10.51, 0.7 0.37" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1054.1269642850325 260.3258759655946) rotate(0 0.9476839926498997 58.65029357750063)"><path d="M-8.8 90.62 C-3.83 102.95, -0.43 114.52, 2.17 118.54 M-8.8 90.62 C-5.1 100.06, -1.91 108.86, 2.17 118.54" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1054.1269642850325 260.3258759655946) rotate(0 0.9476839926498997 58.65029357750063)"><path d="M11.72 90.1 C8.56 102.75, 3.85 114.53, 2.17 118.54 M11.72 90.1 C8.77 99.79, 5.32 108.75, 2.17 118.54" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(930.00529365968 388.28960156551693) rotate(0 125.576171875 63.78515625000003)"><path d="M4.79 12.11 C4.79 12.11, 4.79 12.11, 4.79 12.11 M4.79 12.11 C4.79 12.11, 4.79 12.11, 4.79 12.11 M2.95 26.42 C12.71 14.75, 21.09 6.65, 25.26 0.76 M2.95 26.42 C7.89 19.39, 13.51 11.97, 25.26 0.76 M3.08 38.46 C11.33 28.74, 22.95 15.84, 34.58 2.23 M3.08 38.46 C14.35 25.28, 23.74 14.06, 34.58 2.23 M2.56 51.25 C19.69 30.72, 37.24 10.96, 45.21 2.2 M2.56 51.25 C19.45 33.1, 33.8 12.82, 45.21 2.2 M2.69 63.29 C18.01 45.36, 32.63 30.27, 55.84 2.16 M2.69 63.29 C22.64 38.68, 43.82 16.78, 55.84 2.16 M2.83 75.33 C15.1 59.58, 30.21 42.83, 66.47 2.13 M2.83 75.33 C17.95 56.01, 33.92 38.03, 66.47 2.13 M2.96 87.37 C27.74 59.87, 47.56 32.62, 77.1 2.09 M2.96 87.37 C25.63 59.58, 48.27 33.08, 77.1 2.09 M3.09 99.42 C24.39 72.36, 49.66 44.37, 87.73 2.06 M3.09 99.42 C23.29 74.46, 45.15 48.55, 87.73 2.06 M5.85 108.44 C25.11 85.83, 45.63 60.57, 98.36 2.02 M5.85 108.44 C25.27 85.66, 45.08 63.04, 98.36 2.02 M7.95 118.21 C30.2 94.53, 52.79 69.23, 108.99 1.99 M7.95 118.21 C36.88 83.48, 65.07 50.43, 108.99 1.99 M13.33 124.22 C52.77 79.35, 91.72 38.1, 119.62 1.95 M13.33 124.22 C42.03 92.14, 69.63 60.6, 119.62 1.95 M22 126.45 C47.41 95.36, 76.18 65.24, 130.25 1.92 M22 126.45 C57.94 84.12, 94.33 44.01, 130.25 1.92 M28.69 130.94 C60.31 92.78, 93.4 57.08, 140.22 2.64 M28.69 130.94 C70.04 81.5, 112.34 33.6, 140.22 2.64 M38.01 132.42 C81.39 82.56, 125.68 29.85, 150.85 2.61 M38.01 132.42 C71.07 92.19, 104.81 53.73, 150.85 2.61 M48.64 132.38 C93.37 82.52, 136.96 30.35, 161.48 2.57 M48.64 132.38 C85.66 88.34, 123.77 44.17, 161.48 2.57 M59.27 132.35 C86.98 100.1, 114.33 66.66, 172.11 2.54 M59.27 132.35 C104.25 83.38, 147.44 31.52, 172.11 2.54 M69.9 132.31 C91.64 102.97, 118.37 78.45, 182.74 2.5 M69.9 132.31 C101.56 95.12, 135.07 58.86, 182.74 2.5 M79.87 133.03 C104.96 106.68, 128.83 76.44, 193.37 2.47 M79.87 133.03 C115.84 89.78, 152.74 48.39, 193.37 2.47 M90.5 133 C125.55 96.45, 155.86 57.52, 204 2.43 M90.5 133 C113.65 105.34, 136.44 79.04, 204 2.43 M101.13 132.96 C135.14 94.58, 167.58 56.01, 214.63 2.4 M101.13 132.96 C136.17 93.37, 172.18 52.02, 214.63 2.4 M111.76 132.93 C155.99 83.69, 197.75 36.37, 223.95 3.87 M111.76 132.93 C138.36 103.93, 163.37 73.06, 223.95 3.87 M122.39 132.89 C154.14 98.22, 182.41 63.23, 234.58 3.84 M122.39 132.89 C152.91 96.77, 185.7 58.57, 234.58 3.84 M133.02 132.86 C176.85 85.82, 219.8 34.4, 241.93 7.58 M133.02 132.86 C154.43 107.11, 177.13 82, 241.93 7.58 M143.65 132.83 C178.73 92.98, 212.05 55.72, 247.31 13.58 M143.65 132.83 C172.83 98.71, 200.84 66.14, 247.31 13.58 M154.28 132.79 C179.58 100.67, 209.96 73.27, 250.72 21.85 M154.28 132.79 C177.5 105.83, 202.18 78.55, 250.72 21.85 M164.91 132.76 C184.44 107.9, 205.16 83.77, 255.45 28.61 M164.91 132.76 C186.11 107.79, 207.5 84.94, 255.45 28.61 M175.54 132.72 C204.24 100.76, 231.77 67.91, 255.58 40.65 M175.54 132.72 C191.68 112.85, 207.72 95.08, 255.58 40.65 M186.17 132.69 C210.72 104.51, 237.31 74.87, 255.72 52.69 M186.17 132.69 C211.72 102.51, 238.48 73.24, 255.72 52.69 M196.8 132.65 C216.03 109.25, 236.42 86.64, 255.85 64.73 M196.8 132.65 C210.85 116.27, 224.78 101.02, 255.85 64.73 M207.43 132.62 C220.28 117.62, 233.83 101.11, 255.98 76.77 M207.43 132.62 C220.56 116.78, 235.26 101.72, 255.98 76.77 M221.34 128.81 C233.62 114.09, 246.22 99.2, 256.12 88.81 M221.34 128.81 C232.64 114.46, 246.87 99.65, 256.12 88.81 M233.94 126.51 C238.8 118.47, 248.1 110.03, 252.97 104.63 M233.94 126.51 C241.76 119.05, 248.77 109.75, 252.97 104.63" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M31.89 0 C98.7 0.61, 166.64 -2.44, 219.26 0 M31.89 0 C94.87 -0.63, 158.49 0.13, 219.26 0 M219.26 0 C240.81 -0.33, 252.13 10.19, 251.15 31.89 M219.26 0 C242.57 -0.57, 251.37 12.53, 251.15 31.89 M251.15 31.89 C251.28 54.02, 251.17 70.86, 251.15 95.68 M251.15 31.89 C250.94 56.86, 251.52 81.64, 251.15 95.68 M251.15 95.68 C253.1 116.02, 238.53 129.43, 219.26 127.57 M251.15 95.68 C249.06 117.79, 239.58 128.75, 219.26 127.57 M219.26 127.57 C147.76 128.02, 78.79 129.28, 31.89 127.57 M219.26 127.57 C149.09 125.74, 79.64 127.25, 31.89 127.57 M31.89 127.57 C10.05 125.74, 1.79 117.02, 0 95.68 M31.89 127.57 C11.04 127.78, 0.91 118.32, 0 95.68 M0 95.68 C-0.79 71.97, 0.59 46.3, 0 31.89 M0 95.68 C0.02 75.06, -0.06 56.69, 0 31.89 M0 31.89 C1.76 10.4, 9.05 -0.61, 31.89 0 M0 31.89 C-1.52 8.44, 9.37 -1.96, 31.89 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(937.25627022218 414.57475781551693) rotate(0 118.3251953125 37.5)"><text x="118.3251953125" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Watcher</text><text x="118.3251953125" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- polls for Jobs that should be</text><text x="118.3251953125" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">executed soon</text></g><g stroke-linecap="round"><g transform="translate(1201.814311674821 448.11053981813893) rotate(0 36.28125 -0.10546875)"><path d="M-0.71 0.44 C11.26 0.44, 60.74 0.39, 72.94 0.32 M1.11 -0.38 C12.86 -0.76, 60.43 -1.83, 72.19 -1.53" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1201.814311674821 448.11053981813893) rotate(0 36.28125 -0.10546875)"><path d="M44.02 8.8 C55.8 5.53, 67.03 0.74, 72.19 -1.53 M44.02 8.8 C53.1 5.07, 62.43 1.72, 72.19 -1.53" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1201.814311674821 448.11053981813893) rotate(0 36.28125 -0.10546875)"><path d="M43.98 -11.72 C55.82 -6.92, 67.07 -3.64, 72.19 -1.53 M43.98 -11.72 C53.18 -8.91, 62.53 -5.71, 72.19 -1.53" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(1284.218082720868 405.73553981813893) rotate(0 128.51953125 42.5)"><path d="M3.19 8.07 C3.19 8.07, 3.19 8.07, 3.19 8.07 M3.19 8.07 C3.19 8.07, 3.19 8.07, 3.19 8.07 M3.98 19.36 C7.51 14.71, 9.85 10.81, 13.82 8.04 M3.98 19.36 C6.43 16.42, 8.71 14.72, 13.82 8.04 M4.11 31.4 C12.12 24.39, 16.9 13.61, 27.07 4.98 M4.11 31.4 C10.47 23.97, 16.52 16.73, 27.07 4.98 M4.24 43.44 C12 37.4, 18.97 25.93, 37.7 4.95 M4.24 43.44 C10.84 35.82, 17.58 27.82, 37.7 4.95 M3.72 56.23 C18.41 39.03, 29.26 24.76, 48.33 4.91 M3.72 56.23 C21.72 36.33, 37.85 17.88, 48.33 4.91 M1.89 70.54 C16.9 54.31, 26.89 39.77, 58.96 4.88 M1.89 70.54 C18.42 51.74, 35.2 30.51, 58.96 4.88 M5.3 78.81 C21.1 60.94, 34.2 42.1, 69.59 4.85 M5.3 78.81 C22.69 58.53, 38.88 40.38, 69.59 4.85 M11.99 83.3 C30.54 62.28, 46.77 43.61, 80.22 4.81 M11.99 83.3 C30.56 61.87, 49.14 41.16, 80.22 4.81 M18.03 88.55 C36.65 68.99, 51.88 51.14, 90.85 4.78 M18.03 88.55 C42.75 60.64, 68.12 32.91, 90.85 4.78 M27.35 90.02 C52.86 63.1, 73.56 34.41, 101.48 4.74 M27.35 90.02 C43.48 72, 59.16 53.65, 101.48 4.74 M37.98 89.99 C63.47 59.27, 91.09 26.98, 112.11 4.71 M37.98 89.99 C61.43 62.18, 85 36.14, 112.11 4.71 M48.61 89.96 C72.56 62.4, 94.06 36.41, 122.74 4.67 M48.61 89.96 C75.73 57.5, 103.49 25.77, 122.74 4.67 M59.24 89.92 C86.92 58.62, 111.62 28.15, 132.72 5.39 M59.24 89.92 C74.72 71.64, 90.35 53.9, 132.72 5.39 M69.87 89.89 C90.85 66.6, 107.72 44.05, 143.35 5.36 M69.87 89.89 C86.34 69.92, 104.54 49.37, 143.35 5.36 M80.5 89.85 C104.66 59.55, 130.41 29.73, 153.98 5.32 M80.5 89.85 C106.81 60.97, 131.48 31.85, 153.98 5.32 M91.13 89.82 C105 71.74, 124.66 51.02, 164.61 5.29 M91.13 89.82 C109.05 68.82, 125.48 50.33, 164.61 5.29 M101.1 90.54 C129.22 59.23, 153.88 33.02, 175.24 5.26 M101.1 90.54 C125.98 62.3, 151.98 33.46, 175.24 5.26 M111.73 90.5 C128.99 71.2, 142.83 53.35, 185.87 5.22 M111.73 90.5 C133.59 66.19, 156.54 39.43, 185.87 5.22 M122.36 90.47 C146.37 66.07, 166.06 40.57, 196.5 5.19 M122.36 90.47 C146.55 63.4, 170.21 35.57, 196.5 5.19 M132.99 90.43 C151.99 65.2, 174.69 42.66, 207.13 5.15 M132.99 90.43 C151.1 69.46, 170.14 47.2, 207.13 5.15 M143.62 90.4 C160.13 71.33, 180.23 48.46, 217.76 5.12 M143.62 90.4 C168.41 62.26, 193.9 32.35, 217.76 5.12 M154.25 90.36 C170.9 68.8, 189.59 50.55, 228.39 5.08 M154.25 90.36 C172.28 68.38, 193.39 45.86, 228.39 5.08 M164.88 90.33 C183.46 66.87, 202.28 45.83, 240.33 3.54 M164.88 90.33 C189.94 62.1, 214.55 32.96, 240.33 3.54 M175.51 90.3 C197.57 67.27, 216.85 41.41, 249.65 5.01 M175.51 90.3 C201.34 58.88, 227.83 30.02, 249.65 5.01 M186.14 90.26 C213.42 56.3, 242.85 25.39, 256.34 9.51 M186.14 90.26 C211.62 60.53, 236.47 31.52, 256.34 9.51 M196.77 90.23 C213.61 72.79, 226.5 56.55, 259.1 18.53 M196.77 90.23 C213.91 69.2, 233.18 47.56, 259.1 18.53 M207.4 90.19 C226.13 69.17, 242.11 47.74, 259.23 30.57 M207.4 90.19 C226.24 68.06, 245.45 46.91, 259.23 30.57 M218.03 90.16 C230.75 74.13, 244.59 59.47, 259.37 42.61 M218.03 90.16 C231.1 73.83, 245.11 58.07, 259.37 42.61 M228.66 90.12 C239.2 78.83, 247.29 68.26, 259.5 54.65 M228.66 90.12 C236.38 81.83, 242.97 73.88, 259.5 54.65 M240.61 88.58 C246.02 79.99, 252.34 75.08, 260.29 65.94 M240.61 88.58 C245.07 83.27, 249.48 78.12, 260.29 65.94" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M21.25 0 C73.65 -0.68, 124.84 0.36, 235.79 0 M21.25 0 C106.6 0.12, 191.88 0.09, 235.79 0 M235.79 0 C250.14 1.65, 257.36 7.74, 257.04 21.25 M235.79 0 C250.76 -0.09, 259.3 6.86, 257.04 21.25 M257.04 21.25 C258.92 31.4, 256.68 42.43, 257.04 63.75 M257.04 21.25 C256.46 30.81, 256.55 38.87, 257.04 63.75 M257.04 63.75 C256.22 78.94, 251.54 84.3, 235.79 85 M257.04 63.75 C258.92 77.45, 248.71 86.99, 235.79 85 M235.79 85 C168.52 83.88, 101.87 84.94, 21.25 85 M235.79 85 C156.53 83.32, 75.87 83.36, 21.25 85 M21.25 85 C7.87 86.2, 1.88 77.79, 0 63.75 M21.25 85 C6.31 84.05, 1.64 78.55, 0 63.75 M0 63.75 C1.32 48.22, -1.62 33.4, 0 21.25 M0 63.75 C-1.16 47.85, -1.04 31.62, 0 21.25 M0 21.25 C-1.09 5.38, 8.96 -0.87, 21.25 0 M0 21.25 C0.54 7.91, 8.77 0.53, 21.25 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1321.643863970868 435.73553981813893) rotate(0 91.09375 12.5)"><text x="91.09375" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Message Queue (SQS)</text></g><g stroke-linecap="round" transform="translate(1700.329936674821 373.67694606813893) rotate(0 72.099609375 68.462890625)"><path d="M7.86 8.16 C7.86 8.16, 7.86 8.16, 7.86 8.16 M7.86 8.16 C7.86 8.16, 7.86 8.16, 7.86 8.16 M2.75 26.24 C5.2 21.77, 12.19 17.71, 21.12 5.11 M2.75 26.24 C6.86 21.87, 10.75 17.18, 21.12 5.11 M2.88 38.28 C14.9 26.58, 28.86 10.98, 34.37 2.05 M2.88 38.28 C13.06 26.25, 25.48 13.55, 34.37 2.05 M2.36 51.07 C17.06 31.48, 34.23 11.58, 45 2.02 M2.36 51.07 C16.24 36.37, 29.01 20.75, 45 2.02 M2.49 63.11 C16.17 47.9, 27.04 37.72, 55.63 1.98 M2.49 63.11 C15.79 46.14, 30.62 31.46, 55.63 1.98 M2.62 75.16 C16.81 59.85, 31.59 42.89, 66.26 1.95 M2.62 75.16 C26.94 47.52, 53.09 19.38, 66.26 1.95 M2.76 87.2 C25.34 60.88, 50.65 36.24, 76.23 2.67 M2.76 87.2 C20.1 65.75, 39.39 46.34, 76.23 2.67 M2.89 99.24 C20.66 76.1, 41.43 55.34, 86.86 2.63 M2.89 99.24 C25.39 71.34, 49.03 46.12, 86.86 2.63 M1.05 113.54 C22.35 88, 42.89 64.39, 97.49 2.6 M1.05 113.54 C32.74 75.97, 64.61 40.17, 97.49 2.6 M4.47 121.81 C38.64 83.25, 73.77 42.6, 108.12 2.57 M4.47 121.81 C41.1 79.82, 75.45 38.54, 108.12 2.57 M8.54 129.32 C44.28 89.09, 80.1 49.57, 120.07 1.02 M8.54 129.32 C39.62 93.73, 69.68 58.66, 120.07 1.02 M15.23 133.82 C45.91 100.9, 72.84 67.04, 128.07 4.01 M15.23 133.82 C41.85 106.18, 67.06 76.67, 128.07 4.01 M21.92 138.31 C59.79 94.91, 101.81 50.35, 135.42 7.75 M21.92 138.31 C58.31 94.41, 96.62 51.69, 135.42 7.75 M29.93 141.29 C61.62 106.63, 94.47 67.91, 141.46 12.99 M29.93 141.29 C61.84 105.1, 94.81 67.08, 141.46 12.99 M40.56 141.26 C68 110.4, 92.7 82, 145.53 20.51 M40.56 141.26 C67.75 110.35, 96.04 76.2, 145.53 20.51 M51.19 141.23 C80.2 104.39, 112.89 70.36, 145.01 33.3 M51.19 141.23 C72.16 118.26, 90.29 97.09, 145.01 33.3 M61.82 141.19 C79.4 119.02, 96.05 99.56, 145.14 45.34 M61.82 141.19 C89.84 107.6, 120.03 74.44, 145.14 45.34 M72.45 141.16 C93.08 117.64, 111.34 93.92, 145.27 57.38 M72.45 141.16 C97.06 111.97, 122.44 84.9, 145.27 57.38 M82.42 141.88 C103.31 118.35, 123.63 95.54, 144.75 70.18 M82.42 141.88 C104.39 116.34, 126.4 89.92, 144.75 70.18 M93.05 141.84 C103.13 130.77, 113.55 115.39, 144.88 82.22 M93.05 141.84 C112.83 117.93, 133.68 95.09, 144.88 82.22 M103.68 141.81 C118.66 124.85, 131.77 107.31, 145.02 94.26 M103.68 141.81 C118.37 124.3, 134.93 106.82, 145.02 94.26 M115.63 140.26 C120.99 134.93, 126.51 124.11, 145.15 106.3 M115.63 140.26 C123.98 128.82, 133.69 118.85, 145.15 106.3 M128.88 137.21 C132.76 134.19, 134.71 130.06, 143.97 119.85 M128.88 137.21 C134.43 130.44, 140.56 124.73, 143.97 119.85" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M32 0 C57.58 -0.15, 78.99 0.55, 112.2 0 M32 0 C54.39 1.03, 76.75 0.53, 112.2 0 M112.2 0 C134.23 -0.08, 146.17 10.47, 144.2 32 M112.2 0 C131.98 2.24, 142.94 12.36, 144.2 32 M144.2 32 C141.98 56.83, 142.99 75.76, 144.2 104.93 M144.2 32 C143.13 61.17, 144.33 88.97, 144.2 104.93 M144.2 104.93 C145.83 125.86, 132.45 138.65, 112.2 136.93 M144.2 104.93 C144.41 127.96, 132.43 135.63, 112.2 136.93 M112.2 136.93 C90.59 136.73, 64.22 139.1, 32 136.93 M112.2 136.93 C88.21 137.6, 64.38 136.94, 32 136.93 M32 136.93 C9.99 136.1, 1.43 126.81, 0 104.93 M32 136.93 C11.7 137.18, -1.66 127.82, 0 104.93 M0 104.93 C1.91 88, 0.34 65.98, 0 32 M0 104.93 C-0.06 84.43, 1.42 65.2, 0 32 M0 32 C0.47 11.39, 12.13 0.46, 32 0 M0 32 C1.48 12.04, 12.63 -0.51, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1713.567241362321 417.13983669313893) rotate(0 58.8623046875 25)"><text x="58.8623046875" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Worker</text><text x="58.8623046875" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- execute tasks</text></g><g stroke-linecap="round"><g transform="translate(1689.904155424821 447.16522731813893) rotate(0 -70.70827072697625 -0.29084560296348627)"><path d="M0.59 -0.26 C-22.83 -0.38, -116.7 -0.99, -140.35 -0.88 M-0.56 -1.45 C-24.06 -1.37, -117.16 0.49, -140.73 0.5" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1689.904155424821 447.16522731813893) rotate(0 -70.70827072697625 -0.29084560296348627)"><path d="M-112.66 -10.08 C-121.94 -4.83, -130.83 -3.1, -140.73 0.5 M-112.66 -10.08 C-123.04 -5.98, -133.14 -1.99, -140.73 0.5" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1689.904155424821 447.16522731813893) rotate(0 -70.70827072697625 -0.29084560296348627)"><path d="M-112.43 10.44 C-121.75 9.24, -130.71 4.52, -140.73 0.5 M-112.43 10.44 C-122.93 6.69, -133.12 2.83, -140.73 0.5" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(1765.688475013048 358.69709439618964) rotate(0 -172.0858683876338 -109.42230805932036)"><path d="M1.07 -0.3 C-17.04 -29.18, -50.53 -137.2, -108.04 -173.56 C-165.55 -209.92, -304.69 -210.89, -343.98 -218.45 M0.17 -1.5 C-18.13 -30.68, -51.46 -138.65, -108.93 -175.16 C-166.4 -211.68, -305.58 -213.47, -344.64 -220.58" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1765.688475013048 358.69709439618964) rotate(0 -172.0858683876338 -109.42230805932036)"><path d="M-315.53 -227.83 C-326.21 -224.85, -334.22 -222.19, -344.64 -220.58 M-315.53 -227.83 C-324.22 -225.52, -335.58 -222.04, -344.64 -220.58" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1765.688475013048 358.69709439618964) rotate(0 -172.0858683876338 -109.42230805932036)"><path d="M-317.69 -207.42 C-327.56 -211.59, -334.82 -216.05, -344.64 -220.58 M-317.69 -207.42 C-325.73 -211.91, -336.37 -215.22, -344.64 -220.58" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(1696.4752147658087 165.9896205299665) rotate(0 73.59992980957031 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">update status</text></g><g transform="translate(1243.8667020878588 512.3636111822125) rotate(0 175.6998291015625 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- delivery delay until execution time</text></g><g stroke-linecap="round" transform="translate(661.6701152036227 178.4965429155145) rotate(0 98.697265625 53.470703125)"><path d="M4.03 10.13 C4.03 10.13, 4.03 10.13, 4.03 10.13 M4.03 10.13 C4.03 10.13, 4.03 10.13, 4.03 10.13 M0.88 25.94 C5.43 17.49, 13.78 12.45, 22.53 1.04 M0.88 25.94 C8.78 16.88, 17.06 6.93, 22.53 1.04 M1.02 37.99 C13.89 22.55, 22.19 10.41, 33.82 0.25 M1.02 37.99 C7.76 29.74, 15.87 22, 33.82 0.25 M1.15 50.03 C9.69 38.3, 23.28 24.49, 44.45 0.22 M1.15 50.03 C15.46 33.85, 29.4 15.9, 44.45 0.22 M1.28 62.07 C16.05 42.42, 32.85 25.7, 55.08 0.18 M1.28 62.07 C19.12 39.9, 37.01 20.13, 55.08 0.18 M1.42 74.11 C24.64 44.25, 50.17 16.21, 65.71 0.15 M1.42 74.11 C25.82 46.46, 49.94 17.09, 65.71 0.15 M0.89 86.9 C29.81 53.81, 56.14 20.67, 76.34 0.11 M0.89 86.9 C27.75 56.58, 53.2 25.3, 76.34 0.11 M3.65 95.93 C23.27 73.19, 42.39 50.15, 86.97 0.08 M3.65 95.93 C29.98 67.12, 55.28 36.92, 86.97 0.08 M9.03 101.93 C34.83 68.61, 63.23 37.72, 97.6 0.04 M9.03 101.93 C29.68 77.9, 52.23 52.03, 97.6 0.04 M16.38 105.67 C40.27 76.73, 66.27 48.7, 108.23 0.01 M16.38 105.67 C51.5 66.35, 86.9 25.79, 108.23 0.01 M25.7 107.14 C48.73 79.34, 75.71 51.11, 118.86 -0.03 M25.7 107.14 C52.95 75.99, 81.16 46.3, 118.86 -0.03 M36.33 107.11 C67.14 70.46, 100.55 32.14, 128.84 0.69 M36.33 107.11 C72.89 65.26, 108.37 22.74, 128.84 0.69 M46.96 107.07 C75.39 71.71, 106.65 38.29, 139.47 0.66 M46.96 107.07 C74.32 75.99, 100.47 46.58, 139.47 0.66 M57.59 107.04 C94.22 63.97, 130.87 23.33, 150.1 0.63 M57.59 107.04 C79.23 81.34, 100.59 57.14, 150.1 0.63 M68.22 107 C93.35 79.27, 113.84 52.19, 160.73 0.59 M68.22 107 C97.34 73.86, 128.81 38.69, 160.73 0.59 M78.85 106.97 C99.03 85.92, 119.96 58.5, 171.36 0.56 M78.85 106.97 C109.05 73.41, 136.92 39.92, 171.36 0.56 M89.48 106.94 C116.98 73.77, 147.47 39.48, 180.67 2.03 M89.48 106.94 C108.91 84.29, 126.96 62.79, 180.67 2.03 M100.11 106.9 C127.43 73.85, 156.44 41.26, 188.68 5.02 M100.11 106.9 C128.25 73.98, 156.39 41.26, 188.68 5.02 M110.74 106.87 C133.68 82.09, 154.14 59.09, 194.06 11.02 M110.74 106.87 C129.8 84.68, 149.56 60.84, 194.06 11.02 M121.37 106.83 C148.62 75.54, 173.02 47.96, 196.82 20.04 M121.37 106.83 C141.85 82.74, 161.95 59.41, 196.82 20.04 M132 106.8 C157.67 79.17, 179.39 54.02, 197.61 31.33 M132 106.8 C148.02 89.92, 161.68 71.8, 197.61 31.33 M141.98 107.52 C158.79 86.71, 177.58 68.69, 197.74 43.37 M141.98 107.52 C156.77 89.97, 172.85 71.22, 197.74 43.37 M152.61 107.48 C166.91 89.15, 183.46 72.35, 197.87 55.41 M152.61 107.48 C165.73 93.02, 181.19 76.15, 197.87 55.41 M163.24 107.45 C174.01 95.47, 184.96 82.98, 198.01 67.45 M163.24 107.45 C175.66 92.36, 188.47 77.33, 198.01 67.45 M174.52 106.66 C178.24 101.84, 185.55 94.87, 197.48 80.24 M174.52 106.66 C181.49 98.48, 188.12 90.81, 197.48 80.24" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M26.74 0 C72.14 1.46, 117.52 -1.86, 170.66 0 M26.74 0 C84.09 -1.45, 141.89 -2.03, 170.66 0 M170.66 0 C190.44 -0.92, 195.4 10.77, 197.39 26.74 M170.66 0 C186.39 0.85, 196.45 10.09, 197.39 26.74 M197.39 26.74 C196.8 45.94, 198.93 67.49, 197.39 80.21 M197.39 26.74 C197.01 45.95, 197.62 67.45, 197.39 80.21 M197.39 80.21 C196.81 96.2, 190.27 107.02, 170.66 106.94 M197.39 80.21 C197.81 98.24, 189.39 108.32, 170.66 106.94 M170.66 106.94 C113.11 107.88, 57.77 107.35, 26.74 106.94 M170.66 106.94 C125.48 107.13, 80.66 108.59, 26.74 106.94 M26.74 106.94 C10.67 106.71, -1.58 97.42, 0 80.21 M26.74 106.94 C7.39 104.75, -1.26 96.07, 0 80.21 M0 80.21 C0.96 60.63, 0.69 39.4, 0 26.74 M0 80.21 C0.38 60.03, 0.03 42.6, 0 26.74 M0 26.74 C0.07 10.72, 8.68 0.32, 26.74 0 M0 26.74 C1.18 7.05, 9.71 0.35, 26.74 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(702.8917948911227 219.4672460405145) rotate(0 57.4755859375 12.5)"><text x="57.4755859375" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Query Service</text></g><g stroke-linecap="round"><g transform="translate(869.9578468295732 242.38969148881642) rotate(0 45.30548925832454 -23.285791106315628)"><path d="M-0.81 1.17 C13.98 -6.43, 74.69 -37.65, 89.95 -45.69 M0.96 0.74 C16.05 -7.17, 77.46 -39.57, 92.32 -47.35" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(869.9578468295732 242.38969148881642) rotate(0 45.30548925832454 -23.285791106315628)"><path d="M19.55 -20.86 C13.37 -13.32, 4.78 -3.18, -0.81 1.17 M19.55 -20.86 C15.37 -15.77, 8.08 -8.62, -0.81 1.17" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(869.9578468295732 242.38969148881642) rotate(0 45.30548925832454 -23.285791106315628)"><path d="M28.95 -2.62 C19.04 -2.41, 6.71 0.47, -0.81 1.17 M28.95 -2.62 C22.18 -2.38, 12.44 0, -0.81 1.17" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(869.9578468295732 242.38969148881642) rotate(0 45.30548925832454 -23.285791106315628)"><path d="M72.14 -25.15 C82.15 -34.95, 89.71 -42.42, 92.32 -47.35 M72.14 -25.15 C78.23 -31.21, 81.52 -35.61, 92.32 -47.35" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(869.9578468295732 242.38969148881642) rotate(0 45.30548925832454 -23.285791106315628)"><path d="M62.59 -43.31 C76.39 -45.82, 87.74 -46.05, 92.32 -47.35 M62.59 -43.31 C71.3 -44.54, 77.09 -44.2, 92.32 -47.35" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(446.7284780057398 65.5656386265573) rotate(0 84.03842312442168 18.65006517957636)"><path d="M2.48 2.16 C2.48 2.16, 2.48 2.16, 2.48 2.16 M2.48 2.16 C2.48 2.16, 2.48 2.16, 2.48 2.16 M-0.01 17.22 C6.65 9.06, 13.42 1.7, 15.08 -0.14 M-0.01 17.22 C6.59 11.28, 10.48 3.03, 15.08 -0.14 M0.78 28.5 C7.94 19.52, 14.66 13.51, 25.05 0.58 M0.78 28.5 C9.45 16.83, 19.56 7.68, 25.05 0.58 M4.85 36.02 C10.43 28.35, 18.7 19.47, 35.68 0.54 M4.85 36.02 C11.77 26.46, 19.52 17.92, 35.68 0.54 M14.82 36.74 C26.35 24.55, 32.75 12.75, 46.31 0.51 M14.82 36.74 C24.51 24.52, 33.74 13.44, 46.31 0.51 M25.45 36.7 C32.68 26.71, 43.36 15.5, 56.94 0.48 M25.45 36.7 C32.51 27.82, 40.77 17.56, 56.94 0.48 M36.08 36.67 C42.37 29.25, 49.58 19.32, 67.57 0.44 M36.08 36.67 C42.16 29.26, 49.1 21.45, 67.57 0.44 M46.06 37.39 C53.56 30.38, 61.35 22.11, 78.2 0.41 M46.06 37.39 C55.5 25.76, 64.06 15.28, 78.2 0.41 M56.69 37.35 C69.19 23.06, 81.7 12.22, 88.83 0.37 M56.69 37.35 C65.43 27.16, 73.39 18.22, 88.83 0.37 M67.32 37.32 C74.5 27.7, 84.34 19.36, 99.47 0.34 M67.32 37.32 C77.66 24.39, 88.78 13.35, 99.47 0.34 M77.95 37.28 C85.99 25.73, 95.58 17.05, 110.1 0.3 M77.95 37.28 C90.14 22.33, 102.74 8.6, 110.1 0.3 M88.58 37.25 C101.39 24.12, 114.23 7.59, 120.73 0.27 M88.58 37.25 C97.89 25.17, 107.58 14.38, 120.73 0.27 M99.21 37.22 C111.57 24.39, 122.9 9.32, 130.7 0.99 M99.21 37.22 C109.22 25.03, 119.46 12.91, 130.7 0.99 M109.84 37.18 C117.1 28.33, 124.56 17.77, 141.33 0.95 M109.84 37.18 C122.61 23.93, 134.06 8.58, 141.33 0.95 M120.47 37.15 C125.19 27.55, 134.68 22.86, 151.96 0.92 M120.47 37.15 C128.62 26.94, 139.33 16.9, 151.96 0.92 M131.1 37.11 C138.78 30.31, 145.12 20.24, 162.59 0.89 M131.1 37.11 C140.91 24.68, 151.44 13.62, 162.59 0.89 M141.73 37.08 C150.51 29.31, 155.53 19.48, 167.97 6.89 M141.73 37.08 C147.29 30.6, 152.28 24.77, 167.97 6.89 M151.7 37.8 C157.58 32.26, 161.66 26.31, 168.1 18.93 M151.7 37.8 C156.01 32.28, 161.74 25.77, 168.1 18.93 M162.99 37.01 C165.31 34.38, 167.04 32.64, 167.58 31.73 M162.99 37.01 C164.24 36.06, 164.79 34.68, 167.58 31.73" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M9.33 0 C45.51 1.09, 77.98 2.26, 158.75 0 M9.33 0 C38.66 1.62, 69.08 1.06, 158.75 0 M158.75 0 C164.15 1.03, 169.67 2.41, 168.08 9.33 M158.75 0 C166.85 -0.46, 166.83 5.1, 168.08 9.33 M168.08 9.33 C167.17 14.86, 166.77 21.74, 168.08 27.98 M168.08 9.33 C168.86 16.32, 168.19 23.32, 168.08 27.98 M168.08 27.98 C168.86 35.39, 166.85 37.18, 158.75 37.3 M168.08 27.98 C167.3 33.24, 166.61 37.94, 158.75 37.3 M158.75 37.3 C108.6 35.35, 54.15 35.17, 9.33 37.3 M158.75 37.3 C103.14 36.82, 48.45 36.18, 9.33 37.3 M9.33 37.3 C2.02 35.6, 1.87 33.32, 0 27.98 M9.33 37.3 C3.64 38.13, 1.69 34.72, 0 27.98 M0 27.98 C-0.53 22.74, -1.85 15.3, 0 9.33 M0 27.98 C-0.12 20.88, 0.47 12.73, 0 9.33 M0 9.33 C0.69 3.41, 2.35 1.89, 9.33 0 M0 9.33 C0.59 1.6, 2.55 -2.03, 9.33 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(504.6682683176615 71.71570380613366) rotate(0 26.0986328125 12.5)"><text x="26.0986328125" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Queue</text></g><g stroke-linecap="round" transform="translate(372.00452987576614 64.2946678933713) rotate(0 20.5038540279578 19.218353121645123)"><path d="M2.56 2.22 C2.56 2.22, 2.56 2.22, 2.56 2.22 M2.56 2.22 C2.56 2.22, 2.56 2.22, 2.56 2.22 M0.72 16.53 C5.5 13.92, 8.54 10.92, 15.16 -0.08 M0.72 16.53 C6.01 9.66, 11.19 4.37, 15.16 -0.08 M0.2 29.32 C7.62 21.46, 13.1 14.34, 25.79 -0.11 M0.2 29.32 C4.95 23.01, 12.21 15.76, 25.79 -0.11 M4.27 36.84 C12.24 26.52, 24.38 14.38, 35.1 1.37 M4.27 36.84 C12.79 27.89, 20.45 19.08, 35.1 1.37 M12.93 39.07 C20.58 32.85, 28.05 23.17, 40.49 7.37 M12.93 39.07 C19.15 32.79, 26.23 24.15, 40.49 7.37 M23.56 39.03 C28.01 34.4, 35.95 25.21, 41.27 18.65 M23.56 39.03 C29.32 32.15, 36.39 24, 41.27 18.65 M35.5 37.49 C36.48 35.06, 39.61 33.01, 40.75 31.45 M35.5 37.49 C37.05 35.36, 39.04 33.33, 40.75 31.45" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M9.61 0 C14.5 1.8, 22.35 -2.15, 31.4 0 M9.61 0 C17.76 0.43, 27.53 -0.43, 31.4 0 M31.4 0 C39.44 -0.4, 39.92 4.93, 41.01 9.61 M31.4 0 C38.01 1.7, 39.9 1.91, 41.01 9.61 M41.01 9.61 C42.26 14.58, 39.1 22.39, 41.01 28.83 M41.01 9.61 C41.42 16.03, 41.95 21.24, 41.01 28.83 M41.01 28.83 C40.33 34.41, 39.23 38.99, 31.4 38.44 M41.01 28.83 C42.04 35.48, 36.14 40, 31.4 38.44 M31.4 38.44 C27.15 40.08, 20 36.74, 9.61 38.44 M31.4 38.44 C24.98 37.38, 20.59 37.79, 9.61 38.44 M9.61 38.44 C3.67 39.16, 1.47 35.69, 0 28.83 M9.61 38.44 C4.68 39.81, 1.97 34.72, 0 28.83 M0 28.83 C1.88 21.52, 1.92 13.85, 0 9.61 M0 28.83 C0.23 22.9, -0.47 17.59, 0 9.61 M0 9.61 C0.51 1.89, 2.71 -1.77, 9.61 0 M0 9.61 C-2.19 3.57, 4.1 1.39, 9.61 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(223.3852540502471 10) rotate(0 46.477155548504925 143.3449778590912)"><path d="M5.53 6.13 C5.53 6.13, 5.53 6.13, 5.53 6.13 M5.53 6.13 C5.53 6.13, 5.53 6.13, 5.53 6.13 M0.41 24.21 C5.64 21.29, 9.95 12.88, 20.75 0.81 M0.41 24.21 C4.23 19.64, 8.23 14.79, 20.75 0.81 M0.55 36.25 C11.12 23.86, 17.71 14.48, 31.38 0.78 M0.55 36.25 C13.2 22.38, 24.13 9.91, 31.38 0.78 M0.68 48.29 C12.1 36.1, 18.58 25.59, 42.01 0.75 M0.68 48.29 C12.57 34.92, 24.69 19.06, 42.01 0.75 M0.81 60.33 C13.69 45.97, 23.83 30.52, 52.64 0.71 M0.81 60.33 C14.94 43.88, 27.9 29.45, 52.64 0.71 M0.29 73.13 C17.54 53.61, 32.49 36.41, 63.27 0.68 M0.29 73.13 C17.41 53.33, 34.6 34.22, 63.27 0.68 M0.42 85.17 C19.19 65.45, 34.57 47.43, 73.9 0.64 M0.42 85.17 C25.37 57, 50.96 29.02, 73.9 0.64 M0.56 97.21 C28.62 67.35, 51.85 35.74, 82.56 2.87 M0.56 97.21 C18.38 77.23, 35.8 56.87, 82.56 2.87 M0.69 109.25 C31.28 72.79, 63.93 34.7, 88.6 8.12 M0.69 109.25 C28.58 76.32, 56.5 45.27, 88.6 8.12 M0.82 121.29 C30.09 87.62, 56.97 55.43, 92.02 16.39 M0.82 121.29 C34.31 81.54, 68.42 42.5, 92.02 16.39 M0.3 134.09 C34.93 94.49, 66.76 55.82, 92.8 27.67 M0.3 134.09 C19.61 110.99, 39.27 88.62, 92.8 27.67 M0.43 146.13 C26.54 116.88, 48.53 88.45, 92.94 39.71 M0.43 146.13 C21.19 121.02, 43.88 95.29, 92.94 39.71 M0.57 158.17 C31.1 120.25, 63.32 82.99, 93.07 51.76 M0.57 158.17 C33.52 121.89, 64.73 85.27, 93.07 51.76 M0.7 170.21 C18.67 147.29, 42.61 121.64, 93.2 63.8 M0.7 170.21 C23.3 144.01, 44.2 120.38, 93.2 63.8 M0.83 182.25 C35.45 143.65, 66.57 110.02, 93.34 75.84 M0.83 182.25 C32.06 146.89, 64.23 110.96, 93.34 75.84 M0.31 195.05 C21.69 170.91, 39.69 148.26, 93.47 87.88 M0.31 195.05 C27.87 164.38, 56.5 131.08, 93.47 87.88 M0.44 207.09 C29.99 176.52, 55.02 144.87, 92.95 100.67 M0.44 207.09 C30.56 173.18, 60.14 138.54, 92.95 100.67 M0.58 219.13 C24.66 188.08, 52.49 159.65, 93.08 112.71 M0.58 219.13 C23.34 192.76, 47.18 164.97, 93.08 112.71 M0.71 231.17 C21.63 207.12, 46.01 179.33, 93.21 124.76 M0.71 231.17 C31.82 195.89, 63.56 158.78, 93.21 124.76 M0.84 243.21 C21.68 216.73, 44.55 193.68, 93.35 136.8 M0.84 243.21 C23.55 215.75, 49.53 187.63, 93.35 136.8 M0.32 256.01 C23.47 227.48, 46.69 201.39, 93.48 148.84 M0.32 256.01 C31.27 220.98, 61.83 185, 93.48 148.84 M0.45 268.05 C27.89 238.82, 52.51 206.83, 93.61 160.88 M0.45 268.05 C33.13 228.8, 66.43 192.1, 93.61 160.88 M3.87 276.31 C38.83 233.65, 75.84 194.02, 93.09 173.67 M3.87 276.31 C36.3 238.62, 67.96 201.77, 93.09 173.67 M8.59 283.07 C31.17 259.37, 49.6 236.75, 93.22 185.71 M8.59 283.07 C32.12 254.56, 57.92 225.39, 93.22 185.71 M16.6 286.06 C44.11 255.2, 68.61 223.96, 93.36 197.75 M16.6 286.06 C44.35 253.53, 72.66 221.91, 93.36 197.75 M26.57 286.78 C47.67 260.62, 70.11 236.07, 93.49 209.8 M26.57 286.78 C47.99 260.67, 70.48 235.16, 93.49 209.8 M37.2 286.74 C56.36 266.02, 72.86 245.78, 93.62 221.84 M37.2 286.74 C50.6 272.18, 62.81 257.75, 93.62 221.84 M47.83 286.71 C62.02 268.26, 77.04 253.34, 93.1 234.63 M47.83 286.71 C58.29 274.58, 68.82 262.38, 93.1 234.63 M58.46 286.67 C65.73 276.34, 72.81 271.45, 93.23 246.67 M58.46 286.67 C69.32 273.92, 78.52 263.53, 93.23 246.67 M69.09 286.64 C74.81 280.69, 82.79 273.21, 93.37 258.71 M69.09 286.64 C76.17 278.93, 84.13 269.72, 93.37 258.71 M82.35 283.58 C82.77 281.04, 87.32 279.57, 91.53 273.02 M82.35 283.58 C84.43 281.06, 87.31 277.44, 91.53 273.02" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M23.24 0 C39.6 -2.44, 59.66 -2.27, 69.72 0 M23.24 0 C39.69 -0.59, 55.37 -0.44, 69.72 0 M69.72 0 C84.13 1.73, 93.13 9.22, 92.95 23.24 M69.72 0 C84.1 -1.29, 92.67 5.96, 92.95 23.24 M92.95 23.24 C92.89 108.29, 94.48 190.65, 92.95 263.45 M92.95 23.24 C94.53 97.4, 93.46 171.32, 92.95 263.45 M92.95 263.45 C94.38 279.5, 86.1 286.91, 69.72 286.69 M92.95 263.45 C91.29 280.51, 84.2 284.88, 69.72 286.69 M69.72 286.69 C57.98 285.52, 46.1 285.78, 23.24 286.69 M69.72 286.69 C61.13 285.86, 50.9 286.66, 23.24 286.69 M23.24 286.69 C9.21 287.15, 1.28 280.14, 0 263.45 M23.24 286.69 C9.71 286.18, 1.92 276.8, 0 263.45 M0 263.45 C-0.27 179.45, -1.5 96.7, 0 23.24 M0 263.45 C-1.01 211.62, -0.48 157.68, 0 23.24 M0 23.24 C-0.49 5.98, 5.84 0.32, 23.24 0 M0 23.24 C0.9 9.13, 5.96 2.21, 23.24 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(236.54697991125204 128.3449778590912) rotate(0 33.3154296875 25)"><text x="33.3154296875" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">api</text><text x="33.3154296875" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">gateway</text></g><g stroke-linecap="round"><g transform="translate(326.59821846615137 126.18615305161711) rotate(0 20.608240202992874 -20.746324505709254)"><path d="M-1.09 0.44 C5.9 -6.56, 33.51 -33.82, 40.72 -40.88 M0.54 -0.37 C7.43 -7.21, 32.62 -35.93, 39.52 -42.67" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(326.59821846615137 126.18615305161711) rotate(0 20.608240202992874 -20.746324505709254)"><path d="M28 -15.8 C30.8 -21.9, 33.4 -24.88, 39.52 -42.67 M28 -15.8 C30.29 -22.03, 33.97 -29.27, 39.52 -42.67" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(326.59821846615137 126.18615305161711) rotate(0 20.608240202992874 -20.746324505709254)"><path d="M13.42 -29.49 C19.27 -32.72, 24.79 -32.95, 39.52 -42.67 M13.42 -29.49 C19.68 -32.06, 27.23 -35.68, 39.52 -42.67" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(417.45095383401144 85.72408444583925) rotate(0 11.18819642986466 -0.4277245474395386)"><path d="M-0.23 0.28 C3.66 0.07, 18.97 -0.84, 22.81 -1.05 M0.66 -0.05 C4.55 -0.2, 18.93 -0.39, 22.61 -0.45" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(417.45095383401144 85.72408444583925) rotate(0 11.18819642986466 -0.4277245474395386)"><path d="M12.15 3.54 C14.61 3.17, 16.32 2.35, 22.61 -0.45 M12.15 3.54 C15.11 2.59, 17.88 1.11, 22.61 -0.45" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(417.45095383401144 85.72408444583925) rotate(0 11.18819642986466 -0.4277245474395386)"><path d="M12.03 -4.12 C14.54 -2.88, 16.26 -2.1, 22.61 -0.45 M12.03 -4.12 C15 -2.93, 17.81 -2.27, 22.61 -0.45" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(621.3846293972767 88.30390336976325) rotate(0 21.291925896930934 -0.6062237680239377)"><path d="M0.44 -0.19 C7.65 -0.46, 36.06 -1.23, 43.03 -1.32 M0 -0.77 C7.19 -0.98, 35.87 -0.55, 42.83 -0.68" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(621.3846293972767 88.30390336976325) rotate(0 21.291925896930934 -0.6062237680239377)"><path d="M22.82 6.6 C27.63 5.45, 32.97 2.21, 42.83 -0.68 M22.82 6.6 C30.31 3.43, 38.22 0.51, 42.83 -0.68" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(621.3846293972767 88.30390336976325) rotate(0 21.291925896930934 -0.6062237680239377)"><path d="M22.82 -7.97 C27.67 -5.34, 33 -4.81, 42.83 -0.68 M22.82 -7.97 C30.31 -5.51, 38.23 -2.8, 42.83 -0.68" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(326.9619527269658 182.10692774200652) rotate(0 161.6192565551919 24.76760883360157)"><path d="M0.98 -0.24 C54.59 8.26, 268.86 42.13, 322.59 50.57 M0.04 -1.41 C53.95 6.81, 271.19 40.67, 324.96 48.99" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(326.9619527269658 182.10692774200652) rotate(0 161.6192565551919 24.76760883360157)"><path d="M30.43 -5.97 C18.83 -4.64, 9.79 -1.2, 0.98 -0.24 M30.43 -5.97 C19.27 -4.77, 8.86 -1.12, 0.98 -0.24" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(326.9619527269658 182.10692774200652) rotate(0 161.6192565551919 24.76760883360157)"><path d="M27.22 14.3 C16.91 7.91, 9.09 3.66, 0.98 -0.24 M27.22 14.3 C17.36 7.94, 8.15 4.01, 0.98 -0.24" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(326.9619527269658 182.10692774200652) rotate(0 161.6192565551919 24.76760883360157)"><path d="M295.53 54.8 C306.31 51.28, 319.61 50.33, 324.96 48.99 M295.53 54.8 C306.44 52.02, 318.04 51.36, 324.96 48.99" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(326.9619527269658 182.10692774200652) rotate(0 161.6192565551919 24.76760883360157)"><path d="M298.68 34.53 C308.2 38.72, 320.3 45.47, 324.96 48.99 M298.68 34.53 C308.31 39.31, 318.74 46.22, 324.96 48.99" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(140.2719754541606 155.28489391676794) rotate(0 39.47190311800534 0)"><path d="M-0.65 1.04 C12.36 1.22, 65.88 1.17, 79.05 0.89 M1.21 0.54 C13.99 0.42, 65.48 -0.73, 78.16 -0.77" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(140.2719754541606 155.28489391676794) rotate(0 39.47190311800534 0)"><path d="M27.55 -9.2 C18.49 -5.27, 7.48 -2.5, -0.65 1.04 M27.55 -9.2 C21.14 -6.19, 13.5 -5.34, -0.65 1.04" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(140.2719754541606 155.28489391676794) rotate(0 39.47190311800534 0)"><path d="M27.53 11.32 C18.53 7.42, 7.52 2.36, -0.65 1.04 M27.53 11.32 C21.15 9.32, 13.51 5.17, -0.65 1.04" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(140.2719754541606 155.28489391676794) rotate(0 39.47190311800534 0)"><path d="M50.12 9.88 C62.57 6.15, 73.02 0.94, 78.16 -0.77 M50.12 9.88 C57.44 8.23, 63.51 3.99, 78.16 -0.77" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(140.2719754541606 155.28489391676794) rotate(0 39.47190311800534 0)"><path d="M49.83 -10.64 C62.35 -6.54, 72.91 -3.91, 78.16 -0.77 M49.83 -10.64 C57.2 -7.28, 63.34 -6.52, 78.16 -0.77" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(354.68273178023946 25.10240303525825) rotate(0 40.929954528808594 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">producer</text></g></svg></span></span></div></div><div class="MuiGrid-root MuiGrid-item mui-1wxaqej"><span class="MuiTypography-root MuiTypography-caption mui-17cupi8">Scalability</span></div></div></div></div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><strong>Jobs DB</strong></div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">As discussed earlier, we chose DynamoDB or Cassandra for our <span class="MuiBox-root mui-1vu004u">Jobs</span> and <span class="MuiBox-root mui-1vu004u">Executions</span> tables. This was a good choice for scale since DynamoDB can handle thousands of writes per second per partition. We've already set up our partition keys optimally:</div><ul class="MuiList-root MuiList-padding mui-sedpvs">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Jobs table: Partitioned by job_id to distribute load across jobs</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Executions table: Partitioned by execution_time to enable efficient querying of upcoming jobs</div></li>
</ul><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">With proper provisioning, these tables should easily handle our load of 10k operations per second and scale nearly infinitely to support an increasing number of jobs.</div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Notably, once a job has been executed, we need to keep it around for users to query. But once a reasonable amount of time has passed (say 1 year) we can move it off to a cheaper storage solution like S3.</div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><strong>Message Queue Capacity</strong></div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Let's do some quick math to understand our SQS requirements. For each 5-minute window, we need to process around 3 million jobs (<span class="MuiBox-root mui-1vu004u">10k jobs/second * 300 seconds</span>). While SQS messages can be up to 256KB in size, our messages will be quite small, around 200 bytes each containing just the job ID, execution time, and metadata.</div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">SQS automatically handles scaling and message distribution across consumers, which is one of its biggest advantages. We don't need to worry about manual sharding or partitioning - AWS handles all of that for us under the hood. The service can handle our throughput requirements of 10,000 messages per second without any special configuration, though we'll need to request a quota increase from AWS as the default limit is 3,000 messages per second with batching.</div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">We might still want multiple queues, but only for functional separation (like different queues for different job priorities or types), not for scaling purposes.</div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><div class="MuiBox-root mui-10khgmf" style="cursor: pointer;"><div class="MuiGrid-root MuiGrid-container MuiGrid-direction-xs-column mui-1tdxmx0"><div class="MuiGrid-root MuiGrid-item mui-tolxbf"><div class="relative w-full"><button class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall mui-wksd04" tabindex="0" type="button" aria-label="zoom-in"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ZoomInIcon"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"></path><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"></path></svg><span class="MuiTouchRipple-root mui-w0pj6f"></span></button><span class="w-full h-full"><span class="block"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1929.0278751910446 684.1779328541697">
  <!-- svg-source:excalidraw -->
  <!-- payload-type:application/vnd.excalidraw+json --><!-- payload-version:2 -->
  <defs>
    <style class="style-fonts">
      
      
      
    </style>
    
  </defs>
  <rect x="0" y="0" width="1929.0278751910446" height="684.1779328541697" fill="#ffffff"></rect><g stroke-linecap="round" transform="translate(515.2737544801546 38.33160706004219) rotate(0 98.697265625 53.470703125)"><path d="M4.03 10.13 C4.03 10.13, 4.03 10.13, 4.03 10.13 M4.03 10.13 C4.03 10.13, 4.03 10.13, 4.03 10.13 M0.88 25.94 C7.5 21.56, 9.6 14.54, 22.53 1.04 M0.88 25.94 C4.44 21.74, 10.05 15.98, 22.53 1.04 M1.02 37.99 C8.56 29.78, 16.14 17.11, 33.82 0.25 M1.02 37.99 C9.68 27.29, 17.87 18.16, 33.82 0.25 M1.15 50.03 C13.84 34.03, 27.8 16.66, 44.45 0.22 M1.15 50.03 C12.48 38.15, 21.63 24.71, 44.45 0.22 M1.28 62.07 C13.62 44.18, 29.36 31.53, 55.08 0.18 M1.28 62.07 C21.1 38.51, 40.71 15.75, 55.08 0.18 M1.42 74.11 C23.36 44.2, 47.75 19.66, 65.71 0.15 M1.42 74.11 C18.95 53.76, 37.79 33.95, 65.71 0.15 M0.89 86.9 C28.92 52.17, 59.02 17.08, 76.34 0.11 M0.89 86.9 C25.76 59.69, 50.12 31.09, 76.34 0.11 M3.65 95.93 C33.03 61.17, 65.3 25.2, 86.97 0.08 M3.65 95.93 C34.89 59.36, 67.29 22.67, 86.97 0.08 M9.03 101.93 C30.75 77.36, 51.97 54.67, 97.6 0.04 M9.03 101.93 C30.31 75.64, 52.29 52.23, 97.6 0.04 M16.38 105.67 C47.47 70.6, 77.31 37.66, 108.23 0.01 M16.38 105.67 C45.22 72.28, 72.35 41.58, 108.23 0.01 M25.7 107.14 C53.85 71.93, 83.55 39.72, 118.86 -0.03 M25.7 107.14 C45.47 83.9, 65.61 60.4, 118.86 -0.03 M36.33 107.11 C70.46 66.47, 101.88 29.19, 128.84 0.69 M36.33 107.11 C55.94 83.3, 74.62 60.19, 128.84 0.69 M46.96 107.07 C68.34 82.22, 87.74 58.93, 139.47 0.66 M46.96 107.07 C75.32 75.46, 102.38 44.16, 139.47 0.66 M57.59 107.04 C90.4 72.68, 120.62 35.1, 150.1 0.63 M57.59 107.04 C92.19 65.3, 126.65 26.78, 150.1 0.63 M68.22 107 C93.5 80.45, 117 52.93, 160.73 0.59 M68.22 107 C94.54 77.14, 119.4 47.45, 160.73 0.59 M78.85 106.97 C107.59 71.94, 137.43 39.43, 171.36 0.56 M78.85 106.97 C107.23 76.6, 134.81 44.1, 171.36 0.56 M89.48 106.94 C123.9 66.64, 160.9 26.27, 180.67 2.03 M89.48 106.94 C121.22 71.57, 153.12 35.07, 180.67 2.03 M100.11 106.9 C132.24 74.56, 160.41 37.28, 188.68 5.02 M100.11 106.9 C130.47 71.6, 162.54 36.31, 188.68 5.02 M110.74 106.87 C134.58 78.76, 159.64 50.33, 194.06 11.02 M110.74 106.87 C129.4 87.47, 146.28 67.72, 194.06 11.02 M121.37 106.83 C140.3 84.07, 160.02 57.77, 196.82 20.04 M121.37 106.83 C148.03 75.78, 174.42 45.89, 196.82 20.04 M132 106.8 C155.09 83.5, 175.69 57.34, 197.61 31.33 M132 106.8 C156.03 80.44, 177.19 54.38, 197.61 31.33 M141.98 107.52 C158.84 89.42, 174 67.36, 197.74 43.37 M141.98 107.52 C153.38 94.7, 165.1 80.52, 197.74 43.37 M152.61 107.48 C170.46 89.52, 186.48 67.28, 197.87 55.41 M152.61 107.48 C163.65 96.68, 172.16 84.12, 197.87 55.41 M163.24 107.45 C172.26 93.63, 183.21 80.39, 198.01 67.45 M163.24 107.45 C173.59 96.5, 181.31 85.91, 198.01 67.45 M174.52 106.66 C180.02 98.81, 190.18 90.25, 197.48 80.24 M174.52 106.66 C180.33 100.87, 183.74 95.82, 197.48 80.24" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M26.74 0 C80.33 -2, 129.24 -0.19, 170.66 0 M26.74 0 C57.24 -0.58, 88.41 0.03, 170.66 0 M170.66 0 C189.45 0.56, 197.18 8.26, 197.39 26.74 M170.66 0 C189.04 1.29, 195.17 7.01, 197.39 26.74 M197.39 26.74 C198.66 40.41, 198.45 57.45, 197.39 80.21 M197.39 26.74 C197.28 47.16, 197.31 64.81, 197.39 80.21 M197.39 80.21 C197.09 97.89, 188.28 106.56, 170.66 106.94 M197.39 80.21 C197.45 95.93, 188.79 107.8, 170.66 106.94 M170.66 106.94 C140.92 105.79, 112.13 104.81, 26.74 106.94 M170.66 106.94 C113.82 106.59, 56.95 105.06, 26.74 106.94 M26.74 106.94 C7.44 106.83, -0.9 98.26, 0 80.21 M26.74 106.94 C6.82 104.92, 1.2 99.52, 0 80.21 M0 80.21 C0.78 64.5, -1.19 43.61, 0 26.74 M0 80.21 C-1.28 60.91, -1.39 40.39, 0 26.74 M0 26.74 C1.35 9.56, 10.01 -1.32, 26.74 0 M0 26.74 C0.81 8.33, 8.34 2.24, 26.74 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(541.5003169801546 79.30231018504219) rotate(0 72.470703125 12.5)"><text x="72.470703125" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Scheduler Service</text></g><g stroke-linecap="round"><g transform="translate(720.3245357301546 134.49725371739896) rotate(0 39.22324959116702 15.758255254877895)"><path d="M-0.04 -1.02 C13.12 4.41, 64.88 26.39, 77.86 31.76 M-1.53 1.07 C12.14 6.17, 67.21 24.55, 80.26 29.76" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(720.3245357301546 134.49725371739896) rotate(0 39.22324959116702 15.758255254877895)"><path d="M29.92 0.47 C22.07 -0.83, 18 -1.13, -0.04 -1.02 M29.92 0.47 C22.3 0.44, 13.61 -0.57, -0.04 -1.02" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(720.3245357301546 134.49725371739896) rotate(0 39.22324959116702 15.758255254877895)"><path d="M21.96 19.38 C15.87 14.2, 13.44 10, -0.04 -1.02 M21.96 19.38 C16.55 14.21, 10.01 8.09, -0.04 -1.02" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(720.3245357301546 134.49725371739896) rotate(0 39.22324959116702 15.758255254877895)"><path d="M50.26 29.83 C54.74 28.85, 63 28.83, 80.26 29.76 M50.26 29.83 C58.86 30, 66.38 29.37, 80.26 29.76" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(720.3245357301546 134.49725371739896) rotate(0 39.22324959116702 15.758255254877895)"><path d="M57.24 10.53 C60.15 13.51, 66.98 17.47, 80.26 29.76 M57.24 10.53 C63.89 15.94, 69.52 20.54, 80.26 29.76" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(812.917754118215 80.24057533496762) rotate(0 89.47739173275392 87.55859375)"><path d="M12.11 42.33 C12.11 42.33, 12.11 42.33, 12.11 42.33 M12.11 42.33 C12.11 42.33, 12.11 42.33, 12.11 42.33 M5.03 62.67 C17.21 47.97, 31.55 29.4, 41.77 20.41 M5.03 62.67 C18.26 45.86, 32.06 30.17, 41.77 20.41 M3.19 76.97 C22.82 56.51, 45.05 32.6, 58.3 13.58 M3.19 76.97 C18.24 60.77, 32.1 42.6, 58.3 13.58 M3.98 88.26 C22.48 66.44, 44.58 45.72, 73.52 8.26 M3.98 88.26 C28.63 59.91, 54.57 31.23, 73.52 8.26 M4.77 99.55 C24.83 78.98, 41.26 56.46, 84.81 7.47 M4.77 99.55 C25.48 77.96, 44.79 53.72, 84.81 7.47 M5.56 110.83 C26.06 86.24, 45.03 62.55, 96.1 6.68 M5.56 110.83 C31.99 81.42, 57.6 50.59, 96.1 6.68 M8.97 119.1 C40.35 84.07, 68.77 49.95, 108.04 5.14 M8.97 119.1 C41.61 81.59, 73.58 44.2, 108.04 5.14 M12.39 127.37 C48.39 89.72, 79.34 47.93, 116.04 8.12 M12.39 127.37 C43.76 89.6, 76.33 54.26, 116.04 8.12 M16.46 134.88 C39.99 104.44, 68.54 74.39, 124.05 11.11 M16.46 134.88 C38.73 108.65, 60.35 84.64, 124.05 11.11 M20.52 142.39 C45.47 112.14, 72.28 84.34, 132.05 14.09 M20.52 142.39 C45.35 113.55, 70.04 84.96, 132.05 14.09 M26.56 147.64 C56.91 113.21, 90.15 76.99, 140.06 17.08 M26.56 147.64 C64.11 105.1, 101.11 61.61, 140.06 17.08 M32.6 152.89 C59.06 123.29, 89 91.8, 146.1 22.33 M32.6 152.89 C64.26 116.22, 97.44 80.98, 146.1 22.33 M38.64 158.14 C65.45 126.75, 93.57 97.79, 152.79 26.82 M38.64 158.14 C75.08 115.31, 111.17 74.69, 152.79 26.82 M44.68 163.39 C85.77 119.09, 125.87 72.59, 158.83 32.07 M44.68 163.39 C67.45 135.64, 91.36 109.77, 158.83 32.07 M52.68 166.37 C92.21 119.24, 133.52 73.45, 164.87 37.32 M52.68 166.37 C92.44 122.34, 130.61 77.46, 164.87 37.32 M60.69 169.36 C89.76 134.46, 117.74 102.94, 168.28 45.58 M60.69 169.36 C100.55 123.17, 139.18 77.62, 168.28 45.58 M68.69 172.34 C94.7 142.19, 119.21 112.98, 171.69 53.85 M68.69 172.34 C102.02 133.61, 134.64 96.1, 171.69 53.85 M76.7 175.32 C114.86 131.88, 149.37 88.31, 175.76 61.36 M76.7 175.32 C97.23 151.3, 118.55 126.79, 175.76 61.36 M87.99 174.54 C116.52 138.31, 149.55 107.45, 179.18 69.63 M87.99 174.54 C120.35 136.55, 154.27 96.7, 179.18 69.63 M98.62 174.5 C128.87 144.17, 155.01 111.07, 179.97 80.92 M98.62 174.5 C117.27 152.38, 135.82 132.13, 179.97 80.92 M109.9 173.71 C137.25 142.35, 163.55 114.44, 180.76 92.2 M109.9 173.71 C132.67 148.54, 153.79 122.68, 180.76 92.2 M117.25 177.45 C138.88 150.28, 163.41 123.97, 181.54 103.49 M117.25 177.45 C142.41 149.59, 166.49 123.05, 181.54 103.49" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M68.09 3.1 C78.37 -0.75, 91.75 -0.76, 102.93 0.85 C114.11 2.45, 125.36 7.12, 135.19 12.72 C145.03 18.33, 155.22 25.58, 161.93 34.47 C168.64 43.36, 172.76 54.97, 175.46 66.06 C178.16 77.16, 179.55 90.05, 178.11 101.06 C176.67 112.07, 172.61 122.53, 166.8 132.13 C160.99 141.72, 152.4 151.95, 143.23 158.63 C134.07 165.31, 123.14 169.62, 111.82 172.22 C100.51 174.81, 86.58 175.78, 75.34 174.2 C64.09 172.61, 54.14 168.48, 44.36 162.7 C34.58 156.92, 23.61 148.53, 16.65 139.53 C9.69 130.53, 5.24 119.49, 2.6 108.69 C-0.05 97.88, -0.76 85.7, 0.78 74.69 C2.32 63.68, 5.87 52.38, 11.84 42.64 C17.81 32.9, 26.08 23.25, 36.58 16.24 C47.09 9.23, 67.55 2.93, 74.88 0.57 C82.22 -1.78, 80.45 0.65, 80.6 2.11 M131.84 11.33 C142.14 15.11, 152.38 22.21, 159.38 30.6 C166.39 39, 170.81 50.81, 173.89 61.7 C176.97 72.59, 179 85.02, 177.88 95.94 C176.77 106.85, 172.3 117.18, 167.21 127.19 C162.11 137.19, 155.81 148.42, 147.32 155.98 C138.83 163.54, 127.42 169.25, 116.28 172.54 C105.14 175.82, 91.68 177.02, 80.49 175.66 C69.29 174.31, 59.27 169.61, 49.13 164.41 C39 159.2, 26.99 152.99, 19.66 144.43 C12.34 135.87, 8.62 123.78, 5.2 113.04 C1.78 102.3, -1.49 91.15, -0.86 80 C-0.23 68.84, 3.25 55.98, 8.97 46.08 C14.69 36.18, 24.27 27.79, 33.43 20.6 C42.6 13.4, 53.13 6.32, 63.96 2.89 C74.79 -0.55, 87.23 -1.45, 98.4 0.01 C109.56 1.46, 125.8 9.42, 130.95 11.62 C136.09 13.82, 129.73 12.02, 129.27 13.2" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(847.6348410188535 142.88589369318456) rotate(0 54.990234375 25)"><text x="54.990234375" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Job Store</text><text x="54.990234375" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">(DynamoDB)</text></g><g transform="translate(1023.4826870800541 84.88780423003573) rotate(0 49.43994903564453 75)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Jobs</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- id</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- userId</text><text x="0" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- taskId</text><text x="0" y="100" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- params</text><text x="0" y="125" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- schedule</text></g><g transform="translate(1157.9286877196107 85.1261715337796) rotate(0 52.00994873046875 75)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Executions</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- time</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- jobId</text><text x="0" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- userId</text><text x="0" y="100" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- status</text><text x="0" y="125" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- attempt</text></g><g stroke-linecap="round"><g transform="translate(904.5964639359524 266.8699652474361) rotate(0 0.9476839926498997 58.65029357750063)"><path d="M-0.13 -0.39 C0.14 19.22, 2.04 98.52, 2.19 117.97 M-1.66 -1.64 C-1.57 17.59, 0.61 96.41, 1.39 116.2" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(904.5964639359524 266.8699652474361) rotate(0 0.9476839926498997 58.65029357750063)"><path d="M10.71 27.59 C6.2 18.31, 4.2 6.15, -0.13 -0.39 M10.71 27.59 C9.04 22.12, 5.58 15.92, -0.13 -0.39" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(904.5964639359524 266.8699652474361) rotate(0 0.9476839926498997 58.65029357750063)"><path d="M-9.81 28.01 C-7.17 18.61, -2.02 6.3, -0.13 -0.39 M-9.81 28.01 C-7.02 22.42, -6.01 16.13, -0.13 -0.39" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(904.5964639359524 266.8699652474361) rotate(0 0.9476839926498997 58.65029357750063)"><path d="M-9.77 88.36 C-6.45 98.56, -0.8 105.84, 1.39 116.2 M-9.77 88.36 C-6.81 95, -5.47 100.95, 1.39 116.2" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(904.5964639359524 266.8699652474361) rotate(0 0.9476839926498997 58.65029357750063)"><path d="M10.74 87.7 C6.91 98.1, 5.42 105.62, 1.39 116.2 M10.74 87.7 C9.24 94.51, 6.11 100.6, 1.39 116.2" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(780.4747933105998 394.8336908473584) rotate(0 125.576171875 63.78515625000003)"><path d="M4.79 12.11 C4.79 12.11, 4.79 12.11, 4.79 12.11 M4.79 12.11 C4.79 12.11, 4.79 12.11, 4.79 12.11 M2.95 26.42 C6.79 18.02, 13.39 15.36, 25.26 0.76 M2.95 26.42 C11.31 17.04, 20.52 7.41, 25.26 0.76 M3.08 38.46 C10.23 28.02, 17.01 21.23, 34.58 2.23 M3.08 38.46 C14.01 23.92, 25.94 10.58, 34.58 2.23 M2.56 51.25 C19.62 34.29, 37.98 14.58, 45.21 2.2 M2.56 51.25 C13.63 38.09, 26.31 25.8, 45.21 2.2 M2.69 63.29 C20.19 44.09, 40.2 19.99, 55.84 2.16 M2.69 63.29 C15.35 50.21, 28.17 36.4, 55.84 2.16 M2.83 75.33 C27.15 46.2, 53.02 18.23, 66.47 2.13 M2.83 75.33 C16.88 58.8, 31.26 42.33, 66.47 2.13 M2.96 87.37 C28.49 58.42, 54.95 31.85, 77.1 2.09 M2.96 87.37 C19.49 68.9, 35.69 48.54, 77.1 2.09 M3.09 99.42 C31.41 68.37, 55.22 37.1, 87.73 2.06 M3.09 99.42 C35.51 63.83, 67.71 26.16, 87.73 2.06 M5.85 108.44 C33.54 77.74, 58.96 46.59, 98.36 2.02 M5.85 108.44 C37.85 72.04, 71.07 33.52, 98.36 2.02 M7.95 118.21 C43.34 78.31, 79.54 37.27, 108.99 1.99 M7.95 118.21 C41.65 79.01, 75.66 40.73, 108.99 1.99 M13.33 124.22 C44.42 87.07, 78.17 49.55, 119.62 1.95 M13.33 124.22 C51.18 78.92, 90.28 33.39, 119.62 1.95 M22 126.45 C62.3 78.83, 102.59 32.58, 130.25 1.92 M22 126.45 C59.52 82.98, 97.4 38.61, 130.25 1.92 M28.69 130.94 C61.82 91.04, 95.73 55.16, 140.22 2.64 M28.69 130.94 C70.29 84.19, 111.91 34.85, 140.22 2.64 M38.01 132.42 C74.77 90.55, 110.63 46.89, 150.85 2.61 M38.01 132.42 C74.41 89.33, 113.29 46.07, 150.85 2.61 M48.64 132.38 C84.08 93.05, 119.77 50.1, 161.48 2.57 M48.64 132.38 C76.5 99.31, 104.55 66.86, 161.48 2.57 M59.27 132.35 C90.82 97.52, 119.37 64.43, 172.11 2.54 M59.27 132.35 C89.36 97.9, 118.61 63.98, 172.11 2.54 M69.9 132.31 C95.25 99.71, 122.5 69.4, 182.74 2.5 M69.9 132.31 C94.83 105.67, 117.53 79.24, 182.74 2.5 M79.87 133.03 C115.37 92.23, 150.42 48.84, 193.37 2.47 M79.87 133.03 C120.86 85.14, 161.13 38.05, 193.37 2.47 M90.5 133 C125.26 89.51, 163.81 51.62, 204 2.43 M90.5 133 C117.4 102.4, 144.87 70.08, 204 2.43 M101.13 132.96 C137 90.38, 173.85 47.83, 214.63 2.4 M101.13 132.96 C137.25 89.36, 176.11 45.76, 214.63 2.4 M111.76 132.93 C133.2 104.13, 156.66 77.13, 223.95 3.87 M111.76 132.93 C145.75 93.31, 181.08 54, 223.95 3.87 M122.39 132.89 C166.25 79.75, 208.58 29.27, 234.58 3.84 M122.39 132.89 C157.21 89.68, 194.31 48.31, 234.58 3.84 M133.02 132.86 C170.64 87.66, 210.05 43.66, 241.93 7.58 M133.02 132.86 C162.95 96.51, 195.21 61.44, 241.93 7.58 M143.65 132.83 C182.01 91.39, 215.28 48.47, 247.31 13.58 M143.65 132.83 C177.62 92.48, 213.89 49.72, 247.31 13.58 M154.28 132.79 C190.96 89.65, 227.22 48.1, 250.72 21.85 M154.28 132.79 C181.33 102.71, 206.86 71.8, 250.72 21.85 M164.91 132.76 C189.36 101.51, 215.86 73.26, 255.45 28.61 M164.91 132.76 C187.07 105.3, 212.69 78.78, 255.45 28.61 M175.54 132.72 C198.95 104.18, 224.02 74.88, 255.58 40.65 M175.54 132.72 C197.99 106.26, 219.73 80.98, 255.58 40.65 M186.17 132.69 C213.16 99.45, 238.62 69.87, 255.72 52.69 M186.17 132.69 C200.85 115.54, 215.98 99.63, 255.72 52.69 M196.8 132.65 C216.62 107.04, 238.68 83.41, 255.85 64.73 M196.8 132.65 C212.48 112.97, 230.92 94.28, 255.85 64.73 M207.43 132.62 C226.58 112.05, 240.31 91.6, 255.98 76.77 M207.43 132.62 C226.22 111.56, 244.22 90.64, 255.98 76.77 M221.34 128.81 C232.81 117.01, 242.12 102.98, 256.12 88.81 M221.34 128.81 C229.68 119.73, 238.07 108.89, 256.12 88.81 M233.94 126.51 C240.86 119.61, 248.28 111.52, 252.97 104.63 M233.94 126.51 C237.57 121.38, 241.24 117.77, 252.97 104.63" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M31.89 0 C87.19 -2.39, 138.6 -0.98, 219.26 0 M31.89 0 C90.09 -0.63, 149.98 -0.48, 219.26 0 M219.26 0 C239.95 -1.93, 251.22 12.47, 251.15 31.89 M219.26 0 C240.67 -2.14, 250.8 10.46, 251.15 31.89 M251.15 31.89 C249.2 50.64, 251.78 66.94, 251.15 95.68 M251.15 31.89 C250.64 55.64, 250.15 80.27, 251.15 95.68 M251.15 95.68 C251.95 115.36, 241.22 129.13, 219.26 127.57 M251.15 95.68 C252.66 115.22, 238.83 127.45, 219.26 127.57 M219.26 127.57 C169.73 126.91, 125.02 126.49, 31.89 127.57 M219.26 127.57 C147.84 128.37, 73.84 129.42, 31.89 127.57 M31.89 127.57 C12.28 127.18, -1.67 117.8, 0 95.68 M31.89 127.57 C8.46 126.75, 1.55 117.68, 0 95.68 M0 95.68 C-0.08 72.56, 2.37 48.81, 0 31.89 M0 95.68 C0.33 69.46, -1.38 44.65, 0 31.89 M0 31.89 C-1.37 11.95, 10.76 1.97, 31.89 0 M0 31.89 C-1 11.06, 11.81 -1.42, 31.89 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(787.7257698730998 421.1188470973584) rotate(0 118.3251953125 37.5)"><text x="118.3251953125" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Watcher</text><text x="118.3251953125" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- polls for Jobs that should be</text><text x="118.3251953125" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">executed soon</text></g><g stroke-linecap="round"><g transform="translate(1052.283811325741 454.6546290999804) rotate(0 36.28125 -0.10546875)"><path d="M-0.31 0.16 C12.09 0.41, 61.25 0.47, 73.3 0.51 M1.72 -0.8 C14.14 -0.81, 61.2 -1.09, 72.73 -1.24" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1052.283811325741 454.6546290999804) rotate(0 36.28125 -0.10546875)"><path d="M44.63 9.27 C50.7 8.43, 57.35 4.1, 72.73 -1.24 M44.63 9.27 C54.08 4.45, 64.21 2.67, 72.73 -1.24" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1052.283811325741 454.6546290999804) rotate(0 36.28125 -0.10546875)"><path d="M44.46 -11.25 C50.39 -7.92, 57.08 -8.07, 72.73 -1.24 M44.46 -11.25 C54.11 -8.91, 64.3 -3.52, 72.73 -1.24" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(1134.687582371788 412.2796290999804) rotate(0 128.51953125 42.5)"><path d="M3.19 8.07 C3.19 8.07, 3.19 8.07, 3.19 8.07 M3.19 8.07 C3.19 8.07, 3.19 8.07, 3.19 8.07 M0.7 23.13 C7.4 13.75, 16.82 6, 20.38 0.49 M0.7 23.13 C8.5 13.93, 15.6 4.54, 20.38 0.49 M0.83 35.17 C10.58 23.54, 16.81 13.56, 31.01 0.46 M0.83 35.17 C7.03 27.1, 15.92 19.63, 31.01 0.46 M0.96 47.21 C15.29 28.81, 31.39 13.53, 41.64 0.42 M0.96 47.21 C15.45 28.85, 32.7 11.66, 41.64 0.42 M1.1 59.25 C14.7 44.45, 29.9 30.44, 52.27 0.39 M1.1 59.25 C19.84 37.1, 38.58 15.64, 52.27 0.39 M1.23 71.29 C19.85 51.48, 36.35 32.07, 62.9 0.35 M1.23 71.29 C15.96 54.98, 30.19 38.96, 62.9 0.35 M5.3 78.81 C32.02 48.43, 59.18 17.77, 73.53 0.32 M5.3 78.81 C20.37 61.27, 36.45 41.57, 73.53 0.32 M11.99 83.3 C27.27 63.02, 47.57 43.14, 84.16 0.28 M11.99 83.3 C27.78 64.82, 44.58 45.3, 84.16 0.28 M20.65 85.53 C37.51 62.83, 59.22 41.9, 94.79 0.25 M20.65 85.53 C40.15 62, 61.38 38.73, 94.79 0.25 M31.28 85.5 C60.69 52.66, 89.22 19.53, 105.42 0.21 M31.28 85.5 C57.78 52.89, 86.02 21.66, 105.42 0.21 M41.91 85.46 C69.45 50.77, 97.69 17.63, 116.05 0.18 M41.91 85.46 C57.18 66.27, 73.53 47.11, 116.05 0.18 M52.54 85.43 C70.13 65.33, 87.86 45.2, 126.68 0.14 M52.54 85.43 C70.7 65.05, 87.24 45.14, 126.68 0.14 M63.17 85.39 C87.15 54.61, 116.79 23.16, 137.31 0.11 M63.17 85.39 C83.06 62.86, 102.57 39.92, 137.31 0.11 M73.8 85.36 C96.01 58.28, 118.25 35.79, 147.94 0.08 M73.8 85.36 C101.12 53.42, 129.76 21.58, 147.94 0.08 M84.44 85.32 C104.94 64.72, 121.72 43.65, 157.91 0.8 M84.44 85.32 C101.66 66.49, 118.68 46.13, 157.91 0.8 M95.07 85.29 C114.72 64.89, 132.5 42.83, 168.54 0.76 M95.07 85.29 C116.53 61.48, 135.26 38.7, 168.54 0.76 M105.7 85.25 C122.53 66.51, 140.27 44.98, 179.17 0.73 M105.7 85.25 C123.67 64.68, 141.54 43.82, 179.17 0.73 M116.33 85.22 C133.13 67.76, 148.68 47.18, 189.8 0.69 M116.33 85.22 C145.58 51.47, 173.13 19.58, 189.8 0.69 M126.3 85.94 C153.74 53.36, 183.87 20.76, 200.43 0.66 M126.3 85.94 C144.95 64.9, 162.27 44.39, 200.43 0.66 M136.93 85.91 C156.1 61.62, 175.7 41.12, 211.06 0.62 M136.93 85.91 C163.97 55.36, 188.49 25.82, 211.06 0.62 M147.56 85.87 C165.81 65.4, 181.32 49.11, 221.69 0.59 M147.56 85.87 C166.83 63.53, 184.54 40.47, 221.69 0.59 M158.19 85.84 C178.04 62.72, 194.35 42.51, 232.32 0.55 M158.19 85.84 C180.2 59.16, 202.85 33.28, 232.32 0.55 M168.82 85.8 C183.93 65.73, 199.73 48.78, 242.3 1.27 M168.82 85.8 C195.85 55.83, 222.88 23.2, 242.3 1.27 M179.45 85.77 C197.49 62.43, 217.2 42.59, 250.3 4.26 M179.45 85.77 C194.94 68.25, 209.23 50.55, 250.3 4.26 M190.08 85.73 C209.57 65.6, 228.33 42.87, 254.37 11.77 M190.08 85.73 C211.11 61.95, 229.85 39.28, 254.37 11.77 M200.71 85.7 C218.62 62.34, 237.2 44.57, 257.13 20.79 M200.71 85.7 C221.83 61.88, 241.44 38.81, 257.13 20.79 M211.34 85.66 C224.91 72.39, 234.15 58.25, 257.26 32.83 M211.34 85.66 C224.05 70.39, 236.17 54.39, 257.26 32.83 M221.97 85.63 C233.33 71.98, 243.81 60.24, 257.4 44.88 M221.97 85.63 C236.65 69.17, 248.99 53.85, 257.4 44.88 M232.6 85.6 C239.93 77.12, 244.31 73.81, 257.53 56.92 M232.6 85.6 C240.58 76.56, 249.3 64.81, 257.53 56.92 M244.54 84.05 C247.23 81.65, 250.25 77.66, 257.01 69.71 M244.54 84.05 C247.95 79.69, 252.91 74.26, 257.01 69.71" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M21.25 0 C81.04 -2, 139.59 0.11, 235.79 0 M21.25 0 C99.53 2.62, 177.8 1, 235.79 0 M235.79 0 C249.65 -0.14, 256.84 6.7, 257.04 21.25 M235.79 0 C250.01 -2.1, 257.34 7.94, 257.04 21.25 M257.04 21.25 C256.91 29.79, 257.44 37.47, 257.04 63.75 M257.04 21.25 C257.56 38.92, 257.86 54.27, 257.04 63.75 M257.04 63.75 C255.57 77.81, 249.05 85.23, 235.79 85 M257.04 63.75 C254.95 75.9, 251.15 86.49, 235.79 85 M235.79 85 C165.84 86, 93.08 83.21, 21.25 85 M235.79 85 C155.89 85.01, 76.63 84.32, 21.25 85 M21.25 85 C8.44 85.64, 1.09 76.59, 0 63.75 M21.25 85 C7.89 84.42, -0.57 80.15, 0 63.75 M0 63.75 C0.66 56.01, -1.89 43.28, 0 21.25 M0 63.75 C0.36 52.23, -0.14 38.91, 0 21.25 M0 21.25 C1.03 5.85, 8.9 -0.48, 21.25 0 M0 21.25 C1.93 8.81, 5.5 0.48, 21.25 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1172.113363621788 442.2796290999804) rotate(0 91.09375 12.5)"><text x="91.09375" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Message Queue (SQS)</text></g><g stroke-linecap="round"><g transform="translate(1540.3736550757408 452.9532363615899) rotate(0 -70.70827072697625 0.08719451623176155)"><path d="M0.86 0.78 C-22.67 0.51, -118.05 -1.07, -141.76 -0.98 M-0.15 0.14 C-23.81 -0.07, -119.23 0.05, -142.89 -0.06" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1540.3736550757408 452.9532363615899) rotate(0 -70.70827072697625 0.08719451623176155)"><path d="M-114.69 -10.28 C-120.43 -8.08, -130.75 -4.86, -142.89 -0.06 M-114.69 -10.28 C-125.89 -6.61, -136.89 -2.72, -142.89 -0.06" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1540.3736550757408 452.9532363615899) rotate(0 -70.70827072697625 0.08719451623176155)"><path d="M-114.71 10.24 C-120.56 7.28, -130.87 5.33, -142.89 -0.06 M-114.71 10.24 C-125.92 5.87, -136.91 1.72, -142.89 -0.06" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(1094.090573387515 518.907700464054) rotate(0 175.69982910156244 25)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- delivery delay until execution time</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- partition by execution time</text></g><g stroke-linecap="round" transform="translate(512.1396148545425 185.04063219735417) rotate(0 98.697265625 53.470703125)"><path d="M4.03 10.13 C4.03 10.13, 4.03 10.13, 4.03 10.13 M4.03 10.13 C4.03 10.13, 4.03 10.13, 4.03 10.13 M0.88 25.94 C5.66 18.17, 10.1 14.08, 22.53 1.04 M0.88 25.94 C8.22 15.7, 16.47 6.59, 22.53 1.04 M1.02 37.99 C14.11 25.4, 28.61 10.13, 33.82 0.25 M1.02 37.99 C9.45 27.82, 19.47 18.6, 33.82 0.25 M1.15 50.03 C15.09 34.73, 31.64 14.61, 44.45 0.22 M1.15 50.03 C11.5 39.49, 22.08 28.25, 44.45 0.22 M1.28 62.07 C21.74 37.33, 43.78 13.75, 55.08 0.18 M1.28 62.07 C13.2 48.05, 25.42 34.07, 55.08 0.18 M1.42 74.11 C23.56 48.96, 46.74 26.17, 65.71 0.15 M1.42 74.11 C15.71 58.17, 29.71 40.34, 65.71 0.15 M0.89 86.9 C26.34 59.16, 47.24 31.23, 76.34 0.11 M0.89 86.9 C29.78 55.2, 58.52 21.52, 76.34 0.11 M3.65 95.93 C28.73 68.23, 51.5 40.13, 86.97 0.08 M3.65 95.93 C32.44 63.19, 62.41 28.42, 86.97 0.08 M9.03 101.93 C39.84 67.11, 71.59 31.2, 97.6 0.04 M9.03 101.93 C38.64 67.56, 68.47 34.09, 97.6 0.04 M16.38 105.67 C42.98 73.66, 72.18 41.38, 108.23 0.01 M16.38 105.67 C48.99 66.47, 82.76 27.07, 108.23 0.01 M25.7 107.14 C60.41 65.93, 95.05 26.19, 118.86 -0.03 M25.7 107.14 C58.03 69.77, 90.64 31.47, 118.86 -0.03 M36.33 107.11 C63.95 73.82, 92.2 44.46, 128.84 0.69 M36.33 107.11 C70.84 68.43, 105.28 27.35, 128.84 0.69 M46.96 107.07 C77.2 72.96, 106.43 36.94, 139.47 0.66 M46.96 107.07 C76.63 71.88, 108.71 36.42, 139.47 0.66 M57.59 107.04 C86.6 75, 115.89 39.42, 150.1 0.63 M57.59 107.04 C80.54 79.89, 103.57 53.21, 150.1 0.63 M68.22 107 C94.39 78.17, 117.64 51.17, 160.73 0.59 M68.22 107 C93 78.73, 116.94 50.91, 160.73 0.59 M78.85 106.97 C99.66 80.01, 122.14 55.19, 171.36 0.56 M78.85 106.97 C99.38 84.97, 117.89 63.36, 171.36 0.56 M89.48 106.94 C117.76 74.27, 145.79 38.97, 180.67 2.03 M89.48 106.94 C122.57 68.54, 154.72 30.81, 180.67 2.03 M100.11 106.9 C126.88 72.59, 157.56 43.76, 188.68 5.02 M100.11 106.9 C121.16 83.06, 142.6 57.68, 188.68 5.02 M110.74 106.87 C137.18 75.61, 164.38 44.16, 194.06 11.02 M110.74 106.87 C137.06 74.94, 165.8 42.98, 194.06 11.02 M121.37 106.83 C135.17 87.03, 150.98 68.83, 196.82 20.04 M121.37 106.83 C143.95 80.21, 168.21 53.62, 196.82 20.04 M132 106.8 C157.75 75.16, 181.73 45.8, 197.61 31.33 M132 106.8 C152.16 81.32, 174.12 57.37, 197.61 31.33 M141.98 107.52 C160.33 83.53, 181.06 61.04, 197.74 43.37 M141.98 107.52 C157.04 88.64, 173.91 71.29, 197.74 43.37 M152.61 107.48 C170.06 89.66, 182.98 70.16, 197.87 55.41 M152.61 107.48 C166.9 90.34, 183.05 70.72, 197.87 55.41 M163.24 107.45 C176.76 91.53, 189.77 76.72, 198.01 67.45 M163.24 107.45 C173.24 97.05, 181.91 85.53, 198.01 67.45 M174.52 106.66 C180.34 98.12, 187.62 91.98, 197.48 80.24 M174.52 106.66 C179.55 99.44, 187.35 93.42, 197.48 80.24" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M26.74 0 C67.63 0.08, 102.98 -0.36, 170.66 0 M26.74 0 C68.9 -0.64, 111.14 0.65, 170.66 0 M170.66 0 C186.56 1.43, 195.96 8.48, 197.39 26.74 M170.66 0 C188.35 0.11, 196.14 11.15, 197.39 26.74 M197.39 26.74 C198.53 46.22, 195.48 61.63, 197.39 80.21 M197.39 26.74 C196.25 41.61, 197.68 58.89, 197.39 80.21 M197.39 80.21 C198.02 99.76, 187.68 108.18, 170.66 106.94 M197.39 80.21 C199.69 97.19, 187.12 108.53, 170.66 106.94 M170.66 106.94 C116.47 103.85, 59.84 107.09, 26.74 106.94 M170.66 106.94 C123.2 105.74, 74.78 106.96, 26.74 106.94 M26.74 106.94 C7.29 108.93, 1.43 99.11, 0 80.21 M26.74 106.94 C10.71 105.25, -2.13 97.9, 0 80.21 M0 80.21 C1.62 66.96, 0.02 56.49, 0 26.74 M0 80.21 C0.35 68.22, -1.17 54.93, 0 26.74 M0 26.74 C-1.88 10.14, 7.59 -1.49, 26.74 0 M0 26.74 C1.78 9.84, 9.24 -1.08, 26.74 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(553.3612945420425 226.01133532235417) rotate(0 57.4755859375 12.5)"><text x="57.4755859375" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Query Service</text></g><g stroke-linecap="round"><g transform="translate(720.4273464804926 248.933780770657) rotate(0 45.30548925832454 -23.285791106315628)"><path d="M-0.18 -0.09 C14.88 -7.7, 75.35 -38.87, 90.49 -46.8 M-1.74 -1.18 C13.15 -8.51, 74.2 -37.76, 89.48 -45.38" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(720.4273464804926 248.933780770657) rotate(0 45.30548925832454 -23.285791106315628)"><path d="M20.2 -22.1 C13.6 -15.59, 7.12 -8.59, -0.18 -0.09 M20.2 -22.1 C15.01 -16.71, 11.01 -13.06, -0.18 -0.09" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(720.4273464804926 248.933780770657) rotate(0 45.30548925832454 -23.285791106315628)"><path d="M29.58 -3.85 C20.28 -2.94, 10.92 -1.54, -0.18 -0.09 M29.58 -3.85 C22.41 -2.23, 16.45 -2.38, -0.18 -0.09" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(720.4273464804926 248.933780770657) rotate(0 45.30548925832454 -23.285791106315628)"><path d="M68.64 -23.8 C75.08 -30.59, 81.23 -36.95, 89.48 -45.38 M68.64 -23.8 C71.99 -27.66, 76.58 -33.1, 89.48 -45.38" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(720.4273464804926 248.933780770657) rotate(0 45.30548925832454 -23.285791106315628)"><path d="M59.64 -42.24 C68.67 -43.36, 77.58 -44.07, 89.48 -45.38 M59.64 -42.24 C64.9 -42.29, 71.36 -43.88, 89.48 -45.38" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(1549.2407658160446 380.66304706340543) rotate(0 72.099609375 68.462890625)"><path d="M7.86 8.16 C7.86 8.16, 7.86 8.16, 7.86 8.16 M7.86 8.16 C7.86 8.16, 7.86 8.16, 7.86 8.16 M1.43 27.75 C9.11 18.63, 13.2 11.1, 24.4 1.33 M1.43 27.75 C5.99 21.59, 13.15 16.1, 24.4 1.33 M0.91 40.54 C13.25 24.42, 27.37 11.41, 36.34 -0.21 M0.91 40.54 C13.43 24.44, 28.68 9.55, 36.34 -0.21 M1.04 52.58 C13.04 39.53, 26.68 27.32, 46.31 0.51 M1.04 52.58 C17.63 32.95, 34.16 14.03, 46.31 0.51 M1.18 64.62 C18.07 46.77, 32.88 29.28, 56.94 0.47 M1.18 64.62 C14.53 49.87, 27.35 35.47, 56.94 0.47 M1.31 76.67 C27.27 47.14, 53.67 17.35, 67.57 0.44 M1.31 76.67 C15.93 59.66, 31.55 40.49, 67.57 0.44 M1.44 88.71 C17.82 67.15, 39.25 45.96, 78.2 0.41 M1.44 88.71 C18.28 69, 36.12 48.28, 78.2 0.41 M0.92 101.5 C21.22 74.68, 46.45 49.69, 88.83 0.37 M0.92 101.5 C24.1 73.76, 49.08 46.16, 88.83 0.37 M1.05 113.54 C39.88 69.61, 77.94 25.53, 99.46 0.34 M1.05 113.54 C36.44 70.58, 73.6 29.09, 99.46 0.34 M3.81 122.56 C43.48 73.44, 84.1 26.05, 110.09 0.3 M3.81 122.56 C25.98 95.02, 49.49 67.61, 110.09 0.3 M8.54 129.32 C34.81 98.84, 61.42 68.48, 120.07 1.02 M8.54 129.32 C35.59 98.47, 61.02 68.33, 120.07 1.02 M15.23 133.82 C52.73 86.93, 96.23 39.52, 128.07 4.01 M15.23 133.82 C45.2 99.36, 74.9 64.7, 128.07 4.01 M23.89 136.05 C56.89 96.32, 90.06 61.24, 135.42 7.75 M23.89 136.05 C65.14 88.05, 107.78 40.12, 135.42 7.75 M33.87 136.77 C62.9 106.44, 88 75.79, 140.15 14.5 M33.87 136.77 C58.98 109.16, 83.75 79.89, 140.15 14.5 M44.5 136.73 C70.64 109, 94.79 79.61, 142.91 23.53 M44.5 136.73 C72.98 104.82, 98.55 74.18, 142.91 23.53 M55.13 136.7 C75.94 113.71, 97.49 87.81, 144.35 34.06 M55.13 136.7 C76.89 111.84, 98.58 86.59, 144.35 34.06 M65.76 136.66 C83.67 117.84, 100.35 95.94, 144.48 46.1 M65.76 136.66 C97.06 100.56, 126.68 66.3, 144.48 46.1 M76.39 136.63 C101.53 106.68, 129.4 76.68, 144.62 58.14 M76.39 136.63 C93.61 117.28, 109.49 98.43, 144.62 58.14 M86.36 137.35 C101.34 118.11, 116.69 102.5, 144.09 70.93 M86.36 137.35 C107.53 113.35, 126.37 90.36, 144.09 70.93 M96.99 137.31 C109.13 123.65, 118.54 114.39, 144.23 82.97 M96.99 137.31 C109.57 123.12, 120.31 108.09, 144.23 82.97 M107.62 137.28 C118.17 125.33, 125.05 115.95, 144.36 95.02 M107.62 137.28 C118.26 123.59, 129.32 111.04, 144.36 95.02 M118.91 136.49 C123.41 128.98, 128.67 124.16, 143.84 107.81 M118.91 136.49 C128.3 126.73, 137.41 114.72, 143.84 107.81 M134.79 130.42 C136.19 128.06, 138.14 126.95, 140.03 124.38 M134.79 130.42 C136.18 129.2, 136.9 127.87, 140.03 124.38" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M32 0 C54.45 0.13, 75.83 0.35, 112.2 0 M32 0 C58.33 -0.79, 86.04 -0.53, 112.2 0 M112.2 0 C132.44 1.95, 145 9.09, 144.2 32 M112.2 0 C134.34 1.79, 145.7 8.95, 144.2 32 M144.2 32 C144.39 46.71, 142.4 66.1, 144.2 104.93 M144.2 32 C144.03 59.23, 145.42 84.86, 144.2 104.93 M144.2 104.93 C143.01 127.64, 135.18 136.53, 112.2 136.93 M144.2 104.93 C142.27 127.25, 131.36 136.11, 112.2 136.93 M112.2 136.93 C81.39 138.07, 52.73 136.87, 32 136.93 M112.2 136.93 C81.06 138.26, 49.27 136.99, 32 136.93 M32 136.93 C8.82 136.81, -1.37 127.58, 0 104.93 M32 136.93 C10.82 139.2, -1 126.69, 0 104.93 M0 104.93 C-0.03 80.98, 1.95 52.29, 0 32 M0 104.93 C0.03 80.79, 1.46 58.55, 0 32 M0 32 C0.29 9.73, 9.05 -1.08, 32 0 M0 32 C-1.22 12, 8.62 -2.24, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1560.7935001910446 424.12593768840543) rotate(0 60.546875 25)"><text x="60.546875" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">worker</text><text x="60.546875" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- consume jobs</text></g><g stroke-linecap="round"><g transform="translate(1702.4673283160446 433.59273456340543) rotate(0 38.1015625 -51.3203125)"><path d="M0.16 0.45 C12.66 -16.33, 62.52 -84.56, 75.05 -101.78 M-1.22 -0.36 C11.63 -17.38, 63.99 -86.56, 77.15 -103.45" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1702.4673283160446 433.59273456340543) rotate(0 38.1015625 -51.3203125)"><path d="M68.15 -74.83 C71.88 -85.43, 75.29 -93.6, 77.15 -103.45 M68.15 -74.83 C70.13 -81.83, 73.58 -91.56, 77.15 -103.45" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1702.4673283160446 433.59273456340543) rotate(0 38.1015625 -51.3203125)"><path d="M51.86 -87.32 C60.4 -94.16, 68.74 -98.55, 77.15 -103.45 M51.86 -87.32 C58.36 -90.85, 66.35 -97.1, 77.15 -103.45" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(1791.6560422318098 244.74995860336549) rotate(0 60.580078125 54.958984375)"><path d="M3.58 11.06 C3.58 11.06, 3.58 11.06, 3.58 11.06 M3.58 11.06 C3.58 11.06, 3.58 11.06, 3.58 11.06 M3.06 23.86 C6.15 16.64, 12.89 14.34, 22.08 1.97 M3.06 23.86 C10.16 15.17, 16.76 7.38, 22.08 1.97 M3.19 35.9 C11.81 21.89, 22.54 13.06, 31.4 3.45 M3.19 35.9 C10.49 26.88, 19.25 18.67, 31.4 3.45 M3.32 47.94 C17.18 30.2, 32.79 11.77, 42.03 3.41 M3.32 47.94 C16.24 34.1, 28.72 19.18, 42.03 3.41 M3.46 59.98 C20.1 39.7, 39.89 18.1, 52.66 3.38 M3.46 59.98 C21.75 38.41, 40.9 16.98, 52.66 3.38 M3.59 72.02 C18.5 55.07, 33.14 39.95, 63.29 3.34 M3.59 72.02 C17.71 53.99, 32.7 38.6, 63.29 3.34 M3.07 84.82 C27.27 57.45, 50.39 32.23, 73.92 3.31 M3.07 84.82 C25.43 58.87, 46.18 35.5, 73.92 3.31 M5.82 93.84 C29.12 64.24, 54.01 37.55, 83.89 4.03 M5.82 93.84 C22.48 74.41, 39.35 54.67, 83.89 4.03 M7.93 103.62 C39.92 65.49, 69.16 30.72, 94.52 3.99 M7.93 103.62 C26.32 81.31, 43.72 59.66, 94.52 3.99 M13.96 108.86 C35.34 84.01, 54.74 60.72, 106.47 2.45 M13.96 108.86 C42.32 77.25, 69.38 45.95, 106.47 2.45 M22.62 111.09 C54.76 77.48, 84.33 40.66, 113.16 6.94 M22.62 111.09 C56.5 70.22, 90.22 32.55, 113.16 6.94 M33.25 111.06 C56.99 86.27, 78.95 60.51, 119.85 11.44 M33.25 111.06 C57.91 83.12, 81.11 55.35, 119.85 11.44 M43.88 111.02 C68.72 80.63, 94.53 52.74, 123.92 18.95 M43.88 111.02 C68.5 84.84, 92.38 56.59, 123.92 18.95 M54.51 110.99 C80.83 79.76, 109.88 48.53, 124.71 30.24 M54.51 110.99 C78.94 83.83, 103.64 55.62, 124.71 30.24 M65.14 110.96 C87.2 89.91, 105.39 64.11, 124.19 43.03 M65.14 110.96 C85.08 87.13, 106.94 63.6, 124.19 43.03 M75.78 110.92 C89.04 94.77, 103.75 78.23, 124.32 55.07 M75.78 110.92 C87.02 99.9, 96.82 88.29, 124.32 55.07 M85.75 111.64 C95.07 100.44, 104.79 85.65, 124.46 67.11 M85.75 111.64 C99.72 95.36, 113.09 80.46, 124.46 67.11 M96.38 111.61 C106.78 102.69, 114.95 90.84, 123.93 79.91 M96.38 111.61 C107 100.6, 114.93 89.77, 123.93 79.91" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M27.48 0 C49.64 -0.8, 68.51 0.52, 93.68 0 M27.48 0 C48.05 -1.43, 68.17 0.14, 93.68 0 M93.68 0 C113.31 -1.5, 119.69 9.05, 121.16 27.48 M93.68 0 C110.96 0.26, 119.07 7.14, 121.16 27.48 M121.16 27.48 C123.25 46.03, 122.76 68.18, 121.16 82.44 M121.16 27.48 C121.66 41.77, 120 56.88, 121.16 82.44 M121.16 82.44 C119.27 100.05, 113.35 110.56, 93.68 109.92 M121.16 82.44 C122.42 99.24, 112.81 109.34, 93.68 109.92 M93.68 109.92 C77.46 110.81, 58.33 110.95, 27.48 109.92 M93.68 109.92 C78 110.54, 63.76 110.87, 27.48 109.92 M27.48 109.92 C8.29 110.29, 1.03 99.52, 0 82.44 M27.48 109.92 C11.25 109.37, 1.93 102.48, 0 82.44 M0 82.44 C1.11 68.4, -1.61 58.56, 0 27.48 M0 82.44 C-0.88 63.19, -0.61 45.6, 0 27.48 M0 27.48 C-1.78 7.21, 8.49 1.71, 27.48 0 M0 27.48 C2.09 9.73, 8.38 -0.7, 27.48 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1806.4255734818098 287.2089429783655) rotate(0 45.810546875 12.5)"><text x="45.810546875" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">execute job</text></g><g stroke-linecap="round" transform="translate(1793.7544376910446 393.94625018840543) rotate(0 60.580078125 54.958984375)"><path d="M3.58 11.06 C3.58 11.06, 3.58 11.06, 3.58 11.06 M3.58 11.06 C3.58 11.06, 3.58 11.06, 3.58 11.06 M1.09 26.12 C7.6 21.67, 10.52 14.68, 22.74 1.22 M1.09 26.12 C7.26 20.88, 12.29 13.07, 22.74 1.22 M1.22 38.16 C8.39 28.79, 14.59 19.78, 34.02 0.43 M1.22 38.16 C11.4 27.98, 20.64 15.99, 34.02 0.43 M1.35 50.2 C15.33 34.71, 26.59 20.34, 44.65 0.39 M1.35 50.2 C15.99 33.46, 29.78 16.98, 44.65 0.39 M0.83 63 C20.59 43.99, 35.28 20.91, 55.28 0.36 M0.83 63 C16.97 42.83, 34.51 24.79, 55.28 0.36 M0.96 75.04 C14.71 56.25, 33.01 37.98, 65.91 0.32 M0.96 75.04 C14.49 58.92, 27.42 44.9, 65.91 0.32 M1.1 87.08 C18 66.33, 36.46 48.13, 76.54 0.29 M1.1 87.08 C17.95 67.48, 34.78 47.94, 76.54 0.29 M3.2 96.86 C25.22 71.86, 50.43 44.88, 87.18 0.25 M3.2 96.86 C31.16 65.56, 58.39 33.3, 87.18 0.25 M7.93 103.62 C28.53 80.53, 52.88 55.48, 97.81 0.22 M7.93 103.62 C32.82 74.42, 59.42 46.74, 97.81 0.22 M15.27 107.35 C36.67 82.03, 59.35 59.33, 106.47 2.45 M15.27 107.35 C44.45 73.02, 73.21 40.83, 106.47 2.45 M23.94 109.58 C56.61 74.95, 88.2 38.27, 113.82 6.19 M23.94 109.58 C41.78 87.66, 60.75 67.47, 113.82 6.19 M34.57 109.55 C64.06 74.23, 95.25 40.09, 118.54 12.95 M34.57 109.55 C64.38 76.78, 92.94 42.96, 118.54 12.95 M45.2 109.51 C65.56 84.77, 84.89 63.22, 120.64 22.72 M45.2 109.51 C73.39 76.94, 100.12 45.07, 120.64 22.72 M55.83 109.48 C72.71 89.96, 87.72 71.66, 121.43 34.01 M55.83 109.48 C77.19 84.71, 97.6 61.27, 121.43 34.01 M65.8 110.2 C87.69 85.23, 105.89 60.43, 121.57 46.05 M65.8 110.2 C77.35 96.42, 89.43 82.55, 121.57 46.05 M76.43 110.17 C89.41 91.6, 107.21 78.27, 121.04 58.85 M76.43 110.17 C92.12 92.06, 108.94 71.88, 121.04 58.85 M87.06 110.13 C100.38 98.37, 110.04 84.25, 121.18 70.89 M87.06 110.13 C95.04 100.53, 102.78 92.72, 121.18 70.89 M98.35 109.34 C107.86 98.63, 116.21 91.36, 121.31 82.93 M98.35 109.34 C105.77 101.5, 111.95 92.83, 121.31 82.93" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M27.48 0 C42.67 -1.06, 59.62 0.84, 93.68 0 M27.48 0 C42.77 -1.26, 56.03 -0.57, 93.68 0 M93.68 0 C111.1 0.23, 119.35 7.4, 121.16 27.48 M93.68 0 C113.2 1.49, 121.88 11.15, 121.16 27.48 M121.16 27.48 C120.77 40.58, 122.88 57.7, 121.16 82.44 M121.16 27.48 C119.76 42.54, 121.38 58.62, 121.16 82.44 M121.16 82.44 C122.25 99.43, 112.71 109.41, 93.68 109.92 M121.16 82.44 C120.59 102.99, 110.14 112.21, 93.68 109.92 M93.68 109.92 C67.62 108.59, 44.39 109.06, 27.48 109.92 M93.68 109.92 C69.02 110.76, 45.75 109.95, 27.48 109.92 M27.48 109.92 C10.98 109.44, 1.68 102.26, 0 82.44 M27.48 109.92 C7.58 110.4, -2.17 102.17, 0 82.44 M0 82.44 C1.22 69.86, -0.53 55.11, 0 27.48 M0 82.44 C-0.6 67.94, -0.04 56.25, 0 27.48 M0 27.48 C1.82 9.66, 8.48 -0.6, 27.48 0 M0 27.48 C1.34 9.59, 11.44 -1.44, 27.48 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1808.5239689410446 436.40523456340543) rotate(0 45.810546875 12.5)"><text x="45.810546875" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">execute job</text></g><g stroke-linecap="round" transform="translate(1797.8677189410446 564.2599641041697) rotate(0 60.580078125 54.958984375)"><path d="M3.58 11.06 C3.58 11.06, 3.58 11.06, 3.58 11.06 M3.58 11.06 C3.58 11.06, 3.58 11.06, 3.58 11.06 M1.09 26.12 C8.2 15.98, 17.14 8.93, 22.74 1.22 M1.09 26.12 C8.43 15.94, 18.42 7.1, 22.74 1.22 M1.22 38.16 C9.82 28.81, 20.18 20.37, 34.02 0.43 M1.22 38.16 C13.26 23.83, 25.12 10.29, 34.02 0.43 M1.35 50.2 C14.58 36.46, 25.86 23.06, 44.65 0.39 M1.35 50.2 C11.79 38.75, 21.65 27.77, 44.65 0.39 M0.83 63 C22.18 38.61, 44.08 14, 55.28 0.36 M0.83 63 C12.74 49.19, 25.62 33.17, 55.28 0.36 M0.96 75.04 C14.53 56.76, 33.04 38.93, 65.91 0.32 M0.96 75.04 C15.1 58.48, 30.27 40.84, 65.91 0.32 M1.1 87.08 C18.29 63.99, 40.32 42.67, 76.54 0.29 M1.1 87.08 C20.95 63.15, 42.53 39.47, 76.54 0.29 M3.2 96.86 C36.42 59.53, 68.82 21.96, 87.18 0.25 M3.2 96.86 C33.3 60.05, 65.16 24.66, 87.18 0.25 M7.93 103.62 C41.41 61.86, 75.7 21.73, 97.81 0.22 M7.93 103.62 C26.57 80.33, 46.43 57.13, 97.81 0.22 M15.27 107.35 C36.82 82.52, 58.6 57.72, 106.47 2.45 M15.27 107.35 C37.49 82.2, 58.08 57.63, 106.47 2.45 M23.94 109.58 C53.41 72.25, 88.69 34.31, 113.82 6.19 M23.94 109.58 C47.92 82.2, 71.58 54.5, 113.82 6.19 M34.57 109.55 C59.62 79.15, 84.73 53.34, 118.54 12.95 M34.57 109.55 C65.55 73.38, 97.88 37.31, 118.54 12.95 M45.2 109.51 C66.21 88.33, 83.49 66.68, 120.64 22.72 M45.2 109.51 C62.89 90.16, 80.38 69.26, 120.64 22.72 M55.83 109.48 C73.43 91.4, 89.2 71.65, 121.43 34.01 M55.83 109.48 C75.07 88.23, 91.64 67.93, 121.43 34.01 M65.8 110.2 C78.16 96.22, 91.62 79.63, 121.57 46.05 M65.8 110.2 C79.51 94.44, 93.08 78.52, 121.57 46.05 M76.43 110.17 C87.16 100.2, 96.42 86.85, 121.04 58.85 M76.43 110.17 C94.38 89.36, 110.59 70.53, 121.04 58.85 M87.06 110.13 C98.92 95.41, 113.74 80.43, 121.18 70.89 M87.06 110.13 C96.05 100.55, 103.61 91.27, 121.18 70.89 M98.35 109.34 C104.45 100.79, 110.77 95.56, 121.31 82.93 M98.35 109.34 C107.09 99.23, 113.86 90.11, 121.31 82.93" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M27.48 0 C42.14 0.43, 61.51 1.04, 93.68 0 M27.48 0 C41.93 0.15, 56.38 -0.84, 93.68 0 M93.68 0 C113.04 1.3, 121.78 10.89, 121.16 27.48 M93.68 0 C111.08 1.43, 123.46 8.32, 121.16 27.48 M121.16 27.48 C121.15 39.04, 122.4 52.05, 121.16 82.44 M121.16 27.48 C122.08 41.35, 121.88 56.29, 121.16 82.44 M121.16 82.44 C120.66 102.7, 110.38 111.91, 93.68 109.92 M121.16 82.44 C122.8 102, 113.8 108.23, 93.68 109.92 M93.68 109.92 C81.26 109.6, 68.18 108.59, 27.48 109.92 M93.68 109.92 C73.5 109.27, 52.34 110.26, 27.48 109.92 M27.48 109.92 C7.79 110.33, -1.88 101.99, 0 82.44 M27.48 109.92 C7.64 108.2, 1.78 101.69, 0 82.44 M0 82.44 C-0.82 64.11, 1.42 46.12, 0 27.48 M0 82.44 C1.1 71.56, -0.15 59.88, 0 27.48 M0 27.48 C1.16 9.53, 11.14 -1.25, 27.48 0 M0 27.48 C-0.7 8.7, 8.65 -2.18, 27.48 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1812.6372501910446 606.7189484791697) rotate(0 45.810546875 12.5)"><text x="45.810546875" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">execute job</text></g><g stroke-linecap="round"><g transform="translate(1702.8696720660446 454.35835956340543) rotate(0 39.7421875 0)"><path d="M0.79 -0.9 C13.82 -1.06, 65.58 -0.24, 78.6 -0.06 M-0.26 1.24 C13.11 1.19, 67.83 1.39, 80.85 1.44" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1702.8696720660446 454.35835956340543) rotate(0 39.7421875 0)"><path d="M52.63 11.6 C60.51 6.55, 71.35 3.71, 80.85 1.44 M52.63 11.6 C62.03 9.33, 70.61 6.39, 80.85 1.44" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1702.8696720660446 454.35835956340543) rotate(0 39.7421875 0)"><path d="M52.7 -8.92 C60.71 -7.1, 71.53 -3.07, 80.85 1.44 M52.7 -8.92 C61.89 -4.8, 70.45 -1.36, 80.85 1.44" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(1703.9634220660446 483.31148456340543) rotate(0 39.23828125 67.58484139794155)"><path d="M-0.88 -0.06 C11.98 22.64, 64.89 112.94, 77.94 135.31 M0.86 -1.14 C13.44 21.85, 63.56 114.24, 76.7 136.91" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1703.9634220660446 483.31148456340543) rotate(0 39.23828125 67.58484139794155)"><path d="M54.01 117.3 C62.05 123.73, 70.67 129.99, 76.7 136.91 M54.01 117.3 C59.24 122.18, 63.34 126.1, 76.7 136.91" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1703.9634220660446 483.31148456340543) rotate(0 39.23828125 67.58484139794155)"><path d="M71.92 107.3 C73.34 117.25, 75.42 127.16, 76.7 136.91 M71.92 107.3 C73.4 114.42, 73.71 120.46, 76.7 136.91" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(1835.2447189819936 231.97920918753243) rotate(0 -285.6260318187452 -57.13644433600666)"><path d="M-0.54 0.14 C-29.17 -19.07, -77.64 -96.87, -172.66 -115.33 C-267.67 -133.78, -504.26 -111.44, -570.63 -110.61 M1.38 -0.84 C-26.82 -19.93, -75.11 -95.72, -170.52 -114.34 C-265.92 -132.96, -504.41 -112.87, -571.06 -112.54" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1835.2447189819936 231.97920918753243) rotate(0 -285.6260318187452 -57.13644433600666)"><path d="M-543.32 -123.96 C-549.39 -123.31, -557.66 -117.86, -571.06 -112.54 M-543.32 -123.96 C-553.81 -118.93, -562.54 -115.75, -571.06 -112.54" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1835.2447189819936 231.97920918753243) rotate(0 -285.6260318187452 -57.13644433600666)"><path d="M-542.47 -103.45 C-548.72 -107.46, -557.18 -106.66, -571.06 -112.54 M-542.47 -103.45 C-553.34 -105.9, -562.37 -110.2, -571.06 -112.54" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(1516.527181161549 58.81934588553577) rotate(0 73.59992980957031 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">update status</text></g><g stroke-linecap="round" transform="translate(10 121.27111257574688) rotate(0 61.80078125 35.58203125)"><path d="M4.74 4.12 C4.74 4.12, 4.74 4.12, 4.74 4.12 M4.74 4.12 C4.74 4.12, 4.74 4.12, 4.74 4.12 M0.28 21.44 C6.09 11.8, 14.46 5.23, 18.65 0.31 M0.28 21.44 C7.73 12.97, 13.71 5.34, 18.65 0.31 M0.41 33.48 C6.36 25.4, 16.11 16.54, 29.28 0.27 M0.41 33.48 C8.44 23.7, 16.31 15.49, 29.28 0.27 M0.54 45.52 C9.89 31.48, 22.81 18.54, 39.91 0.24 M0.54 45.52 C15.31 29.79, 28.81 13.89, 39.91 0.24 M0.68 57.56 C15.85 41.15, 25.69 26.96, 50.54 0.21 M0.68 57.56 C16.74 39.68, 32.43 21.18, 50.54 0.21 M4.09 65.83 C20.58 49.33, 33.27 30.08, 60.51 0.93 M4.09 65.83 C24.57 42.05, 43.74 19.03, 60.51 0.93 M10.78 70.32 C34.24 45.39, 56.33 19.78, 71.14 0.89 M10.78 70.32 C28.76 49.23, 46.28 26.83, 71.14 0.89 M20.76 71.04 C43.17 48.14, 61.79 22.09, 81.77 0.86 M20.76 71.04 C38.06 53.48, 52.65 34.86, 81.77 0.86 M31.39 71.01 C45.67 57.02, 58.32 41.4, 92.4 0.82 M31.39 71.01 C50.91 49.32, 71.23 26.28, 92.4 0.82 M42.02 70.98 C57.83 54.38, 69.17 36.62, 103.03 0.79 M42.02 70.98 C64.38 46.61, 86.51 21.32, 103.03 0.79 M52.65 70.94 C75.05 46.53, 96.79 19.3, 113 1.51 M52.65 70.94 C74.91 44.74, 96.72 19.14, 113 1.51 M63.28 70.91 C82.47 48.8, 105.16 25.81, 119.7 6 M63.28 70.91 C77.96 52.93, 93.49 36.23, 119.7 6 M73.25 71.63 C83.41 58.95, 95.91 47.32, 123.77 13.51 M73.25 71.63 C86.32 56.67, 101.7 39.73, 123.77 13.51 M83.88 71.59 C91.2 59.2, 100.75 51.22, 123.9 25.55 M83.88 71.59 C92.53 61.31, 101.13 51.68, 123.9 25.55 M94.51 71.56 C105.67 62.6, 115.29 51.42, 123.38 38.35 M94.51 71.56 C104.7 59.46, 114.96 47.63, 123.38 38.35 M105.14 71.52 C107.82 68.05, 111.52 62.77, 123.51 50.39 M105.14 71.52 C111.11 65.53, 117.49 58.41, 123.51 50.39" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M17.79 0 C37.51 0.16, 56.36 -1.26, 105.81 0 M17.79 0 C49.06 1.01, 82.34 0.12, 105.81 0 M105.81 0 C116 0.86, 121.71 5.22, 123.6 17.79 M105.81 0 C119.23 0.74, 124.86 4.41, 123.6 17.79 M123.6 17.79 C125.46 28.1, 125.5 43.08, 123.6 53.37 M123.6 17.79 C122.95 30.33, 123.19 43.65, 123.6 53.37 M123.6 53.37 C123.73 67.21, 116.8 71.54, 105.81 71.16 M123.6 53.37 C124.79 63.81, 119.76 70.62, 105.81 71.16 M105.81 71.16 C72.42 68.68, 39.43 69.24, 17.79 71.16 M105.81 71.16 C86.13 71.05, 65.35 70.98, 17.79 71.16 M17.79 71.16 C4.87 72.33, -1.78 63.28, 0 53.37 M17.79 71.16 C5.16 73.13, 2.09 65.8, 0 53.37 M0 53.37 C0.48 45.89, -1.14 33.82, 0 17.79 M0 53.37 C-0.49 43.37, 0.82 34.24, 0 17.79 M0 17.79 C1.08 4.81, 4.3 -0.82, 17.79 0 M0 17.79 C-1.41 8.05, 3.68 -1.58, 17.79 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(49.5888671875 144.35314382574688) rotate(0 22.2119140625 12.5)"><text x="22.2119140625" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">client</text></g><g stroke-linecap="round" transform="translate(223.38525405024757 10) rotate(0 46.47715554850492 143.3449778590912)"><path d="M5.53 6.13 C5.53 6.13, 5.53 6.13, 5.53 6.13 M5.53 6.13 C5.53 6.13, 5.53 6.13, 5.53 6.13 M0.41 24.21 C6.52 20.66, 11.33 15.13, 20.75 0.81 M0.41 24.21 C5.04 18.76, 10.25 11.97, 20.75 0.81 M0.55 36.25 C10.18 25.7, 19.71 13.26, 31.38 0.78 M0.55 36.25 C6.9 29.54, 14.45 20.29, 31.38 0.78 M0.68 48.29 C12.75 34.52, 20.98 23.83, 42.01 0.75 M0.68 48.29 C14.75 31.08, 28.68 16.19, 42.01 0.75 M0.81 60.33 C13.91 47, 23.92 32.59, 52.64 0.71 M0.81 60.33 C18.97 39.28, 36.8 19.08, 52.64 0.71 M0.29 73.13 C23.99 48.35, 44.36 23.82, 63.27 0.68 M0.29 73.13 C14.4 57.63, 27.89 43.58, 63.27 0.68 M0.42 85.17 C26.45 55.99, 53.96 24.75, 73.9 0.64 M0.42 85.17 C26.07 56.56, 51.33 29.62, 73.9 0.64 M0.56 97.21 C29.24 62.46, 57.7 32.01, 82.56 2.87 M0.56 97.21 C27.61 65.71, 55.09 34.88, 82.56 2.87 M0.69 109.25 C31.23 74.88, 59.76 39.38, 88.6 8.12 M0.69 109.25 C31.97 72.42, 65.49 35.2, 88.6 8.12 M0.82 121.29 C33.96 84.79, 63.06 50.51, 92.02 16.39 M0.82 121.29 C32.66 84.17, 63.88 48.03, 92.02 16.39 M0.3 134.09 C30.77 101.49, 60.4 67.37, 92.8 27.67 M0.3 134.09 C27.7 103.7, 53.13 72.74, 92.8 27.67 M0.43 146.13 C31.15 110.42, 62.27 71.32, 92.94 39.71 M0.43 146.13 C24.24 118.06, 48.69 89.51, 92.94 39.71 M0.57 158.17 C27.43 126.59, 55.02 92.73, 93.07 51.76 M0.57 158.17 C35.7 116.46, 72.37 72.95, 93.07 51.76 M0.7 170.21 C19.28 147.34, 39.31 125.35, 93.2 63.8 M0.7 170.21 C21.53 145.89, 41.2 123.56, 93.2 63.8 M0.83 182.25 C37.07 139.46, 74.12 98.84, 93.34 75.84 M0.83 182.25 C23.53 155.86, 49.27 127.05, 93.34 75.84 M0.31 195.05 C35.1 156.61, 67.3 117.72, 93.47 87.88 M0.31 195.05 C33.14 156.66, 66.36 117.85, 93.47 87.88 M0.44 207.09 C37.07 166.33, 73.55 122.77, 92.95 100.67 M0.44 207.09 C27.24 174.83, 55.2 143.49, 92.95 100.67 M0.58 219.13 C20.09 198.08, 39.37 175.37, 93.08 112.71 M0.58 219.13 C31.08 181.3, 63.35 145.47, 93.08 112.71 M0.71 231.17 C35.06 190.43, 72.28 149.7, 93.21 124.76 M0.71 231.17 C19.53 209.67, 38.67 187.95, 93.21 124.76 M0.84 243.21 C36.2 202.69, 74.64 161.94, 93.35 136.8 M0.84 243.21 C21.03 218.48, 40.65 196.38, 93.35 136.8 M0.32 256.01 C36.02 216.85, 66.76 179.97, 93.48 148.84 M0.32 256.01 C28.38 222.42, 57.68 188.42, 93.48 148.84 M0.45 268.05 C26.73 237.59, 50.96 208.94, 93.61 160.88 M0.45 268.05 C34.08 228.15, 69.76 187.41, 93.61 160.88 M3.87 276.31 C38.33 238.94, 74.99 197.18, 93.09 173.67 M3.87 276.31 C23.09 253.58, 42.47 230.94, 93.09 173.67 M8.59 283.07 C29.11 256.97, 51.42 234.34, 93.22 185.71 M8.59 283.07 C39.05 246, 71.41 209.78, 93.22 185.71 M16.6 286.06 C33.21 266.46, 52.24 248.67, 93.36 197.75 M16.6 286.06 C45.73 251.53, 76.4 215.45, 93.36 197.75 M26.57 286.78 C48.11 263.64, 71.35 237.41, 93.49 209.8 M26.57 286.78 C48.07 260.52, 69.35 237.32, 93.49 209.8 M37.2 286.74 C54.84 266.54, 72.76 246.48, 93.62 221.84 M37.2 286.74 C58.13 262.87, 77.59 239.2, 93.62 221.84 M47.83 286.71 C60.39 273.47, 69.34 260.77, 93.1 234.63 M47.83 286.71 C61.7 271.44, 75.16 254.25, 93.1 234.63 M58.46 286.67 C71.33 269.72, 87.26 256.44, 93.23 246.67 M58.46 286.67 C67.43 274.34, 78.33 263.34, 93.23 246.67 M69.09 286.64 C74.54 280.41, 78.5 274.17, 93.37 258.71 M69.09 286.64 C77.61 276.2, 86.73 266.44, 93.37 258.71 M82.35 283.58 C84.61 280.18, 89 277.45, 91.53 273.02 M82.35 283.58 C84.22 281.15, 86.68 279.54, 91.53 273.02" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M23.24 0 C39.87 2.18, 53.29 -1, 69.72 0 M23.24 0 C39.55 0.52, 56.59 -0.26, 69.72 0 M69.72 0 C86.56 0.64, 94.05 6.42, 92.95 23.24 M69.72 0 C86.02 -0.58, 92.38 9.98, 92.95 23.24 M92.95 23.24 C95.85 77.16, 93.72 126.93, 92.95 263.45 M92.95 23.24 C91.64 94.77, 91.22 164.81, 92.95 263.45 M92.95 263.45 C93.98 277.71, 87.03 286.21, 69.72 286.69 M92.95 263.45 C94.89 280.67, 83.63 287.17, 69.72 286.69 M69.72 286.69 C58.66 287.93, 51.39 286.67, 23.24 286.69 M69.72 286.69 C57.42 287.02, 45.3 285.46, 23.24 286.69 M23.24 286.69 C7.07 288.4, 1.82 279.44, 0 263.45 M23.24 286.69 C6.97 285.99, 1.34 279.37, 0 263.45 M0 263.45 C0.92 167.19, -0.33 70.7, 0 23.24 M0 263.45 C-1.03 191.89, -2.16 120.91, 0 23.24 M0 23.24 C-1.22 9.59, 5.79 -1.37, 23.24 0 M0 23.24 C-0.17 10.03, 9.46 1.75, 23.24 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(236.5469799112525 128.3449778590912) rotate(0 33.3154296875 25)"><text x="33.3154296875" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">api</text><text x="33.3154296875" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">gateway</text></g><g stroke-linecap="round"><g transform="translate(337.95024823652466 148.8254995576026) rotate(0 80.37115011700234 -32.611960363182334)"><path d="M-0.71 0.83 C26.04 -10.01, 134.99 -54.54, 161.73 -65.46 M1.12 0.22 C27.7 -10.4, 134.47 -52.88, 161.3 -64.04" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(337.95024823652466 148.8254995576026) rotate(0 80.37115011700234 -32.611960363182334)"><path d="M139.04 -43.94 C149.39 -50.2, 156.53 -61.56, 161.3 -64.04 M139.04 -43.94 C147.54 -50.44, 155.06 -58.32, 161.3 -64.04" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(337.95024823652466 148.8254995576026) rotate(0 80.37115011700234 -32.611960363182334)"><path d="M131.32 -62.96 C144.7 -61.56, 154.91 -65.32, 161.3 -64.04 M131.32 -62.96 C142.3 -62.9, 152.46 -64.26, 161.3 -64.04" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(140.27197545416084 155.28489391676703) rotate(0 39.47190311800534 0)"><path d="M0.99 -0.24 C14.1 -0.29, 65.14 0.55, 77.94 0.52 M0.05 -1.4 C13.59 -1.89, 66.78 -1.68, 80.12 -1.33" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(140.27197545416084 155.28489391676703) rotate(0 39.47190311800534 0)"><path d="M29.29 -10.2 C22.15 -9.24, 16.59 -7.06, 0.99 -0.24 M29.29 -10.2 C22.42 -8.14, 14.74 -5.09, 0.99 -0.24" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(140.27197545416084 155.28489391676703) rotate(0 39.47190311800534 0)"><path d="M29.07 10.32 C21.85 6.33, 16.34 3.58, 0.99 -0.24 M29.07 10.32 C22.12 6.96, 14.5 4.57, 0.99 -0.24" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(140.27197545416084 155.28489391676703) rotate(0 39.47190311800534 0)"><path d="M51.81 8.57 C58.16 4.28, 66.24 1.68, 80.12 -1.33 M51.81 8.57 C59.77 5.2, 67.07 2.99, 80.12 -1.33" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(140.27197545416084 155.28489391676703) rotate(0 39.47190311800534 0)"><path d="M52.06 -11.95 C58.5 -11.3, 66.51 -8.96, 80.12 -1.33 M52.06 -11.95 C60.1 -9.89, 67.33 -6.68, 80.12 -1.33" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(327.8613771308883 175.46338655069667) rotate(0 81.29092357431307 31.910407413380653)"><path d="M-1 0.52 C25.74 11.12, 134.05 52.78, 161.45 63.39 M0.67 -0.26 C27.68 10.54, 136.5 54.32, 163.57 64.71" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(327.8613771308883 175.46338655069667) rotate(0 81.29092357431307 31.910407413380653)"><path d="M28.99 1.13 C18.38 -1.24, 5.33 1.76, -1 0.52 M28.99 1.13 C19.37 0.48, 8.81 1.5, -1 0.52" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(327.8613771308883 175.46338655069667) rotate(0 81.29092357431307 31.910407413380653)"><path d="M21.58 20.27 C13.84 10.64, 3.63 6.32, -1 0.52 M21.58 20.27 C14.32 13.3, 6.22 7.97, -1 0.52" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(327.8613771308883 175.46338655069667) rotate(0 81.29092357431307 31.910407413380653)"><path d="M133.58 63.91 C145.91 62.58, 155.81 66.12, 163.57 64.71 M133.58 63.91 C143.9 64.12, 153.26 65.61, 163.57 64.71" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(327.8613771308883 175.46338655069667) rotate(0 81.29092357431307 31.910407413380653)"><path d="M141.11 44.82 C150.52 50.73, 157.54 61.57, 163.57 64.71 M141.11 44.82 C149.03 51.32, 155.89 59.15, 163.57 64.71" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask></svg></span></span></div></div><div class="MuiGrid-root MuiGrid-item mui-1wxaqej"><span class="MuiTypography-root MuiTypography-caption mui-17cupi8">Scale</span></div></div></div></div><div class="my-6"><div class="MuiBox-root mui-1ygn9bx"><div class="MuiBox-root mui-14185gn"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-6 h-6 heroicon-sw-2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"></path></svg></div><div class="MuiBox-root mui-79elbk"><div style="overflow: hidden; max-height: 300px;"><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Even if you went with the Redis priority queue, 3 million jobs would easily fit in memory, so there's nothing to worry about there. You would just end up being more concerned with fault tolerance in case Redis goes down.</div></div></div></div></div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><strong>Workers</strong></div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">For the worker layer, we need to carefully consider our compute options. The two main choices are containers (using ECS or Kubernetes) and Lambda functions.</div><ol style="list-style: outside decimal;">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><strong>Containers</strong>: tend to be more cost-effective for steady workloads and are better suited for long-running jobs since they maintain state between executions. However, they do require more operational overhead and don't scale as elastically as serverless options.</div>
</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><strong>Lambda functions</strong>: are truly serverless with minimal operational overhead. They're perfect for short-lived jobs under 15 minutes and can auto-scale instantly to match workload. The main drawbacks are that cold starts could impact our 2-second precision requirement, and they tend to be more expensive for steady, high-volume workloads like ours.</div>
</div></li>
</ol><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Given our requirements - processing 10k jobs per second with 2-second precision in a steady, predictable workload - I'd use containers with ECS and auto-scaling groups, but there is no wrong answer here. Containers give us the best balance of cost efficiency and operational simplicity while meeting our performance needs. We can optimize this setup by using spot instances to reduce costs, configuring auto-scaling based on queue depth, pre-warming the container pool to handle our baseline load, and setting up scaling policies to handle any unexpected spikes in demand.</div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><div class="MuiBox-root mui-10khgmf" style="cursor: pointer;"><div class="MuiGrid-root MuiGrid-container MuiGrid-direction-xs-column mui-1tdxmx0"><div class="MuiGrid-root MuiGrid-item mui-tolxbf"><div class="relative w-full"><button class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall mui-wksd04" tabindex="0" type="button" aria-label="zoom-in"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ZoomInIcon"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"></path><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"></path></svg><span class="MuiTouchRipple-root mui-w0pj6f"></span></button><span class="w-full h-full"><span class="block"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1929.0278751910446 684.1779328541697">
  <!-- svg-source:excalidraw -->
  <!-- payload-type:application/vnd.excalidraw+json --><!-- payload-version:2 -->
  <defs>
    <style class="style-fonts">
      
      
      
    </style>
    
  </defs>
  <rect x="0" y="0" width="1929.0278751910446" height="684.1779328541697" fill="#ffffff"></rect><g stroke-linecap="round" transform="translate(515.2737544801546 38.33160706004219) rotate(0 98.697265625 53.470703125)"><path d="M4.03 10.13 C4.03 10.13, 4.03 10.13, 4.03 10.13 M4.03 10.13 C4.03 10.13, 4.03 10.13, 4.03 10.13 M0.88 25.94 C9.29 16.35, 16.21 9.64, 22.53 1.04 M0.88 25.94 C6.84 19.11, 14.48 11.5, 22.53 1.04 M1.02 37.99 C9.06 31.07, 16.62 20.87, 33.82 0.25 M1.02 37.99 C11.94 25.1, 23.42 12.81, 33.82 0.25 M1.15 50.03 C13.31 33.63, 27.76 18.72, 44.45 0.22 M1.15 50.03 C12.34 36.36, 25.01 22.13, 44.45 0.22 M1.28 62.07 C11.04 48.92, 23.32 35.34, 55.08 0.18 M1.28 62.07 C13.04 47.79, 25.86 33.24, 55.08 0.18 M1.42 74.11 C16.38 54.98, 31.84 38.53, 65.71 0.15 M1.42 74.11 C25.46 45.86, 49.52 17.66, 65.71 0.15 M0.89 86.9 C24.86 59.62, 48.29 34.97, 76.34 0.11 M0.89 86.9 C27.94 54.89, 55.55 22.64, 76.34 0.11 M3.65 95.93 C32.18 63.24, 62.69 29.32, 86.97 0.08 M3.65 95.93 C25.81 69.77, 48.53 42.62, 86.97 0.08 M9.03 101.93 C28.76 82.25, 45.71 62.35, 97.6 0.04 M9.03 101.93 C30.72 76.2, 54.38 50.2, 97.6 0.04 M16.38 105.67 C42.26 75.41, 70.11 43.85, 108.23 0.01 M16.38 105.67 C43.8 73.51, 72.06 41.63, 108.23 0.01 M25.7 107.14 C57.69 72.41, 88.09 34.32, 118.86 -0.03 M25.7 107.14 C52.47 75.73, 78.38 44.44, 118.86 -0.03 M36.33 107.11 C58.36 80.74, 82.58 52.57, 128.84 0.69 M36.33 107.11 C66.71 73.96, 95.92 38.53, 128.84 0.69 M46.96 107.07 C67.27 83.78, 88.08 57.85, 139.47 0.66 M46.96 107.07 C83.45 67.06, 117.87 27.8, 139.47 0.66 M57.59 107.04 C83.9 79.3, 111.99 45.67, 150.1 0.63 M57.59 107.04 C82.51 76.41, 110.04 45.05, 150.1 0.63 M68.22 107 C93.98 74.52, 121.77 45.38, 160.73 0.59 M68.22 107 C96.49 74.35, 127.4 39.27, 160.73 0.59 M78.85 106.97 C112.47 66.59, 148.64 26.28, 171.36 0.56 M78.85 106.97 C101.5 81.86, 122.18 55.98, 171.36 0.56 M89.48 106.94 C115.39 75.77, 139.56 47.13, 180.67 2.03 M89.48 106.94 C109.31 82.89, 130.12 59.39, 180.67 2.03 M100.11 106.9 C134.78 66.08, 168.97 26.1, 188.68 5.02 M100.11 106.9 C130.69 73.26, 158.56 39.12, 188.68 5.02 M110.74 106.87 C144.01 71.98, 175.23 35.59, 194.06 11.02 M110.74 106.87 C133.22 80.49, 156.79 53.94, 194.06 11.02 M121.37 106.83 C144.56 80.5, 170.52 52.58, 196.82 20.04 M121.37 106.83 C138.6 87.13, 154.12 69.45, 196.82 20.04 M132 106.8 C156.1 83.13, 178.78 56.76, 197.61 31.33 M132 106.8 C158 77.35, 182.85 47.4, 197.61 31.33 M141.98 107.52 C153.64 92.85, 166.6 81.64, 197.74 43.37 M141.98 107.52 C155.62 90.63, 170.15 74.61, 197.74 43.37 M152.61 107.48 C168.37 89.91, 186.27 68.92, 197.87 55.41 M152.61 107.48 C168.1 89.25, 185.86 70.16, 197.87 55.41 M163.24 107.45 C173.16 95.57, 181.32 87.26, 198.01 67.45 M163.24 107.45 C172.88 95.86, 184.08 84.26, 198.01 67.45 M174.52 106.66 C181.86 96.87, 191.48 84.82, 197.48 80.24 M174.52 106.66 C182.33 97.95, 188.34 90.57, 197.48 80.24" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M26.74 0 C75.59 -2.91, 121.52 -1.51, 170.66 0 M26.74 0 C73.88 -0.3, 120.71 -0.64, 170.66 0 M170.66 0 C186.72 -0.09, 198.47 10.81, 197.39 26.74 M170.66 0 C189.8 1.01, 197.14 9.42, 197.39 26.74 M197.39 26.74 C197.78 42.72, 197.44 54.14, 197.39 80.21 M197.39 26.74 C196.91 41.44, 197.24 54.16, 197.39 80.21 M197.39 80.21 C198.89 96.59, 189.68 108.62, 170.66 106.94 M197.39 80.21 C195.94 99.73, 188.3 106.01, 170.66 106.94 M170.66 106.94 C133.82 106.35, 94.89 109.34, 26.74 106.94 M170.66 106.94 C125.23 107.45, 80.58 106.87, 26.74 106.94 M26.74 106.94 C10.77 108.12, 1.79 97.52, 0 80.21 M26.74 106.94 C9.26 107.01, -0.58 100.03, 0 80.21 M0 80.21 C0.13 66.86, -1.02 55.91, 0 26.74 M0 80.21 C-0.61 66.87, -0.15 52.44, 0 26.74 M0 26.74 C-0.72 10.55, 9.1 1.83, 26.74 0 M0 26.74 C0.64 8.6, 7.56 -0.2, 26.74 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(529.9311031129671 79.30231018504219) rotate(0 84.0399169921875 12.5)"><text x="84.0399169921875" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Scheduler Service</text></g><g stroke-linecap="round"><g transform="translate(720.3245357301546 134.49725371739896) rotate(0 39.22324959116702 15.758255254877895)"><path d="M-0.13 0.31 C13.17 5.65, 65.66 26.84, 78.81 32.13 M-1.65 -0.57 C11.6 4.41, 64.74 25.24, 78.05 30.33" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(720.3245357301546 134.49725371739896) rotate(0 39.22324959116702 15.758255254877895)"><path d="M29.86 1.33 C23.79 1.68, 17.72 1.38, -0.13 0.31 M29.86 1.33 C18.66 0.96, 9.76 1.61, -0.13 0.31" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(720.3245357301546 134.49725371739896) rotate(0 39.22324959116702 15.758255254877895)"><path d="M22.18 20.37 C17.79 16.54, 13.4 12.07, -0.13 0.31 M22.18 20.37 C13.58 13.44, 7.32 7.53, -0.13 0.31" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(720.3245357301546 134.49725371739896) rotate(0 39.22324959116702 15.758255254877895)"><path d="M48.05 29.7 C55.15 30.47, 62.25 30.54, 78.05 30.33 M48.05 29.7 C57.5 29.85, 69.23 31.06, 78.05 30.33" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(720.3245357301546 134.49725371739896) rotate(0 39.22324959116702 15.758255254877895)"><path d="M55.47 10.57 C60.96 15.53, 66.42 19.8, 78.05 30.33 M55.47 10.57 C62.4 17.31, 71.59 25.1, 78.05 30.33" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(812.917754118215 80.24057533496762) rotate(0 89.47739173275392 87.55859375)"><path d="M12.91 43.02 C12.91 43.02, 12.91 43.02, 12.91 43.02 M12.91 43.02 C12.91 43.02, 12.91 43.02, 12.91 43.02 M4.51 64.87 C14.94 54.25, 24.94 39.56, 52.4 9.78 M4.51 64.87 C20.26 44.47, 38.01 25.82, 52.4 9.78 M0.71 81.44 C24.53 56.47, 46.84 27.75, 68.94 2.95 M0.71 81.44 C19.09 58.79, 38.63 37.35, 68.94 2.95 M2.15 91.97 C18.66 72.09, 36.42 51.04, 80.23 2.16 M2.15 91.97 C23.96 66.57, 47.38 39.48, 80.23 2.16 M2.94 103.26 C28.17 72.9, 56.82 41.72, 92.17 0.62 M2.94 103.26 C29.98 71.13, 58.41 39.64, 92.17 0.62 M4.39 113.79 C31.31 85.79, 54.38 56.49, 102.8 0.58 M4.39 113.79 C34.24 80.39, 62.62 47.6, 102.8 0.58 M8.46 121.3 C31.08 96.39, 52.15 69.41, 110.8 3.57 M8.46 121.3 C37.21 90.32, 65.19 57.48, 110.8 3.57 M12.53 128.82 C51.65 82.32, 92.47 34.85, 118.81 6.55 M12.53 128.82 C46.46 89.56, 81.6 51.56, 118.81 6.55 M17.25 135.57 C53.66 91.31, 93.82 46.74, 126.82 9.54 M17.25 135.57 C57.55 87.83, 98.86 40.11, 126.82 9.54 M21.98 142.33 C65.51 92.86, 106.31 42.67, 134.82 12.52 M21.98 142.33 C47.28 114.01, 72.43 85.86, 134.82 12.52 M28.02 147.58 C72.03 98.09, 117.17 47.1, 140.86 17.77 M28.02 147.58 C63.6 106.95, 99.2 66.36, 140.86 17.77 M33.4 153.58 C71.55 111.69, 106.26 69.84, 146.9 23.02 M33.4 153.58 C72.06 108.96, 112.76 63.69, 146.9 23.02 M39.44 158.83 C85.26 107.61, 126.09 60.27, 152.93 28.27 M39.44 158.83 C71.49 120.92, 102.96 83.5, 152.93 28.27 M46.13 163.33 C89.75 113.56, 136.93 59.19, 159.63 32.76 M46.13 163.33 C84.49 120.03, 123.14 73.51, 159.63 32.76 M54.14 166.31 C82.38 135.88, 107.71 101.52, 164.35 39.52 M54.14 166.31 C98.24 115.92, 140.74 64.49, 164.35 39.52 M62.14 169.29 C88.15 137.19, 118.53 107.16, 167.77 47.79 M62.14 169.29 C102.38 123.75, 142.28 78.77, 167.77 47.79 M70.15 172.28 C89.74 149.68, 113 125.14, 171.84 55.3 M70.15 172.28 C96.25 144.13, 121.34 113.72, 171.84 55.3 M78.15 175.26 C107.69 141.16, 134.92 110.78, 175.91 62.81 M78.15 175.26 C107.41 143.92, 133.91 113.08, 175.91 62.81 M89.44 174.47 C121.96 134.78, 156.7 95.4, 177.35 73.34 M89.44 174.47 C120.93 137.9, 151.67 102.09, 177.35 73.34 M101.38 172.93 C127.31 140.95, 155.68 109.95, 177.48 85.38 M101.38 172.93 C119.09 152.42, 135.46 134.41, 177.48 85.38 M112.67 172.14 C139.56 142.94, 163.42 113.85, 178.27 96.67 M112.67 172.14 C131.23 149.7, 151.16 127.57, 178.27 96.67 M129.86 164.56 C140.07 152.3, 150.8 137.61, 173.81 113.99 M129.86 164.56 C141.45 152.53, 150.85 139.61, 173.81 113.99" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M101.36 -0.12 C112.21 0, 124.25 6.49, 134.27 12.33 C144.29 18.16, 154.47 26.16, 161.48 34.92 C168.5 43.68, 173.56 54.25, 176.37 64.9 C179.19 75.55, 179.88 87.76, 178.4 98.83 C176.91 109.9, 173.19 121.49, 167.44 131.32 C161.69 141.14, 153.08 151.13, 143.91 157.79 C134.73 164.45, 123.51 168.42, 112.4 171.27 C101.3 174.13, 88.7 176.41, 77.26 174.95 C65.82 173.49, 53.41 168.3, 43.76 162.53 C34.11 156.75, 26.17 148.91, 19.36 140.3 C12.55 131.68, 6.13 121.47, 2.91 110.86 C-0.31 100.24, -1.6 87.92, 0.06 76.61 C1.72 65.31, 6.92 52.83, 12.88 43.05 C18.85 33.27, 26.98 24.68, 35.84 17.95 C44.7 11.21, 53.26 5.05, 66.03 2.63 C78.79 0.21, 103.03 2.69, 112.44 3.42 C121.85 4.15, 122.87 5.58, 122.51 7.02 M94.16 0.41 C104.82 -0.45, 117.71 3.22, 128.33 8.22 C138.94 13.22, 150.01 22, 157.86 30.4 C165.71 38.81, 171.88 48.22, 175.41 58.64 C178.94 69.06, 180 81.49, 179.02 92.92 C178.04 104.35, 174.75 117.16, 169.53 127.22 C164.32 137.29, 155.97 146.1, 147.72 153.31 C139.47 160.52, 130.8 167, 120.05 170.49 C109.29 173.98, 94.81 175.05, 83.2 174.24 C71.6 173.43, 60.34 170.44, 50.4 165.63 C40.46 160.82, 31.2 153.54, 23.56 145.39 C15.92 137.24, 8.39 127.32, 4.55 116.74 C0.71 106.16, -0.14 92.96, 0.52 81.91 C1.17 70.86, 3.53 60.18, 8.5 50.43 C13.46 40.67, 21.6 31.01, 30.31 23.37 C39.01 15.73, 50.11 8.47, 60.73 4.58 C71.35 0.69, 88.53 0.54, 94.03 0.03 C99.53 -0.49, 93.62 -0.09, 93.75 1.49" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(844.3251181184629 142.88589369318456) rotate(0 58.299957275390625 25)"><text x="58.299957275390625" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Job Store</text><text x="58.299957275390625" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">(DynamoDB)</text></g><g transform="translate(1023.4826870800541 84.88780423003573) rotate(0 49.83995574712753 75)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Jobs</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- id</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- userId</text><text x="0" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- taskId</text><text x="0" y="100" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- params</text><text x="0" y="125" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- schedule</text></g><g transform="translate(1157.9286877196107 85.1261715337796) rotate(0 52.149956211447716 75)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Executions</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- time</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- jobId</text><text x="0" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- userId</text><text x="0" y="100" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- status</text><text x="0" y="125" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- attempt</text></g><g stroke-linecap="round"><g transform="translate(904.5964639359524 266.8699652474361) rotate(0 0.9476839926498997 58.65029357750063)"><path d="M0.65 1.14 C1.25 20.79, 2.39 98.42, 2.58 117.83 M-0.47 0.69 C0.13 19.98, 1.76 96.26, 1.99 115.98" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(904.5964639359524 266.8699652474361) rotate(0 0.9476839926498997 58.65029357750063)"><path d="M11.41 29.14 C11.04 24.41, 7.73 17.11, 0.65 1.14 M11.41 29.14 C7.9 20.23, 5.25 11.04, 0.65 1.14" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(904.5964639359524 266.8699652474361) rotate(0 0.9476839926498997 58.65029357750063)"><path d="M-9.11 29.51 C-5.13 24.59, -4.08 17.21, 0.65 1.14 M-9.11 29.51 C-6.01 20.37, -2.05 11.06, 0.65 1.14" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(904.5964639359524 266.8699652474361) rotate(0 0.9476839926498997 58.65029357750063)"><path d="M-8.76 87.97 C-4.59 95, -3.33 99.57, 1.99 115.98 M-8.76 87.97 C-5.49 96.99, -1.21 105.84, 1.99 115.98" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(904.5964639359524 266.8699652474361) rotate(0 0.9476839926498997 58.65029357750063)"><path d="M11.76 87.62 C11.58 94.82, 8.48 99.48, 1.99 115.98 M11.76 87.62 C8.42 96.85, 6.09 105.82, 1.99 115.98" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(780.4747933105998 394.8336908473584) rotate(0 125.576171875 63.78515625)"><path d="M4.79 12.11 C4.79 12.11, 4.79 12.11, 4.79 12.11 M4.79 12.11 C4.79 12.11, 4.79 12.11, 4.79 12.11 M2.95 26.42 C10.6 17.9, 15.92 13.95, 25.26 0.76 M2.95 26.42 C9.47 19.8, 14.83 11.92, 25.26 0.76 M3.08 38.46 C15.35 23.9, 25.23 12.24, 34.58 2.23 M3.08 38.46 C12.55 27.27, 20.77 17.64, 34.58 2.23 M2.56 51.25 C14.31 36.86, 25.61 23.21, 45.21 2.2 M2.56 51.25 C17.49 33.95, 31.72 16.6, 45.21 2.2 M2.69 63.29 C19.47 43.66, 40.06 23.35, 55.84 2.16 M2.69 63.29 C18.39 44.58, 35.32 25.95, 55.84 2.16 M2.83 75.33 C19.11 58.67, 33.39 42.51, 66.47 2.13 M2.83 75.33 C21.83 52.83, 41.6 32.11, 66.47 2.13 M2.96 87.37 C29.94 58.19, 54.81 27.12, 77.1 2.09 M2.96 87.37 C25.88 59.97, 48.62 33.38, 77.1 2.09 M3.09 99.42 C28.33 71.17, 52.6 40.08, 87.73 2.06 M3.09 99.42 C36.78 61.97, 68.71 24.03, 87.73 2.06 M5.85 108.44 C36.83 73.23, 69.35 36.25, 98.36 2.02 M5.85 108.44 C25.64 86.26, 45.53 64.08, 98.36 2.02 M7.95 118.21 C43.77 75, 80.42 34.29, 108.99 1.99 M7.95 118.21 C41.96 77.55, 77.48 36.7, 108.99 1.99 M13.33 124.22 C46.98 84.64, 81.75 47.37, 119.62 1.95 M13.33 124.22 C34.14 98.28, 55.32 73.63, 119.62 1.95 M22 126.45 C63.14 77.5, 107.53 28.41, 130.25 1.92 M22 126.45 C47.7 97.01, 74.06 65.82, 130.25 1.92 M28.69 130.94 C53.06 102.48, 73.94 78.72, 140.22 2.64 M28.69 130.94 C74.02 79.25, 117.29 30.44, 140.22 2.64 M38.01 132.42 C65.63 102.62, 94.88 70.65, 150.85 2.61 M38.01 132.42 C64.88 102.07, 90.79 72.79, 150.85 2.61 M48.64 132.38 C75.73 101.81, 100.29 71.63, 161.48 2.57 M48.64 132.38 C90.33 82.12, 133.85 32.59, 161.48 2.57 M59.27 132.35 C94.55 90.28, 129.85 50.65, 172.11 2.54 M59.27 132.35 C98.8 87.38, 138.03 44.25, 172.11 2.54 M69.9 132.31 C105.15 91.17, 142.6 48.15, 182.74 2.5 M69.9 132.31 C98.28 97.39, 129.96 63.15, 182.74 2.5 M79.87 133.03 C111.41 97.44, 142.08 58.52, 193.37 2.47 M79.87 133.03 C120.31 87.31, 160.44 40.74, 193.37 2.47 M90.5 133 C125.17 95.1, 156.22 56.19, 204 2.43 M90.5 133 C117.77 101.69, 147.46 67.29, 204 2.43 M101.13 132.96 C135.76 94.23, 169.32 55.28, 214.63 2.4 M101.13 132.96 C133.41 94.23, 165.85 56.02, 214.63 2.4 M111.76 132.93 C143.01 99.97, 172.58 63.97, 223.95 3.87 M111.76 132.93 C139.09 102.44, 167.36 71.48, 223.95 3.87 M122.39 132.89 C150.78 100.12, 179.28 70.06, 234.58 3.84 M122.39 132.89 C160.55 90.45, 196.21 48.33, 234.58 3.84 M133.02 132.86 C163.37 98.85, 193.99 62.51, 241.93 7.58 M133.02 132.86 C159.61 103.74, 185.76 75.03, 241.93 7.58 M143.65 132.83 C174.49 95.97, 206.69 60.34, 247.31 13.58 M143.65 132.83 C174.05 97.24, 205.8 61.78, 247.31 13.58 M154.28 132.79 C178.12 104.14, 201.24 76.87, 250.72 21.85 M154.28 132.79 C186.21 95.79, 218.19 60.29, 250.72 21.85 M164.91 132.76 C192.9 98.08, 226.43 63.66, 255.45 28.61 M164.91 132.76 C197.98 92.93, 233.48 55.45, 255.45 28.61 M175.54 132.72 C206.84 98.99, 238.32 62.52, 255.58 40.65 M175.54 132.72 C201.91 102.61, 228.46 71.44, 255.58 40.65 M186.17 132.69 C206.79 108.71, 231.7 82.28, 255.72 52.69 M186.17 132.69 C213.49 102.27, 240.18 70.82, 255.72 52.69 M196.8 132.65 C211.82 115.39, 223.48 101.4, 255.85 64.73 M196.8 132.65 C217.12 108.12, 237.83 86, 255.85 64.73 M207.43 132.62 C222.93 114.24, 241.19 97.28, 255.98 76.77 M207.43 132.62 C220.86 115.41, 236.18 99.53, 255.98 76.77 M221.34 128.81 C226.79 120.55, 236.83 112.99, 256.12 88.81 M221.34 128.81 C234.24 114.58, 247.06 97.9, 256.12 88.81 M233.94 126.51 C241 120.9, 248.4 109.88, 252.97 104.63 M233.94 126.51 C240.16 119.46, 248.41 110.27, 252.97 104.63" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M31.89 0 C99.06 -1.29, 164.91 -1.61, 219.26 0 M31.89 0 C98.8 -0.21, 163.42 -0.52, 219.26 0 M219.26 0 C241.71 -1.76, 249.55 12.51, 251.15 31.89 M219.26 0 C239.43 -0.25, 252.87 8.97, 251.15 31.89 M251.15 31.89 C253.16 54.68, 250.88 77.12, 251.15 95.68 M251.15 31.89 C250.81 54.53, 252.3 76.14, 251.15 95.68 M251.15 95.68 C252.68 117.42, 239.52 127.91, 219.26 127.57 M251.15 95.68 C250.62 115.98, 242.65 128.93, 219.26 127.57 M219.26 127.57 C146.36 127.35, 75.09 126.43, 31.89 127.57 M219.26 127.57 C160.07 127.29, 102.09 127.34, 31.89 127.57 M31.89 127.57 C12.07 127.29, -0.45 117.81, 0 95.68 M31.89 127.57 C11.17 127.06, -0.83 118.82, 0 95.68 M0 95.68 C-0.85 74.76, -0.76 54.79, 0 31.89 M0 95.68 C-0.87 77.84, -0.34 60.01, 0 31.89 M0 31.89 C-0.12 9.46, 11.01 -1.05, 31.89 0 M0 31.89 C-0.52 11.86, 11.6 0.74, 31.89 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(795.7810600952678 408.6188470973584) rotate(0 110.26990509033203 50)"><text x="110.26990509033203" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Watcher</text><text x="110.26990509033203" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- polls for Jobs that </text><text x="110.26990509033203" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">should be executed </text><text x="110.26990509033203" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">soon</text></g><g stroke-linecap="round"><g transform="translate(1052.283811325741 454.6546290999804) rotate(0 36.28125 -0.10546875)"><path d="M-0.33 0.64 C11.77 0.57, 60.13 0.01, 72.42 -0.15 M1.7 -0.07 C13.64 0.05, 59.5 1.26, 71.39 1.42" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1052.283811325741 454.6546290999804) rotate(0 36.28125 -0.10546875)"><path d="M43 11.1 C52.25 8.14, 59.49 6.98, 71.39 1.42 M43 11.1 C51.86 7.55, 58.64 6.58, 71.39 1.42" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1052.283811325741 454.6546290999804) rotate(0 36.28125 -0.10546875)"><path d="M43.42 -9.42 C52.6 -6.45, 59.72 -1.68, 71.39 1.42 M43.42 -9.42 C51.98 -7.06, 58.63 -2.12, 71.39 1.42" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(1134.687582371788 412.2796290999804) rotate(0 128.51953125 42.5)"><path d="M3.19 8.07 C3.19 8.07, 3.19 8.07, 3.19 8.07 M3.19 8.07 C3.19 8.07, 3.19 8.07, 3.19 8.07 M0.7 23.13 C8.01 15.37, 16.64 5.24, 20.38 0.49 M0.7 23.13 C4.22 18.56, 8.49 12.78, 20.38 0.49 M0.83 35.17 C8.89 26.04, 15.88 14.77, 31.01 0.46 M0.83 35.17 C10.44 24.02, 19.82 12.6, 31.01 0.46 M0.96 47.21 C12.44 34.04, 23.12 19.81, 41.64 0.42 M0.96 47.21 C9.42 36.32, 19.27 27.28, 41.64 0.42 M1.1 59.25 C17.59 38.89, 34.16 21.17, 52.27 0.39 M1.1 59.25 C15.82 42.47, 31.72 24.77, 52.27 0.39 M1.23 71.29 C21.7 46.87, 41.7 24.17, 62.9 0.35 M1.23 71.29 C22.78 47.45, 43.87 22.5, 62.9 0.35 M5.3 78.81 C27.28 53, 47.16 27.38, 73.53 0.32 M5.3 78.81 C21.49 60.4, 37.58 41.63, 73.53 0.32 M11.99 83.3 C33.45 61.05, 53.59 36.28, 84.16 0.28 M11.99 83.3 C32.87 59.84, 53.23 37, 84.16 0.28 M20.65 85.53 C43.76 58.15, 68.31 31.41, 94.79 0.25 M20.65 85.53 C41.48 61.64, 60.86 38.21, 94.79 0.25 M31.28 85.5 C56.64 54.2, 81.74 25.52, 105.42 0.21 M31.28 85.5 C49.59 64.84, 67.06 44.63, 105.42 0.21 M41.91 85.46 C66.97 57.78, 88.42 29.88, 116.05 0.18 M41.91 85.46 C62.86 61.26, 82.83 38.64, 116.05 0.18 M52.54 85.43 C70.42 64.65, 90.34 43.86, 126.68 0.14 M52.54 85.43 C78.88 57.95, 101.91 28.73, 126.68 0.14 M63.17 85.39 C90.48 55.83, 115.39 23.29, 137.31 0.11 M63.17 85.39 C92.66 51.28, 123.61 17.94, 137.31 0.11 M73.8 85.36 C105.48 53.33, 133.05 20.46, 147.94 0.08 M73.8 85.36 C99.43 56.58, 124.82 26.5, 147.94 0.08 M84.44 85.32 C103.76 62.13, 120.72 41.99, 157.91 0.8 M84.44 85.32 C103.9 61.14, 124.72 36.98, 157.91 0.8 M95.07 85.29 C117.88 58.83, 141.37 31.81, 168.54 0.76 M95.07 85.29 C122.9 52.52, 151.25 20.86, 168.54 0.76 M105.7 85.25 C123.57 62.49, 140.78 45.1, 179.17 0.73 M105.7 85.25 C127.03 61.66, 147.53 37.68, 179.17 0.73 M116.33 85.22 C136.79 62.43, 156.51 40.6, 189.8 0.69 M116.33 85.22 C135.41 64.86, 153.67 42.64, 189.8 0.69 M126.3 85.94 C148.6 57.25, 175.27 32.21, 200.43 0.66 M126.3 85.94 C145.16 65.77, 162.64 45.14, 200.43 0.66 M136.93 85.91 C162.19 56.21, 186.49 25.51, 211.06 0.62 M136.93 85.91 C155.09 65.1, 174.81 43.43, 211.06 0.62 M147.56 85.87 C172.32 56.09, 198.97 29.19, 221.69 0.59 M147.56 85.87 C172.76 58.71, 195.91 31.57, 221.69 0.59 M158.19 85.84 C186.73 56.44, 213.55 23.23, 232.32 0.55 M158.19 85.84 C185.64 53.25, 214.77 20.86, 232.32 0.55 M168.82 85.8 C191.1 61.88, 213.24 38.19, 242.3 1.27 M168.82 85.8 C196.88 53.97, 223.81 22.71, 242.3 1.27 M179.45 85.77 C196.67 63.46, 216.58 42.42, 250.3 4.26 M179.45 85.77 C203.71 57.74, 227.59 29.45, 250.3 4.26 M190.08 85.73 C204.71 66.52, 220.42 48.03, 254.37 11.77 M190.08 85.73 C211.56 58.65, 234.57 34.4, 254.37 11.77 M200.71 85.7 C215.37 66.89, 228.39 53.08, 257.13 20.79 M200.71 85.7 C218.66 63.64, 239.42 41.62, 257.13 20.79 M211.34 85.66 C226.87 65.19, 246.23 44.5, 257.26 32.83 M211.34 85.66 C224.22 69.18, 239.13 54.81, 257.26 32.83 M221.97 85.63 C230.7 74.84, 242.52 62.49, 257.4 44.88 M221.97 85.63 C232.13 74.95, 241.18 62.57, 257.4 44.88 M232.6 85.6 C240.99 73.76, 248.28 63.83, 257.53 56.92 M232.6 85.6 C241.71 74.73, 250.98 65.26, 257.53 56.92 M244.54 84.05 C249.58 77.41, 252.84 73.75, 257.01 69.71 M244.54 84.05 C249.76 78.22, 253.49 74.59, 257.01 69.71" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M21.25 0 C79.87 1.45, 138.11 -1.33, 235.79 0 M21.25 0 C75.79 2.48, 131.31 1.56, 235.79 0 M235.79 0 C251.45 -1.44, 258.23 8.76, 257.04 21.25 M235.79 0 C248.5 1.7, 256.86 6.16, 257.04 21.25 M257.04 21.25 C258.86 31.14, 258.39 45.49, 257.04 63.75 M257.04 21.25 C256.86 34.68, 257.13 47.36, 257.04 63.75 M257.04 63.75 C258.89 79.1, 251.74 84.49, 235.79 85 M257.04 63.75 C257.39 77.99, 249.38 87, 235.79 85 M235.79 85 C186.91 85.78, 136.84 86.9, 21.25 85 M235.79 85 C180.34 85.12, 125.49 84.55, 21.25 85 M21.25 85 C6.36 86.63, 0.19 79.74, 0 63.75 M21.25 85 C7.72 84.69, -1.35 77.71, 0 63.75 M0 63.75 C0.94 52.61, -0.83 43.91, 0 21.25 M0 63.75 C0.22 54.51, -0.2 46.85, 0 21.25 M0 21.25 C0.84 7.73, 7.94 -1.96, 21.25 0 M0 21.25 C1.51 5.33, 8.28 0.04, 21.25 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1155.9772094469834 442.2796290999804) rotate(0 107.22990417480469 12.5)"><text x="107.22990417480469" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Message Queue (SQS)</text></g><g stroke-linecap="round"><g transform="translate(1540.3736550757408 452.9532363615899) rotate(0 -70.70827072697625 0.08719451623176155)"><path d="M-1.07 -0.51 C-24.66 -0.63, -117.15 -1.18, -140.7 -0.88 M0.57 -1.82 C-23.18 -1.82, -117.85 -0.13, -141.27 0.1" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1540.3736550757408 452.9532363615899) rotate(0 -70.70827072697625 0.08719451623176155)"><path d="M-113.23 -10.56 C-124.47 -5.67, -135.76 -4.52, -141.27 0.1 M-113.23 -10.56 C-123.58 -7.11, -134.77 -1.36, -141.27 0.1" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1540.3736550757408 452.9532363615899) rotate(0 -70.70827072697625 0.08719451623176155)"><path d="M-112.94 9.96 C-124.26 7.25, -135.66 0.81, -141.27 0.1 M-112.94 9.96 C-123.3 5.33, -134.61 3, -141.27 0.1" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(1094.090573387515 518.907700464054) rotate(0 189.2597936987877 25)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- delivery delay until execution time</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- partition by execution time</text></g><g stroke-linecap="round" transform="translate(512.1396148545425 185.04063219735417) rotate(0 98.697265625 53.470703125)"><path d="M4.03 10.13 C4.03 10.13, 4.03 10.13, 4.03 10.13 M4.03 10.13 C4.03 10.13, 4.03 10.13, 4.03 10.13 M0.88 25.94 C9.58 15.36, 15.94 7.74, 22.53 1.04 M0.88 25.94 C7.4 18.04, 12.77 11.69, 22.53 1.04 M1.02 37.99 C9.9 26.79, 18.42 16.33, 33.82 0.25 M1.02 37.99 C12.48 24.6, 23.31 11.15, 33.82 0.25 M1.15 50.03 C14.58 34.11, 31.89 17.57, 44.45 0.22 M1.15 50.03 C13.81 34.77, 27.74 19.59, 44.45 0.22 M1.28 62.07 C15.34 47.96, 27.33 34.45, 55.08 0.18 M1.28 62.07 C17.31 42.93, 34.14 25.59, 55.08 0.18 M1.42 74.11 C24.91 48.98, 46.31 21.9, 65.71 0.15 M1.42 74.11 C21.21 50.25, 40.88 27.19, 65.71 0.15 M0.89 86.9 C23.43 61.88, 44.93 33.97, 76.34 0.11 M0.89 86.9 C30.98 53.57, 59.39 19.68, 76.34 0.11 M3.65 95.93 C31.43 64.36, 60.85 30.95, 86.97 0.08 M3.65 95.93 C21.47 75.9, 39.43 55.95, 86.97 0.08 M9.03 101.93 C40.39 64.01, 72.53 28.47, 97.6 0.04 M9.03 101.93 C38.74 66.26, 69.92 30.4, 97.6 0.04 M16.38 105.67 C45.34 71.35, 75.57 39.3, 108.23 0.01 M16.38 105.67 C34.34 83.19, 52.56 61.92, 108.23 0.01 M25.7 107.14 C60.95 65, 99.53 22.6, 118.86 -0.03 M25.7 107.14 C47.84 81.94, 70.49 55.01, 118.86 -0.03 M36.33 107.11 C56.82 83.3, 73.81 64.02, 128.84 0.69 M36.33 107.11 C74.04 64.12, 109.82 23.92, 128.84 0.69 M46.96 107.07 C69.45 82.95, 93.66 56.77, 139.47 0.66 M46.96 107.07 C69.08 82.24, 90.37 58.27, 139.47 0.66 M57.59 107.04 C79.86 81.81, 99.7 57.07, 150.1 0.63 M57.59 107.04 C91.62 65.83, 127.4 25.2, 150.1 0.63 M68.22 107 C97.03 72.25, 125.8 40.13, 160.73 0.59 M68.22 107 C100.74 70.01, 132.96 34.94, 160.73 0.59 M78.85 106.97 C107.63 73.31, 138.56 37.77, 171.36 0.56 M78.85 106.97 C101.97 78.24, 128.24 50.24, 171.36 0.56 M89.48 106.94 C114.94 78.69, 139.37 46.95, 180.67 2.03 M89.48 106.94 C121.91 70.29, 154.25 32.68, 180.67 2.03 M100.11 106.9 C127.29 77.56, 151.05 47.04, 188.68 5.02 M100.11 106.9 C121.26 82.64, 144.64 55.5, 188.68 5.02 M110.74 106.87 C136.67 78.71, 161.28 50.06, 194.06 11.02 M110.74 106.87 C134.43 78.29, 158.03 50.24, 194.06 11.02 M121.37 106.83 C142.45 85.22, 162 60.73, 196.82 20.04 M121.37 106.83 C139.6 86.34, 158.99 65.58, 196.82 20.04 M132 106.8 C148.73 87.51, 165.8 70.59, 197.61 31.33 M132 106.8 C154.58 82.27, 175.01 57.67, 197.61 31.33 M141.98 107.52 C157.59 90.46, 173.15 71.46, 197.74 43.37 M141.98 107.52 C155.75 92.69, 169.47 78.28, 197.74 43.37 M152.61 107.48 C165.41 90.97, 180.13 75.44, 197.87 55.41 M152.61 107.48 C165.87 91.79, 179.92 76.69, 197.87 55.41 M163.24 107.45 C172.15 96.25, 179.92 86.65, 198.01 67.45 M163.24 107.45 C174.44 93.61, 185.96 81.64, 198.01 67.45 M174.52 106.66 C180.5 97.23, 191.58 88.63, 197.48 80.24 M174.52 106.66 C182.32 95.85, 192.62 87.35, 197.48 80.24" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M26.74 0 C80.36 0.2, 130.02 2.65, 170.66 0 M26.74 0 C58.9 -0.47, 92.26 -1.61, 170.66 0 M170.66 0 C187.83 0.92, 198.61 10.53, 197.39 26.74 M170.66 0 C186.8 1.33, 199.15 9.19, 197.39 26.74 M197.39 26.74 C197.86 46.4, 196.68 68.83, 197.39 80.21 M197.39 26.74 C198.03 45.97, 197.62 66, 197.39 80.21 M197.39 80.21 C195.97 98.29, 190.36 107.14, 170.66 106.94 M197.39 80.21 C196.1 96.94, 188.66 105.96, 170.66 106.94 M170.66 106.94 C118.02 107.09, 63.19 105.89, 26.74 106.94 M170.66 106.94 C116 108.12, 60.2 108.17, 26.74 106.94 M26.74 106.94 C7.51 106.39, 0.59 98.85, 0 80.21 M26.74 106.94 C7.34 105.85, -0.34 95.85, 0 80.21 M0 80.21 C-0.74 64.04, 1.38 49.63, 0 26.74 M0 80.21 C0.43 61.67, 0.29 44.68, 0 26.74 M0 26.74 C0 10.62, 8.21 -0.67, 26.74 0 M0 26.74 C1.31 10.79, 9.9 -2.06, 26.74 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(544.8869445664566 226.01133532235417) rotate(0 65.94993591308594 12.5)"><text x="65.94993591308594" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Query Service</text></g><g stroke-linecap="round"><g transform="translate(720.4273464804926 248.933780770657) rotate(0 45.30548925832454 -23.285791106315628)"><path d="M0.9 -0.87 C16.21 -8.44, 76.5 -38.1, 91.33 -45.57 M-0.09 1.29 C15.18 -6.58, 75.35 -39.02, 90.75 -47.16" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(720.4273464804926 248.933780770657) rotate(0 45.30548925832454 -23.285791106315628)"><path d="M21.64 -22.54 C14.94 -15.72, 12.81 -12.7, 0.9 -0.87 M21.64 -22.54 C13.54 -14.06, 6.72 -5.6, 0.9 -0.87" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(720.4273464804926 248.933780770657) rotate(0 45.30548925832454 -23.285791106315628)"><path d="M30.72 -4.14 C21.74 -1.9, 17.33 -3.52, 0.9 -0.87 M30.72 -4.14 C19.24 -2.58, 9.02 -1, 0.9 -0.87" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(720.4273464804926 248.933780770657) rotate(0 45.30548925832454 -23.285791106315628)"><path d="M70.72 -24.83 C74.36 -29.43, 82.54 -37.52, 90.75 -47.16 M70.72 -24.83 C77.9 -32.64, 86.33 -40.64, 90.75 -47.16" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(720.4273464804926 248.933780770657) rotate(0 45.30548925832454 -23.285791106315628)"><path d="M61.05 -42.93 C67.12 -43.03, 77.73 -46.55, 90.75 -47.16 M61.05 -42.93 C71.84 -43.93, 83.88 -45.16, 90.75 -47.16" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(1549.2407658160446 380.66304706340543) rotate(0 72.099609375 68.462890625)"><path d="M7.86 8.16 C7.86 8.16, 7.86 8.16, 7.86 8.16 M7.86 8.16 C7.86 8.16, 7.86 8.16, 7.86 8.16 M1.43 27.75 C7.52 20.82, 12.55 11.8, 24.4 1.33 M1.43 27.75 C8.74 19.18, 15.82 10.4, 24.4 1.33 M0.91 40.54 C10.93 29.05, 20.13 16.52, 36.34 -0.21 M0.91 40.54 C8.22 30.98, 16.88 23.29, 36.34 -0.21 M1.04 52.58 C15.63 34.41, 30.28 18.9, 46.31 0.51 M1.04 52.58 C13.98 37.84, 28.13 22.16, 46.31 0.51 M1.18 64.62 C19.64 42.5, 37.63 22.11, 56.94 0.47 M1.18 64.62 C20.74 43.09, 39.8 20.48, 56.94 0.47 M1.31 76.67 C22.67 51.57, 41.92 26.66, 67.57 0.44 M1.31 76.67 C17.05 58.79, 32.68 40.54, 67.57 0.44 M1.44 88.71 C24.17 64.98, 45.63 38.7, 78.2 0.41 M1.44 88.71 C23.6 63.79, 45.25 39.45, 78.2 0.41 M0.92 101.5 C28.62 69.05, 57.61 37.19, 88.83 0.37 M0.92 101.5 C25.45 73.21, 48.63 45.4, 88.83 0.37 M1.05 113.54 C34.65 72.56, 68.12 34.25, 99.46 0.34 M1.05 113.54 C25.27 86.27, 48.68 59.21, 99.46 0.34 M3.81 122.56 C39.34 83.06, 70.92 43.51, 110.09 0.3 M3.81 122.56 C33.48 88.11, 62.49 55.09, 110.09 0.3 M8.54 129.32 C35.58 97.99, 64.44 66.92, 120.07 1.02 M8.54 129.32 C47.68 87.58, 83.09 44.1, 120.07 1.02 M15.23 133.82 C56.32 88.16, 95.43 39.29, 128.07 4.01 M15.23 133.82 C60.39 82.13, 106.77 31.03, 128.07 4.01 M23.89 136.05 C70.54 87.37, 112.78 37.63, 135.42 7.75 M23.89 136.05 C62.65 92.67, 100.87 47.82, 135.42 7.75 M33.87 136.77 C61.16 103.95, 86.4 74.3, 140.15 14.5 M33.87 136.77 C62.45 101.93, 92.46 67.19, 140.15 14.5 M44.5 136.73 C75.36 100.87, 107.03 64.44, 142.91 23.53 M44.5 136.73 C81.81 92.96, 119.68 50.33, 142.91 23.53 M55.13 136.7 C76.91 109.4, 97.97 87.58, 144.35 34.06 M55.13 136.7 C80.87 107.98, 105.73 78.98, 144.35 34.06 M65.76 136.66 C87.61 112.28, 108.75 88.82, 144.48 46.1 M65.76 136.66 C86.16 114.83, 105.73 91.1, 144.48 46.1 M76.39 136.63 C96.78 110.12, 121.58 87.24, 144.62 58.14 M76.39 136.63 C93.82 118.14, 109.88 99.15, 144.62 58.14 M86.36 137.35 C106.01 114.2, 124.72 89.94, 144.09 70.93 M86.36 137.35 C100.39 121.17, 116.05 104.18, 144.09 70.93 M96.99 137.31 C112.35 117.99, 129.78 101.7, 144.23 82.97 M96.99 137.31 C113.31 120.06, 127.75 102.94, 144.23 82.97 M107.62 137.28 C122.61 123.36, 135.76 105.87, 144.36 95.02 M107.62 137.28 C120.86 121.17, 135.84 105.05, 144.36 95.02 M118.91 136.49 C126.44 128.8, 134.21 121.65, 143.84 107.81 M118.91 136.49 C128.68 125.3, 137.32 115.08, 143.84 107.81 M134.79 130.42 C135.54 128.76, 137.36 127.41, 140.03 124.38 M134.79 130.42 C136.47 128.42, 138.13 126.18, 140.03 124.38" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M32 0 C63.72 -1.74, 93.58 -0.64, 112.2 0 M32 0 C53.43 0.44, 72.92 0.21, 112.2 0 M112.2 0 C135.06 0.24, 145.73 11.14, 144.2 32 M112.2 0 C132.38 0.39, 143.67 9.7, 144.2 32 M144.2 32 C144.12 60.94, 144.69 88.77, 144.2 104.93 M144.2 32 C144.62 60.34, 143.12 87.99, 144.2 104.93 M144.2 104.93 C144.36 125.41, 134.97 136.65, 112.2 136.93 M144.2 104.93 C143.68 127.26, 134.07 136.41, 112.2 136.93 M112.2 136.93 C92.87 137.55, 69.62 135.83, 32 136.93 M112.2 136.93 C89.15 137.11, 64.82 136.23, 32 136.93 M32 136.93 C10.37 135.03, -0.12 125.09, 0 104.93 M32 136.93 C11.1 135.72, -0.52 127.49, 0 104.93 M0 104.93 C-2.19 81.29, -1.76 56.06, 0 32 M0 104.93 C-0.35 82.58, 0.57 61.72, 0 32 M0 32 C0.86 8.87, 9.6 -0.47, 32 0 M0 32 C1.08 11.75, 12.51 -1.52, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1569.0904209674118 411.62593768840543) rotate(0 52.24995422363281 37.5)"><text x="52.24995422363281" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">worker</text><text x="52.24995422363281" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- consume </text><text x="52.24995422363281" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">jobs</text></g><g stroke-linecap="round"><g transform="translate(1702.4673283160446 433.59273456340543) rotate(0 38.1015625 -51.3203125)"><path d="M-0.09 -0.48 C12.67 -17.65, 62.97 -85.23, 75.81 -102.09 M-1.6 -1.78 C11.03 -19.38, 61.63 -86.97, 74.66 -103.92" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1702.4673283160446 433.59273456340543) rotate(0 38.1015625 -51.3203125)"><path d="M65.83 -75.25 C66.9 -82.69, 70.72 -87.62, 74.66 -103.92 M65.83 -75.25 C70.17 -86.11, 73.53 -96.92, 74.66 -103.92" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1702.4673283160446 433.59273456340543) rotate(0 38.1015625 -51.3203125)"><path d="M49.47 -87.63 C54.51 -92.13, 62.2 -94.12, 74.66 -103.92 M49.47 -87.63 C59.95 -93.86, 69.55 -99.96, 74.66 -103.92" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(1791.6560422318098 244.74995860336549) rotate(0 60.580078125 54.958984375)"><path d="M3.58 11.06 C3.58 11.06, 3.58 11.06, 3.58 11.06 M3.58 11.06 C3.58 11.06, 3.58 11.06, 3.58 11.06 M1.09 26.12 C4.09 20.77, 9.55 15.04, 22.74 1.22 M1.09 26.12 C5.45 20.42, 10.92 14.32, 22.74 1.22 M1.22 38.16 C8.28 27.91, 16.11 20.23, 34.02 0.43 M1.22 38.16 C13.36 23.73, 25.43 9.33, 34.02 0.43 M1.35 50.2 C15.61 33.85, 29.35 20.35, 44.65 0.39 M1.35 50.2 C16.79 31.72, 32.64 13, 44.65 0.39 M0.83 63 C19.33 42.17, 39.66 19.95, 55.28 0.36 M0.83 63 C15.13 45.98, 29.95 27.93, 55.28 0.36 M0.96 75.04 C15.74 60.84, 27.94 46.41, 65.91 0.32 M0.96 75.04 C16.65 56.36, 34.34 37.23, 65.91 0.32 M1.1 87.08 C22.06 62.51, 45.02 36.56, 76.54 0.29 M1.1 87.08 C23.56 60.52, 46.82 34.39, 76.54 0.29 M3.2 96.86 C32.08 65.73, 59.4 31.18, 87.18 0.25 M3.2 96.86 C27.35 68.55, 50.6 40.32, 87.18 0.25 M7.93 103.62 C29.27 78.01, 52.84 50.6, 97.81 0.22 M7.93 103.62 C37.46 71.42, 65.82 36.96, 97.81 0.22 M15.27 107.35 C35.29 84.41, 55.79 58.82, 106.47 2.45 M15.27 107.35 C51.25 67.9, 85.18 29.22, 106.47 2.45 M23.94 109.58 C49.5 82.69, 76.83 49.93, 113.82 6.19 M23.94 109.58 C48.13 79.84, 74.91 49.33, 113.82 6.19 M34.57 109.55 C57.87 79.96, 83.09 53.76, 118.54 12.95 M34.57 109.55 C60.17 79.99, 88.34 48.08, 118.54 12.95 M45.2 109.51 C72.45 76.44, 102.17 43.54, 120.64 22.72 M45.2 109.51 C63.73 89.17, 80.38 67.92, 120.64 22.72 M55.83 109.48 C74.58 86.52, 91.67 66.04, 121.43 34.01 M55.83 109.48 C70.08 92.05, 85.24 75.06, 121.43 34.01 M65.8 110.2 C87.74 84.44, 108.91 59.45, 121.57 46.05 M65.8 110.2 C85.3 88.95, 102.3 67.32, 121.57 46.05 M76.43 110.17 C94.81 92.22, 111.24 72.84, 121.04 58.85 M76.43 110.17 C88.07 96.29, 100.95 82.05, 121.04 58.85 M87.06 110.13 C96.83 98.93, 109.61 86.17, 121.18 70.89 M87.06 110.13 C95.2 100.79, 101.54 93.67, 121.18 70.89 M98.35 109.34 C107.72 102.27, 115.96 92.51, 121.31 82.93 M98.35 109.34 C107.91 99, 116.12 88.2, 121.31 82.93" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M27.48 0 C47.73 1.43, 67.78 -1.25, 93.68 0 M27.48 0 C51.93 0.16, 74.36 0.09, 93.68 0 M93.68 0 C111.54 -0.84, 123.01 10.34, 121.16 27.48 M93.68 0 C114.06 -0.59, 121.51 9.23, 121.16 27.48 M121.16 27.48 C121.9 44.46, 121.84 56.56, 121.16 82.44 M121.16 27.48 C121.92 41.22, 120.98 55.68, 121.16 82.44 M121.16 82.44 C121.63 100.31, 111.28 111.55, 93.68 109.92 M121.16 82.44 C121.38 102.86, 112.64 109.61, 93.68 109.92 M93.68 109.92 C77.15 110.04, 62.56 108.09, 27.48 109.92 M93.68 109.92 C76.91 108.7, 60.44 108.77, 27.48 109.92 M27.48 109.92 C8.71 110.98, 0.84 101.41, 0 82.44 M27.48 109.92 C10.15 107.67, 1.51 99, 0 82.44 M0 82.44 C1.7 62.4, -0.68 44.9, 0 27.48 M0 82.44 C-0.77 61.23, 0.23 40.97, 0 27.48 M0 27.48 C1.6 7.84, 9.92 1.83, 27.48 0 M0 27.48 C-0.72 9.58, 8.63 1.31, 27.48 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1808.8561612503645 274.7089429783655) rotate(0 43.37995910644531 25)"><text x="43.37995910644531" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">execute </text><text x="43.37995910644531" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">job</text></g><g stroke-linecap="round" transform="translate(1793.7544376910446 393.94625018840543) rotate(0 60.580078125 54.958984375)"><path d="M3.58 11.06 C3.58 11.06, 3.58 11.06, 3.58 11.06 M3.58 11.06 C3.58 11.06, 3.58 11.06, 3.58 11.06 M1.09 26.12 C6.12 18.5, 14.84 10.25, 22.74 1.22 M1.09 26.12 C7.21 17.75, 14.8 10.24, 22.74 1.22 M1.22 38.16 C11.27 29.16, 17.96 18.72, 34.02 0.43 M1.22 38.16 C11.18 27, 20.19 16.49, 34.02 0.43 M1.35 50.2 C11.68 40.13, 19.83 28.01, 44.65 0.39 M1.35 50.2 C13.82 37.34, 25.65 23.08, 44.65 0.39 M0.83 63 C20.62 39.35, 41.9 14.35, 55.28 0.36 M0.83 63 C17.73 42.55, 36.23 23.7, 55.28 0.36 M0.96 75.04 C22.16 48.69, 47.03 21.71, 65.91 0.32 M0.96 75.04 C24.85 46.66, 49.5 18.11, 65.91 0.32 M1.1 87.08 C30.23 54.15, 56.89 20.23, 76.54 0.29 M1.1 87.08 C18.13 68.06, 35.03 49.4, 76.54 0.29 M3.2 96.86 C35.9 60.25, 69.79 22.21, 87.18 0.25 M3.2 96.86 C29.56 66.48, 56.21 36.18, 87.18 0.25 M7.93 103.62 C38.24 70.5, 65.22 37.53, 97.81 0.22 M7.93 103.62 C38.39 68.24, 70.95 32.34, 97.81 0.22 M15.27 107.35 C52.4 65.96, 84.69 28.46, 106.47 2.45 M15.27 107.35 C41.01 76.96, 66.12 46.84, 106.47 2.45 M23.94 109.58 C58.41 70.45, 96.23 26.85, 113.82 6.19 M23.94 109.58 C54.31 75.5, 84.81 38.36, 113.82 6.19 M34.57 109.55 C56.2 86.8, 75.04 59.91, 118.54 12.95 M34.57 109.55 C68.36 71.26, 100.39 31.87, 118.54 12.95 M45.2 109.51 C63.4 86.31, 85.93 65.32, 120.64 22.72 M45.2 109.51 C73.87 76.93, 102.5 44.91, 120.64 22.72 M55.83 109.48 C67.91 95.1, 83.79 79.05, 121.43 34.01 M55.83 109.48 C73.02 91.61, 88.93 71.75, 121.43 34.01 M65.8 110.2 C82.92 90.27, 97.9 73.99, 121.57 46.05 M65.8 110.2 C82.85 92.22, 97.52 74.99, 121.57 46.05 M76.43 110.17 C92.7 89.73, 111.05 69.21, 121.04 58.85 M76.43 110.17 C92.51 91.36, 107.97 73.11, 121.04 58.85 M87.06 110.13 C97.82 95.98, 110.88 82.59, 121.18 70.89 M87.06 110.13 C95.21 100.61, 102.32 93.26, 121.18 70.89 M98.35 109.34 C108.93 99.66, 116.02 89.86, 121.31 82.93 M98.35 109.34 C104.3 101.15, 111.64 93.51, 121.31 82.93" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M27.48 0 C52.51 2.01, 75.47 2.01, 93.68 0 M27.48 0 C48.69 -0.53, 71.29 0.48, 93.68 0 M93.68 0 C113.79 -0.51, 121.47 9.22, 121.16 27.48 M93.68 0 C111.42 2, 119.52 9.46, 121.16 27.48 M121.16 27.48 C120.27 49.29, 120.37 72.22, 121.16 82.44 M121.16 27.48 C121.27 42.98, 120.67 59.75, 121.16 82.44 M121.16 82.44 C121.35 102.59, 112.55 109.65, 93.68 109.92 M121.16 82.44 C119.81 100.55, 110.39 109.28, 93.68 109.92 M93.68 109.92 C70.92 109.17, 48.17 109.34, 27.48 109.92 M93.68 109.92 C77.47 110.1, 62.13 109.89, 27.48 109.92 M27.48 109.92 C10.02 107.96, 1.31 99.23, 0 82.44 M27.48 109.92 C10.35 109.96, 0 102.72, 0 82.44 M0 82.44 C1.81 68.74, -1.61 52.25, 0 27.48 M0 82.44 C0.54 66.59, 0.12 52.97, 0 27.48 M0 27.48 C-0.62 9.52, 8.7 1.14, 27.48 0 M0 27.48 C0.53 9, 7.43 1.32, 27.48 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1810.9545567095993 423.90523456340543) rotate(0 43.37995910644531 25)"><text x="43.37995910644531" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">execute </text><text x="43.37995910644531" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">job</text></g><g stroke-linecap="round" transform="translate(1797.8677189410446 564.2599641041697) rotate(0 60.580078125 54.958984375)"><path d="M3.58 11.06 C3.58 11.06, 3.58 11.06, 3.58 11.06 M3.58 11.06 C3.58 11.06, 3.58 11.06, 3.58 11.06 M1.09 26.12 C7.28 19.03, 12.57 10.99, 22.74 1.22 M1.09 26.12 C5.36 20.03, 10.94 15.89, 22.74 1.22 M1.22 38.16 C11.76 24.62, 22.37 13.76, 34.02 0.43 M1.22 38.16 C10.37 27.74, 20.83 16.29, 34.02 0.43 M1.35 50.2 C15.57 32.94, 29.32 17.43, 44.65 0.39 M1.35 50.2 C16.72 33.57, 31.5 15.87, 44.65 0.39 M0.83 63 C18.46 42.15, 33.97 21.55, 55.28 0.36 M0.83 63 C13.84 48.34, 26.74 33.23, 55.28 0.36 M0.96 75.04 C20.42 55.11, 38.5 32.72, 65.91 0.32 M0.96 75.04 C19.83 53.87, 38.15 33.37, 65.91 0.32 M1.1 87.08 C24.64 59.22, 49.61 31.99, 76.54 0.29 M1.1 87.08 C22.28 62.77, 42.01 38.92, 76.54 0.29 M3.2 96.86 C31.9 61.63, 60.39 29.05, 87.18 0.25 M3.2 96.86 C23.9 73.52, 43.78 50.53, 87.18 0.25 M7.93 103.62 C38.11 70.14, 64.52 36.54, 97.81 0.22 M7.93 103.62 C33.15 74.4, 57.54 46.68, 97.81 0.22 M15.27 107.35 C37.33 81.76, 61.33 56.28, 106.47 2.45 M15.27 107.35 C47.45 73.37, 76.13 37.64, 106.47 2.45 M23.94 109.58 C56.85 73.47, 87.53 34.29, 113.82 6.19 M23.94 109.58 C59.8 68.32, 97.02 27.76, 113.82 6.19 M34.57 109.55 C70.18 73.14, 101.61 35.83, 118.54 12.95 M34.57 109.55 C63.65 76.93, 92.42 42.97, 118.54 12.95 M45.2 109.51 C65 85.74, 82.46 65.04, 120.64 22.72 M45.2 109.51 C65.21 84.69, 86.58 59.9, 120.64 22.72 M55.83 109.48 C76.1 85.99, 97 61.94, 121.43 34.01 M55.83 109.48 C80.67 80.18, 106.01 51.99, 121.43 34.01 M65.8 110.2 C79.28 92.53, 92.16 80.12, 121.57 46.05 M65.8 110.2 C82.19 92.37, 97.77 74.04, 121.57 46.05 M76.43 110.17 C89.27 96.09, 101.2 83.22, 121.04 58.85 M76.43 110.17 C88.27 97.92, 99.31 84.01, 121.04 58.85 M87.06 110.13 C96.47 96.27, 110.46 85.82, 121.18 70.89 M87.06 110.13 C96.24 101.36, 104.07 91.84, 121.18 70.89 M98.35 109.34 C106.11 100.09, 112.95 89.48, 121.31 82.93 M98.35 109.34 C103.64 102.97, 110.66 95.9, 121.31 82.93" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M27.48 0 C52.87 -1.5, 77.64 -0.97, 93.68 0 M27.48 0 C45.46 -0.65, 61.81 -0.36, 93.68 0 M93.68 0 C111.5 1.74, 119.73 9.42, 121.16 27.48 M93.68 0 C114.16 0.23, 119.87 8.07, 121.16 27.48 M121.16 27.48 C120.65 43.95, 121.79 61.79, 121.16 82.44 M121.16 27.48 C121.06 43.66, 121.24 57.88, 121.16 82.44 M121.16 82.44 C119.99 100.58, 110.6 109.36, 93.68 109.92 M121.16 82.44 C121.84 101.7, 110.43 108.82, 93.68 109.92 M93.68 109.92 C73.64 110.26, 54.9 109.42, 27.48 109.92 M93.68 109.92 C70.72 109.15, 47.55 109.37, 27.48 109.92 M27.48 109.92 C10.2 109.95, 0 102.46, 0 82.44 M27.48 109.92 C8.35 109.15, 1.31 102.63, 0 82.44 M0 82.44 C0.02 64.53, 1.44 46.34, 0 27.48 M0 82.44 C-0.52 69.76, -0.44 57.29, 0 27.48 M0 27.48 C0.46 9.02, 7.65 1.15, 27.48 0 M0 27.48 C-1.05 7.39, 10.13 -2.13, 27.48 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1815.0678379595993 594.2189484791697) rotate(0 43.37995910644531 25)"><text x="43.37995910644531" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">execute </text><text x="43.37995910644531" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">job</text></g><g stroke-linecap="round"><g transform="translate(1702.8696720660446 454.35835956340543) rotate(0 39.7421875 0)"><path d="M-0.28 -0.5 C13.26 -0.42, 67.12 0.68, 80.6 0.71 M1.78 -1.81 C15.3 -2.09, 67.14 -1.49, 80.23 -1.04" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1702.8696720660446 454.35835956340543) rotate(0 39.7421875 0)"><path d="M51.84 8.64 C58.08 8.14, 67.2 5.65, 80.23 -1.04 M51.84 8.64 C59.36 6.84, 66.7 3.44, 80.23 -1.04" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1702.8696720660446 454.35835956340543) rotate(0 39.7421875 0)"><path d="M52.26 -11.88 C58.43 -7.25, 67.45 -4.61, 80.23 -1.04 M52.26 -11.88 C59.7 -8.04, 66.92 -5.81, 80.23 -1.04" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(1703.9634220660446 483.31148456340543) rotate(0 39.23828125 67.58484139794155)"><path d="M1.11 0.71 C14.42 23.27, 66.62 112.45, 79.55 134.86 M0.24 0.04 C13.5 22.82, 66.21 113.49, 79.16 136.24" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1703.9634220660446 483.31148456340543) rotate(0 39.23828125 67.58484139794155)"><path d="M56.2 116.94 C63.66 123.86, 68.33 127.72, 79.16 136.24 M56.2 116.94 C62.4 122.72, 71.01 128.54, 79.16 136.24" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1703.9634220660446 483.31148456340543) rotate(0 39.23828125 67.58484139794155)"><path d="M73.98 106.69 C76.47 116.61, 76.22 123.31, 79.16 136.24 M73.98 106.69 C74.76 115.73, 77.99 124.66, 79.16 136.24" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(1835.2447189819936 231.97920918753243) rotate(0 -285.6260318187452 -57.13644433600666)"><path d="M1.07 -0.31 C-27.68 -19.46, -75.95 -95.9, -171.39 -114.24 C-266.82 -132.57, -504.77 -110.84, -571.55 -110.34 M0.18 -1.51 C-28.81 -20.52, -76.8 -94.24, -172.24 -112.68 C-267.68 -131.12, -505.8 -112.57, -572.48 -112.13" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1835.2447189819936 231.97920918753243) rotate(0 -285.6260318187452 -57.13644433600666)"><path d="M-544.71 -123.48 C-556.06 -118.47, -566.39 -114.82, -572.48 -112.13 M-544.71 -123.48 C-554.6 -118.95, -566.85 -115.13, -572.48 -112.13" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1835.2447189819936 231.97920918753243) rotate(0 -285.6260318187452 -57.13644433600666)"><path d="M-543.91 -102.97 C-555.69 -106.01, -566.34 -110.42, -572.48 -112.13 M-543.91 -102.97 C-553.97 -106.38, -566.53 -110.5, -572.48 -112.13" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(1516.527181161549 58.81934588553577) rotate(0 73.8999334871769 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">update status</text></g><g stroke-linecap="round" transform="translate(10 121.27111257574688) rotate(0 61.80078125 35.58203125)"><path d="M4.74 4.12 C4.74 4.12, 4.74 4.12, 4.74 4.12 M4.74 4.12 C4.74 4.12, 4.74 4.12, 4.74 4.12 M0.28 21.44 C6.14 14.06, 11.86 6.39, 18.65 0.31 M0.28 21.44 C4.98 15.85, 10.22 10.01, 18.65 0.31 M0.41 33.48 C8.68 23.17, 16.67 13.4, 29.28 0.27 M0.41 33.48 C7.22 25.7, 13.94 18.83, 29.28 0.27 M0.54 45.52 C15.46 27.67, 30.22 10.69, 39.91 0.24 M0.54 45.52 C10.16 35.85, 19.73 24.88, 39.91 0.24 M0.68 57.56 C21.24 34.56, 39.67 15.71, 50.54 0.21 M0.68 57.56 C18.36 36.93, 36.05 17.28, 50.54 0.21 M4.09 65.83 C23.36 40.81, 44.64 17.11, 60.51 0.93 M4.09 65.83 C18.64 49.9, 33.1 33.17, 60.51 0.93 M10.78 70.32 C28.87 50.92, 45.18 29.1, 71.14 0.89 M10.78 70.32 C28.56 49.84, 45.99 30.42, 71.14 0.89 M20.76 71.04 C34.33 54.06, 52.81 34.51, 81.77 0.86 M20.76 71.04 C37.38 53.15, 52.62 35.5, 81.77 0.86 M31.39 71.01 C47.77 52.14, 66.58 30.06, 92.4 0.82 M31.39 71.01 C54.62 43.14, 80.64 16.18, 92.4 0.82 M42.02 70.98 C58.81 52.26, 72.64 37.75, 103.03 0.79 M42.02 70.98 C55.58 53.7, 69.66 37.52, 103.03 0.79 M52.65 70.94 C74.3 42.44, 101 17.84, 113 1.51 M52.65 70.94 C70.95 47.78, 90.76 25.92, 113 1.51 M63.28 70.91 C79.69 55.27, 93.94 36.44, 119.7 6 M63.28 70.91 C80.28 52.08, 95.76 32.39, 119.7 6 M73.25 71.63 C86.01 58.29, 95.62 46.46, 123.77 13.51 M73.25 71.63 C84.19 58.37, 95.21 44.87, 123.77 13.51 M83.88 71.59 C95.75 58.55, 108.74 41, 123.9 25.55 M83.88 71.59 C93.07 61.05, 103.83 49.49, 123.9 25.55 M94.51 71.56 C106.85 56.99, 118.18 45.11, 123.38 38.35 M94.51 71.56 C104.4 59.52, 115.14 48.94, 123.38 38.35 M105.14 71.52 C110.83 65.31, 116.66 55.39, 123.51 50.39 M105.14 71.52 C112 64.32, 119.95 56.53, 123.51 50.39" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M17.79 0 C47.28 -1.2, 73.55 2.1, 105.81 0 M17.79 0 C45.17 -0.01, 73.11 0.28, 105.81 0 M105.81 0 C117.22 0.87, 124.07 5.49, 123.6 17.79 M105.81 0 C116.84 1.88, 123.82 8.03, 123.6 17.79 M123.6 17.79 C123.38 28.05, 123 41.69, 123.6 53.37 M123.6 17.79 C123.21 28.98, 123.3 41.47, 123.6 53.37 M123.6 53.37 C123.98 64.19, 117.22 72.23, 105.81 71.16 M123.6 53.37 C124.57 65.98, 118.66 68.91, 105.81 71.16 M105.81 71.16 C73.67 71.62, 43.16 70.92, 17.79 71.16 M105.81 71.16 C82.78 70.98, 58.36 71.65, 17.79 71.16 M17.79 71.16 C6.87 72.11, 1.6 63.91, 0 53.37 M17.79 71.16 C6.81 73.27, -0.72 65.65, 0 53.37 M0 53.37 C-0.34 42.01, 0.95 32.75, 0 17.79 M0 53.37 C-0.42 45.15, -0.25 36.71, 0 17.79 M0 17.79 C-0.18 6.01, 4.53 -1.76, 17.79 0 M0 17.79 C0.42 5.53, 4.15 -0.12, 17.79 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(46.170806884765625 144.35314382574688) rotate(0 25.629974365234375 12.5)"><text x="25.629974365234375" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">client</text></g><g stroke-linecap="round" transform="translate(223.38525405024757 10) rotate(0 46.477155548504925 143.3449778590912)"><path d="M5.53 6.13 C5.53 6.13, 5.53 6.13, 5.53 6.13 M5.53 6.13 C5.53 6.13, 5.53 6.13, 5.53 6.13 M3.69 20.44 C7.15 16.42, 10.81 10.92, 16.82 5.34 M3.69 20.44 C8.48 15.55, 13.65 9.46, 16.82 5.34 M3.83 32.48 C9.17 25.76, 18.34 17.94, 28.1 4.55 M3.83 32.48 C11.08 24.35, 17.31 16.95, 28.1 4.55 M3.3 45.27 C10.68 33.39, 19.45 25.27, 38.73 4.52 M3.3 45.27 C16.59 30.1, 28.45 16.77, 38.73 4.52 M3.44 57.31 C13.98 45.56, 22.7 34.86, 49.36 4.48 M3.44 57.31 C13.73 46.16, 23.18 33.76, 49.36 4.48 M3.57 69.35 C18.24 52.68, 33.86 35.79, 59.99 4.45 M3.57 69.35 C21.09 48.33, 39.99 27.89, 59.99 4.45 M3.7 81.4 C25.74 55.27, 47.28 30.78, 72.59 2.15 M3.7 81.4 C17.41 65.43, 32.34 47.72, 72.59 2.15 M3.84 93.44 C30.26 60.14, 58.69 31.3, 81.91 3.63 M3.84 93.44 C22.94 71.78, 42.27 47.55, 81.91 3.63 M3.31 106.23 C37.58 68.85, 68.52 30.14, 89.26 7.37 M3.31 106.23 C27.93 75.3, 55.32 46.32, 89.26 7.37 M3.45 118.27 C22.7 93.45, 47.15 68.13, 92.67 15.63 M3.45 118.27 C27.47 92.87, 50.15 65.89, 92.67 15.63 M3.58 130.31 C25.59 105.41, 48.59 76.49, 97.4 22.39 M3.58 130.31 C27.59 101.87, 51.59 75.67, 97.4 22.39 M3.71 142.35 C33.96 106.84, 64.81 71.9, 97.53 34.43 M3.71 142.35 C34.18 107.17, 65.37 73.69, 97.53 34.43 M3.85 154.4 C30.65 123.74, 61.66 90.18, 97.66 46.47 M3.85 154.4 C33.72 120.96, 62.62 86.23, 97.66 46.47 M3.32 167.19 C37.01 129.79, 72.28 87.93, 97.8 58.51 M3.32 167.19 C37.44 127.49, 70.3 89.03, 97.8 58.51 M3.46 179.23 C24.19 156.47, 42.61 132.52, 97.93 70.55 M3.46 179.23 C25.43 152.69, 47.23 127.51, 97.93 70.55 M3.59 191.27 C40.1 153.44, 71.38 113.43, 97.41 83.35 M3.59 191.27 C38.01 151.13, 72.8 110, 97.41 83.35 M3.72 203.31 C37.48 161.65, 72.32 122.75, 97.54 95.39 M3.72 203.31 C29.86 174.32, 54.21 145.64, 97.54 95.39 M3.86 215.35 C27.57 190.72, 50.99 161.76, 97.67 107.43 M3.86 215.35 C27.1 188.05, 52.06 159.89, 97.67 107.43 M3.33 228.15 C26.13 201.12, 48.6 175.89, 97.81 119.47 M3.33 228.15 C38.11 189.34, 71.33 150.05, 97.81 119.47 M3.47 240.19 C26.2 216.14, 49.77 188.4, 97.94 131.51 M3.47 240.19 C23.34 216.97, 44.04 193.24, 97.94 131.51 M3.6 252.23 C40.28 211.05, 78 167.6, 98.07 143.55 M3.6 252.23 C37.47 212.49, 71.82 173.7, 98.07 143.55 M3.73 264.27 C27.3 235.58, 54.36 209.05, 97.55 156.35 M3.73 264.27 C37.72 227.42, 71.31 188.65, 97.55 156.35 M5.83 274.05 C30.54 246.02, 59.89 215.3, 97.68 168.39 M5.83 274.05 C28.84 249.45, 50.07 225.53, 97.68 168.39 M8.59 283.07 C40.25 247.14, 70.27 213.55, 97.82 180.43 M8.59 283.07 C34.25 256.28, 58.16 228.43, 97.82 180.43 M15.29 287.57 C43.15 256.69, 69.22 223.87, 97.95 192.47 M15.29 287.57 C32.88 265.41, 52.22 245.8, 97.95 192.47 M25.26 288.29 C38.21 270.41, 56.03 255.93, 98.08 204.51 M25.26 288.29 C45.02 266.66, 65.44 243.02, 98.08 204.51 M35.89 288.25 C57.73 262.63, 82.17 234.46, 98.22 216.55 M35.89 288.25 C52.79 269.4, 70.46 249.68, 98.22 216.55 M46.52 288.22 C61.41 272.18, 71.3 258.07, 97.69 229.35 M46.52 288.22 C65.63 268.26, 81.74 247.34, 97.69 229.35 M57.15 288.18 C74.24 272.46, 87.09 251.12, 97.83 241.39 M57.15 288.18 C66.25 275.69, 76.83 264.31, 97.83 241.39 M67.78 288.15 C74.74 278.22, 84.61 269.05, 97.96 253.43 M67.78 288.15 C74.71 281.38, 79.66 273.63, 97.96 253.43 M77.75 288.87 C83.77 284.9, 85.59 278.12, 96.78 266.98 M77.75 288.87 C83.49 282.71, 90.41 276.02, 96.78 266.98" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M23.24 0 C34.07 -1.56, 43.55 -0.28, 69.72 0 M23.24 0 C34.98 0.5, 47.41 -0.16, 69.72 0 M69.72 0 C84.48 1.63, 93.15 9.57, 92.95 23.24 M69.72 0 C85.84 -0.31, 91.6 7.54, 92.95 23.24 M92.95 23.24 C93.08 77.33, 91.61 133.46, 92.95 263.45 M92.95 23.24 C92.99 72.08, 92.64 122.25, 92.95 263.45 M92.95 263.45 C93.8 279.59, 86.07 284.73, 69.72 286.69 M92.95 263.45 C94.46 277.19, 86.4 286.73, 69.72 286.69 M69.72 286.69 C55.1 287.66, 43.45 287.39, 23.24 286.69 M69.72 286.69 C60.41 287.05, 50.97 285.92, 23.24 286.69 M23.24 286.69 C8.51 288.52, -0.62 279.31, 0 263.45 M23.24 286.69 C7.22 288, 0.53 278.79, 0 263.45 M0 263.45 C-2.43 210.18, -2.69 155.07, 0 23.24 M0 263.45 C0.12 198.15, -0.39 132.06, 0 23.24 M0 23.24 C0.36 7.4, 6.19 -0.1, 23.24 0 M0 23.24 C-0.78 7.12, 6.1 -0.39, 23.24 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(229.61244011633062 128.3449778590912) rotate(0 40.249969482421875 25)"><text x="40.249969482421875" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">api</text><text x="40.249969482421875" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">gateway</text></g><g stroke-linecap="round"><g transform="translate(337.95024823652466 148.8254995576026) rotate(0 80.37115011700234 -32.611960363182334)"><path d="M0.09 -0.51 C27.14 -11.31, 134.87 -54.69, 161.6 -65.39 M-1.31 -1.82 C25.71 -12.39, 134.29 -53.11, 161.11 -63.94" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(337.95024823652466 148.8254995576026) rotate(0 80.37115011700234 -32.611960363182334)"><path d="M138.53 -44.19 C143.28 -47.59, 149.36 -54.29, 161.11 -63.94 M138.53 -44.19 C145.87 -50.1, 154.08 -56.79, 161.11 -63.94" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(337.95024823652466 148.8254995576026) rotate(0 80.37115011700234 -32.611960363182334)"><path d="M131.11 -63.32 C137.58 -62.06, 145.47 -64.1, 161.11 -63.94 M131.11 -63.32 C141.05 -62.65, 151.81 -62.77, 161.11 -63.94" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(140.27197545416084 155.28489391676703) rotate(0 39.47190311800534 0)"><path d="M0.86 -0.17 C13.96 0.01, 65.61 0.54, 78.67 0.52 M-0.15 -1.3 C12.76 -1.44, 64.46 -1.7, 77.58 -1.33" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(140.27197545416084 155.28489391676703) rotate(0 39.47190311800534 0)"><path d="M29.15 -10.14 C20.12 -7.32, 12.56 -3.33, 0.86 -0.17 M29.15 -10.14 C21.35 -6.23, 13.68 -4.5, 0.86 -0.17" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(140.27197545416084 155.28489391676703) rotate(0 39.47190311800534 0)"><path d="M28.95 10.38 C20.07 6.88, 12.56 4.55, 0.86 -0.17 M28.95 10.38 C21.28 8.59, 13.66 4.62, 0.86 -0.17" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(140.27197545416084 155.28489391676703) rotate(0 39.47190311800534 0)"><path d="M49.3 8.68 C57.78 4.94, 67.63 2.78, 77.58 -1.33 M49.3 8.68 C57.29 6.58, 65.33 2.75, 77.58 -1.33" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(140.27197545416084 155.28489391676703) rotate(0 39.47190311800534 0)"><path d="M49.49 -11.85 C57.82 -9.26, 67.61 -5.1, 77.58 -1.33 M49.49 -11.85 C57.35 -8.24, 65.33 -6.37, 77.58 -1.33" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(327.8613771308883 175.46338655069667) rotate(0 81.29092357431307 31.910407413380653)"><path d="M-0.27 0.52 C26.73 11.14, 135.79 52.84, 162.86 63.55 M1.79 -0.25 C28.58 10.56, 135.5 54.41, 162.06 64.95" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(327.8613771308883 175.46338655069667) rotate(0 81.29092357431307 31.910407413380653)"><path d="M29.72 1.09 C19.44 1.28, 6.98 -0.12, -0.27 0.52 M29.72 1.09 C18.55 1.02, 6.24 0.84, -0.27 0.52" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(327.8613771308883 175.46338655069667) rotate(0 81.29092357431307 31.910407413380653)"><path d="M22.34 20.24 C14.83 13.32, 5.11 4.8, -0.27 0.52 M22.34 20.24 C13.97 12.79, 4.47 5.3, -0.27 0.52" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(327.8613771308883 175.46338655069667) rotate(0 81.29092357431307 31.910407413380653)"><path d="M132.08 63.9 C144.09 64.82, 153.93 64.02, 162.06 64.95 M132.08 63.9 C143.8 63.89, 154.38 64.34, 162.06 64.95" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(327.8613771308883 175.46338655069667) rotate(0 81.29092357431307 31.910407413380653)"><path d="M139.77 44.87 C148.9 52.85, 155.87 59.13, 162.06 64.95 M139.77 44.87 C148.58 52.2, 156.22 59.91, 162.06 64.95" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask></svg></span></span></div></div><div class="MuiGrid-root MuiGrid-item mui-1wxaqej"><span class="MuiTypography-root MuiTypography-caption mui-17cupi8">Workers</span></div></div></div></div><h3 class="MuiTypography-root MuiTypography-h4 mui-hkpafq" id="3-how-can-we-ensure-at-least-once-execution-of-jobs">3) How can we ensure at-least-once execution of jobs?</h3><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Our main concern is how we process failures. If a worker fails to process a job for any reason, we want to ensure that the job is retried a reasonable number of times before giving up (let's say 3 retries per job).</div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Importantly, jobs can fail within a worker for one of two reasons:</div><ol style="list-style: outside decimal;">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Visible failure</strong>: The job fails visibly in some way. Most likely this is because of a bug in the task code or incorrect input parameters.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Invisible failure</strong>: The job fails invisibly. Most likely this means the worker itself went down.</div></li>
</ol><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Let's start with the easier of the two cases: <strong>Visible failures</strong>.</div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">For visible failures, we are careful to wrap the task code in a try/catch block so that we can log the error and mark the job as failed. We can then retry the job a few times with exponential backoff before giving up. Upon failure, we'll write to the <span class="MuiBox-root mui-1vu004u">Executions</span> table to update the job's status to <span class="MuiBox-root mui-1vu004u">RETRYING</span> with the number of attempts made so far.</div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">We can then put the job back into the Message Queue (SQS) to be retried again in a few seconds (exponentially increasing this delay with each failure). If a job is retried 3 times and still fails, we can mark its status as <span class="MuiBox-root mui-1vu004u">FAILED</span> in the <span class="MuiBox-root mui-1vu004u">Executions</span> table and the job will no longer be retried.</div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Fortunately, SQS even handles exponential backoff for us out of the box, making the implementation of this pattern quite simple.</div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Now let's consider the more interesting case: <strong>Invisible failures</strong>. When a worker crashes or becomes unresponsive, we need a reliable way to detect this and retry the job. Let's examine different approaches to handling these failures:</div><div class="my-6 flex flex-col gap-4"><div class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation0 MuiAccordion-root MuiAccordion-rounded MuiAccordion-gutters mui-ifi55z"><div class="MuiButtonBase-root MuiAccordionSummary-root MuiAccordionSummary-gutters mui-1ev8i4f" tabindex="0" role="button" aria-expanded="false" aria-controls="panel1bh-content" id="panel1bh-header"><div class="MuiAccordionSummary-content MuiAccordionSummary-contentGutters mui-l0jafl"><p class="MuiTypography-root MuiTypography-body1 mui-h8owmt">Bad Solution: Health Check Endpoints</p></div><div class="MuiAccordionSummary-expandIconWrapper mui-awtdfi"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ExpandMoreIcon"><path d="M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"></path></svg></div></div><div class="MuiCollapse-root MuiCollapse-vertical MuiCollapse-hidden mui-a0y2e3" style="min-height: 0px;"><div class="MuiCollapse-wrapper MuiCollapse-vertical mui-hboir5"><div class="MuiCollapse-wrapperInner MuiCollapse-vertical mui-8atqhb"><div aria-labelledby="panel1bh-header" id="panel1bh-content" role="region" class="MuiAccordion-region"><div class="MuiAccordionDetails-root mui-u7qq7e"><h6 class="MuiTypography-root MuiTypography-body1 mui-1quhbks" id="approach-3">Approach</h6><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">One solution is to implement a health monitoring system where each worker exposes a health check endpoint like <span class="MuiBox-root mui-1vu004u">GET /health</span>. A central monitoring service continuously polls these endpoints at regular intervals, typically every few seconds. When a worker fails to respond to multiple consecutive health checks, the monitoring service marks it as failed and its jobs are reassigned to healthy workers.</div><h6 class="MuiTypography-root MuiTypography-body1 mui-1quhbks" id="challenges-2">Challenges</h6><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Health checks don't scale well in a distributed system with thousands of workers, as the monitoring service needs to constantly poll each one. Network issues between the monitoring service and workers can trigger false positives, leading to unnecessary job retries. The approach also requires building and maintaining additional infrastructure for health monitoring, and complex coordination is needed between the health checker and job scheduler to handle race conditions. Not to mention the issues that arise if a monitoring service itself goes down.</div></div></div></div></div></div></div><div class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation0 MuiAccordion-root MuiAccordion-rounded MuiAccordion-gutters mui-nhbct3"><div class="MuiButtonBase-root MuiAccordionSummary-root MuiAccordionSummary-gutters mui-guv1gb" tabindex="0" role="button" aria-expanded="false" aria-controls="panel1bh-content" id="panel1bh-header"><div class="MuiAccordionSummary-content MuiAccordionSummary-contentGutters mui-l0jafl"><p class="MuiTypography-root MuiTypography-body1 mui-h8owmt">Good Solution: Job Leasing</p></div><div class="MuiAccordionSummary-expandIconWrapper mui-awtdfi"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ExpandMoreIcon"><path d="M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"></path></svg></div></div><div class="MuiCollapse-root MuiCollapse-vertical MuiCollapse-hidden mui-a0y2e3" style="min-height: 0px;"><div class="MuiCollapse-wrapper MuiCollapse-vertical mui-hboir5"><div class="MuiCollapse-wrapperInner MuiCollapse-vertical mui-8atqhb"><div aria-labelledby="panel1bh-header" id="panel1bh-content" role="region" class="MuiAccordion-region"><div class="MuiAccordionDetails-root mui-u7qq7e"><h6 class="MuiTypography-root MuiTypography-body1 mui-1quhbks" id="approach-4">Approach</h6><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Job leasing implements a distributed locking mechanism using a database to track ownership of jobs. When a worker wants to process a job, it first attempts to acquire a lease by updating the job record with its worker ID and an expiration timestamp.</div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">For example, if Worker A wants to process Job 123, it would update the database: "Job 123 is leased to Worker A until 10:30:15". While processing the job, the worker must periodically extend its lease by updating the expiration timestamp. If Worker A is still processing at 10:30:00, it would update the lease to expire at 10:30:30, giving itself another 15 seconds. If Worker A crashes or becomes unresponsive, it will fail to renew its lease, and when the expiration time passes, another worker can acquire the lease and retry the job.</div><h6 class="MuiTypography-root MuiTypography-body1 mui-1quhbks" id="challenges-3">Challenges</h6><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">This pattern requires careful implementation to handle distributed system complexities. The database must process frequent lease renewal operations, which at our scale of 10k jobs per second could mean 50k lease updates per second (assuming 5-second lease intervals).</div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Clock synchronization between workers becomes important too - if Worker A's clock says 10:30:00 but Worker B's clock says 10:30:20, Worker B might steal the job while Worker A is still processing. Network partitions create additional complexity: if Worker A can't reach the database to renew its lease but is still processing the job, another worker might start processing the same job, leading to duplicate execution.</div></div></div></div></div></div></div><div class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation0 MuiAccordion-root MuiAccordion-rounded MuiAccordion-gutters mui-11r69q9"><div class="MuiButtonBase-root MuiAccordionSummary-root MuiAccordionSummary-gutters mui-3ujfba" tabindex="0" role="button" aria-expanded="false" aria-controls="panel1bh-content" id="panel1bh-header"><div class="MuiAccordionSummary-content MuiAccordionSummary-contentGutters mui-l0jafl"><p class="MuiTypography-root MuiTypography-body1 mui-h8owmt">Great Solution: SQS Visibility Timeout</p></div><div class="MuiAccordionSummary-expandIconWrapper mui-awtdfi"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ExpandMoreIcon"><path d="M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"></path></svg></div></div><div class="MuiCollapse-root MuiCollapse-vertical MuiCollapse-hidden mui-a0y2e3" style="min-height: 0px;"><div class="MuiCollapse-wrapper MuiCollapse-vertical mui-hboir5"><div class="MuiCollapse-wrapperInner MuiCollapse-vertical mui-8atqhb"><div aria-labelledby="panel1bh-header" id="panel1bh-content" role="region" class="MuiAccordion-region"><div class="MuiAccordionDetails-root mui-u7qq7e"><h6 class="MuiTypography-root MuiTypography-body1 mui-1quhbks" id="approach-5">Approach</h6><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Amazon SQS provides a built-in mechanism for handling worker failures through visibility timeouts. When a worker receives a message from the queue, SQS automatically makes that message invisible to other workers for a configurable period. The worker processes the message and deletes it upon successful completion. If the worker crashes or fails to process the message within the visibility timeout period, SQS automatically makes the message visible again for other workers to process.</div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">To optimize for quick failure recovery while still supporting longer-running jobs, we can set a relatively short visibility timeout (e.g. 30 seconds) and have workers periodically "heartbeat" by calling the ChangeMessageVisibility API to extend the timeout. For example, a worker processing a 5-minute job would extend the visibility timeout every 15 seconds. This way, if the worker crashes, other workers can pick up the job within 30 seconds rather than waiting for a longer timeout to expire.</div><h6 class="MuiTypography-root MuiTypography-body1 mui-1quhbks" id="benefits">Benefits</h6><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">This approach handles worker failures without requiring any additional infrastructure or complex coordination. The combination of short visibility timeouts and periodic heartbeating gives us fast failure detection while still supporting long-running jobs. Failed messages are automatically moved to a dead-letter queue after a configurable number of retries, and the heartbeat mechanism ensures we maintain precise control over job ownership without adding complexity.</div></div></div></div></div></div></div></div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><div class="MuiBox-root mui-10khgmf" style="cursor: pointer;"><div class="MuiGrid-root MuiGrid-container MuiGrid-direction-xs-column mui-1tdxmx0"><div class="MuiGrid-root MuiGrid-item mui-tolxbf"><div class="relative w-full"><button class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall mui-wksd04" tabindex="0" type="button" aria-label="zoom-in"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ZoomInIcon"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"></path><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"></path></svg><span class="MuiTouchRipple-root mui-w0pj6f"></span></button><span class="w-full h-full"><span class="block"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1921.7801483012486 684.144660873706">
  <!-- svg-source:excalidraw -->
  <!-- payload-type:application/vnd.excalidraw+json --><!-- payload-version:2 -->
  <defs>
    <style class="style-fonts">
      
      
      
    </style>
    
  </defs>
  <rect x="0" y="0" width="1921.7801483012486" height="684.144660873706" fill="#ffffff"></rect><g stroke-linecap="round" transform="translate(508.0260275903588 38.298335079576646) rotate(0 98.697265625 53.470703125)"><path d="M4.03 10.13 C4.03 10.13, 4.03 10.13, 4.03 10.13 M4.03 10.13 C4.03 10.13, 4.03 10.13, 4.03 10.13 M3.51 22.93 C8.9 14.31, 16.19 9.6, 19.25 4.81 M3.51 22.93 C8.42 18.08, 11.51 13.36, 19.25 4.81 M3.64 34.97 C15.83 20.94, 23.54 8.73, 31.2 3.27 M3.64 34.97 C10.36 27.35, 16.75 20.01, 31.2 3.27 M3.12 47.76 C17.11 32.95, 33.32 14.22, 41.17 3.99 M3.12 47.76 C12.23 36.23, 20.86 27.54, 41.17 3.99 M3.25 59.8 C20.21 43.01, 33.08 26.36, 51.8 3.95 M3.25 59.8 C16.87 41.79, 32.06 25.2, 51.8 3.95 M3.39 71.84 C26.71 49.19, 45.1 21.95, 62.43 3.92 M3.39 71.84 C16.6 56.66, 28.82 42.74, 62.43 3.92 M0.89 86.9 C18.87 66.5, 36.75 46.51, 73.06 3.89 M0.89 86.9 C25.79 58.23, 51.02 27.23, 73.06 3.89 M3.65 95.93 C22.73 73.88, 39.25 54.32, 83.69 3.85 M3.65 95.93 C26.34 70.17, 46.08 46.48, 83.69 3.85 M9.69 101.17 C37.71 72.62, 64.87 40.79, 94.32 3.82 M9.69 101.17 C30.45 77.16, 52.28 53.83, 94.32 3.82 M15.73 106.42 C51.82 65.71, 82.26 26.16, 104.95 3.78 M15.73 106.42 C36.82 84.46, 56.31 60.61, 104.95 3.78 M25.7 107.14 C43.57 86.32, 63.52 62.84, 115.58 3.75 M25.7 107.14 C51.25 77.21, 76.68 49.27, 115.58 3.75 M32.4 111.64 C68.98 67.56, 105.34 25.23, 126.21 3.71 M32.4 111.64 C56.93 83.02, 82.67 53.55, 126.21 3.71 M43.03 111.6 C61.92 88.57, 81.68 66.38, 136.84 3.68 M43.03 111.6 C75.3 75.27, 104.72 40.23, 136.84 3.68 M53.66 111.57 C83.32 81.02, 113.13 45.53, 147.47 3.64 M53.66 111.57 C83.5 78.28, 112.89 44.12, 147.47 3.64 M64.29 111.53 C94.29 72.42, 129.23 36.01, 158.1 3.61 M64.29 111.53 C92.95 79.8, 118.84 48.51, 158.1 3.61 M74.92 111.5 C105.53 72.52, 138.16 36.37, 171.36 0.56 M74.92 111.5 C96.7 87.55, 118.41 63.5, 171.36 0.56 M85.55 111.46 C110.6 82.5, 135.09 54.38, 180.67 2.03 M85.55 111.46 C105.94 86.48, 126.73 62.67, 180.67 2.03 M96.18 111.43 C130.17 69.7, 165.74 28.79, 188.68 5.02 M96.18 111.43 C115.72 89.57, 135.53 66.79, 188.68 5.02 M106.81 111.39 C134.49 77.49, 162.73 43.81, 194.06 11.02 M106.81 111.39 C126.56 88.09, 146.95 66.01, 194.06 11.02 M116.78 112.12 C142.32 81.07, 173.11 49.22, 196.82 20.04 M116.78 112.12 C136.19 88.77, 158.66 63.82, 196.82 20.04 M127.41 112.08 C153.92 80.87, 183.27 47.5, 202.86 25.29 M127.41 112.08 C155.65 80.9, 182.44 50.04, 202.86 25.29 M138.04 112.05 C160.35 87.28, 180.15 62.65, 202.99 37.33 M138.04 112.05 C154.88 93.57, 170.14 72.58, 202.99 37.33 M148.67 112.01 C164.22 97.07, 177.41 77.47, 203.12 49.37 M148.67 112.01 C165.23 92.82, 181.68 73.89, 203.12 49.37 M159.3 111.98 C174.23 97.31, 188.64 79.44, 203.26 61.41 M159.3 111.98 C171.57 96.65, 184.86 81.71, 203.26 61.41 M172.55 108.92 C176.71 101.34, 185.02 94.62, 197.48 80.24 M172.55 108.92 C180.43 100.41, 189.83 89.19, 197.48 80.24" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M26.74 0 C84.1 -2.15, 142.5 -0.91, 170.66 0 M26.74 0 C55.58 0.58, 85.01 0.23, 170.66 0 M170.66 0 C190.37 -1.86, 196.58 8.15, 197.39 26.74 M170.66 0 C189.76 0.73, 197.15 8.66, 197.39 26.74 M197.39 26.74 C196.78 46.56, 196.71 64.76, 197.39 80.21 M197.39 26.74 C197.01 42.64, 197.31 58.98, 197.39 80.21 M197.39 80.21 C196.4 98.61, 188.82 108.28, 170.66 106.94 M197.39 80.21 C198.06 99.87, 190.59 106.62, 170.66 106.94 M170.66 106.94 C122 105.28, 76.7 107.92, 26.74 106.94 M170.66 106.94 C137.38 105.67, 105.83 105.72, 26.74 106.94 M26.74 106.94 C8.43 105.77, 0.27 96.92, 0 80.21 M26.74 106.94 C8.69 108.13, -0.28 98, 0 80.21 M0 80.21 C-1.68 68.05, 1.22 53.27, 0 26.74 M0 80.21 C0.43 65.57, -0.78 49.15, 0 26.74 M0 26.74 C1.32 7.52, 7.09 1.99, 26.74 0 M0 26.74 C-1.78 10.33, 7.6 0.99, 26.74 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(534.2525900903588 79.26903820457665) rotate(0 72.470703125 12.5)"><text x="72.470703125" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Scheduler Service</text></g><g stroke-linecap="round"><g transform="translate(713.0768088403588 134.46398173693524) rotate(0 39.22324959116702 15.758255254877895)"><path d="M0.13 -1.14 C13.17 3.77, 64.68 25.19, 77.62 30.51 M-1.26 0.87 C12.21 6.42, 66.31 26.38, 79.89 31.52" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(713.0768088403588 134.46398173693524) rotate(0 39.22324959116702 15.758255254877895)"><path d="M30.11 -0.02 C20.74 -1.66, 13.52 -1.76, 0.13 -1.14 M30.11 -0.02 C23.94 -1.51, 15.47 -1.23, 0.13 -1.14" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(713.0768088403588 134.46398173693524) rotate(0 39.22324959116702 15.758255254877895)"><path d="M22.38 18.98 C14.76 12.62, 9.46 7.79, 0.13 -1.14 M22.38 18.98 C18.17 13.06, 11.53 8.83, 0.13 -1.14" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(713.0768088403588 134.46398173693524) rotate(0 39.22324959116702 15.758255254877895)"><path d="M49.89 31.26 C55.44 29.91, 63.13 30.14, 79.89 31.52 M49.89 31.26 C57.96 30.69, 63.73 31.29, 79.89 31.52" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(713.0768088403588 134.46398173693524) rotate(0 39.22324959116702 15.758255254877895)"><path d="M57.08 12.04 C61.01 15.47, 66.91 20.49, 79.89 31.52 M57.08 12.04 C63.31 15.96, 67.38 21.13, 79.89 31.52" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(805.6700272284193 80.20730335450207) rotate(0 89.47739173275393 87.55859375)"><path d="M31.71 20.94 C31.71 20.94, 31.71 20.94, 31.71 20.94 M31.71 20.94 C31.71 20.94, 31.71 20.94, 31.71 20.94 M15.45 51.85 C22.47 43.9, 30.3 35.37, 51.53 10.34 M15.45 51.85 C27.98 39.49, 37.99 26.42, 51.53 10.34 M1.15 80.5 C14.46 63.32, 27.91 48.55, 64.78 7.29 M1.15 80.5 C19.8 59.57, 37.43 39.65, 64.78 7.29 M2.59 91.03 C30.5 56.39, 61.29 22.53, 76.73 5.75 M2.59 91.03 C18.6 72.72, 33.94 56.2, 76.73 5.75 M3.38 102.31 C33.04 69.69, 61.44 32.69, 88.67 4.2 M3.38 102.31 C22.17 81.47, 39.86 63.02, 88.67 4.2 M4.83 112.85 C40.34 69.25, 81.15 29.39, 99.95 3.41 M4.83 112.85 C25.52 87.56, 47.97 62.98, 99.95 3.41 M10.21 118.85 C37.06 90.94, 62.32 58.85, 108.62 5.64 M10.21 118.85 C49.08 73.98, 88.3 29.86, 108.62 5.64 M14.28 126.36 C35.49 100.77, 58.26 78.91, 116.62 8.63 M14.28 126.36 C36.5 101.79, 57.38 78.46, 116.62 8.63 M18.35 133.87 C58.31 83.29, 101.39 34.94, 125.28 10.86 M18.35 133.87 C47.98 99.6, 77.38 67.28, 125.28 10.86 M20.45 143.65 C50.03 108.71, 80.14 76.57, 133.95 13.09 M20.45 143.65 C58.23 99.42, 98.82 54.63, 133.95 13.09 M27.14 148.14 C66.28 103.36, 106.03 57.45, 139.98 18.33 M27.14 148.14 C51.24 120.94, 74.4 93.48, 139.98 18.33 M33.18 153.39 C58.84 124.37, 84.88 92.17, 146.68 22.83 M33.18 153.39 C72.71 106.74, 113.94 61.35, 146.68 22.83 M39.87 157.89 C75.66 117.33, 109.44 80.11, 153.37 27.32 M39.87 157.89 C66.55 127.52, 91.52 98.89, 153.37 27.32 M45.91 163.14 C86.7 114.52, 129.09 68.15, 159.41 32.57 M45.91 163.14 C83.41 120.34, 121.53 75.54, 159.41 32.57 M51.95 168.38 C76.26 139.38, 101.79 113.08, 163.48 40.08 M51.95 168.38 C86.3 131.03, 118.98 91.58, 163.48 40.08 M60.61 170.61 C81.68 146.01, 103.86 120.78, 167.55 47.6 M60.61 170.61 C92.14 132.75, 124.38 94.83, 167.55 47.6 M69.27 172.84 C90 148.92, 114.26 121.03, 171.62 55.11 M69.27 172.84 C94.96 145.57, 117.89 116.12, 171.62 55.11 M77.93 175.07 C102.75 144.57, 128.38 115.12, 175.69 62.62 M77.93 175.07 C105.08 145.34, 130.76 114.01, 175.69 62.62 M85.94 178.06 C107.03 152.66, 129.44 127.49, 177.13 73.15 M85.94 178.06 C106.34 155.13, 125.83 131.51, 177.13 73.15 M97.23 177.27 C121.16 149.09, 147.18 116.97, 178.58 83.68 M97.23 177.27 C124.09 146.4, 151.58 114.99, 178.58 83.68 M108.51 176.48 C132.36 149.05, 154.08 125.1, 179.37 94.97 M108.51 176.48 C126.06 157.27, 143.61 136.3, 179.37 94.97 M119.8 175.69 C136.92 155.99, 156.15 135.77, 173.59 113.8 M119.8 175.69 C141.33 151.19, 162.42 127.5, 173.59 113.8" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M61.79 4.94 C71.68 0.52, 85.09 -0.99, 96.55 -0.06 C108.02 0.88, 120.27 5.31, 130.59 10.54 C140.91 15.77, 151.11 22.76, 158.47 31.33 C165.84 39.89, 171.32 51.39, 174.77 61.93 C178.21 72.46, 180.24 83.42, 179.16 94.55 C178.08 105.69, 173.76 118.64, 168.29 128.72 C162.82 138.8, 155.02 147.82, 146.34 155.04 C137.66 162.27, 127.02 168.93, 116.23 172.07 C105.44 175.21, 93.05 175.13, 81.61 173.88 C70.17 172.62, 57.79 169.65, 47.6 164.54 C37.42 159.42, 27.69 151.63, 20.49 143.19 C13.28 134.74, 7.61 124.39, 4.37 113.86 C1.13 103.33, -0.08 91.01, 1.03 80.01 C2.14 69.01, 5.85 57.76, 11.01 47.86 C16.17 37.97, 23.04 28.08, 31.98 20.64 C40.93 13.19, 58.85 6, 64.68 3.18 C70.5 0.37, 66.45 2.2, 66.95 3.74 M56.5 4.85 C66.47 -0.24, 81.03 -1.15, 92.54 -0.84 C104.05 -0.53, 115.2 2.15, 125.55 6.71 C135.89 11.26, 146.73 18.1, 154.62 26.48 C162.51 34.87, 168.86 46.43, 172.88 56.99 C176.91 67.56, 179.17 78.82, 178.74 89.87 C178.32 100.92, 175.08 113.28, 170.32 123.27 C165.55 133.27, 158.19 142.02, 150.15 149.85 C142.1 157.68, 132.71 166.07, 122.05 170.25 C111.4 174.42, 97.63 175.58, 86.22 174.91 C74.8 174.25, 63.69 170.58, 53.56 166.26 C43.43 161.94, 33.55 156.93, 25.46 148.98 C17.37 141.04, 9.11 129.4, 5.03 118.6 C0.96 107.8, 0.8 95.05, 1.02 84.18 C1.25 73.31, 2.1 63.27, 6.39 53.4 C10.68 43.53, 18.39 32.77, 26.75 24.94 C35.12 17.12, 51.14 9.19, 56.6 6.44 C62.06 3.7, 58.86 7.18, 59.52 8.45" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(840.3871141290577 142.852621712719) rotate(0 54.990234375 25)"><text x="54.990234375" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Job Store</text><text x="54.990234375" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">(DynamoDB)</text></g><g transform="translate(1016.2349601902583 84.85453224957018) rotate(0 49.43994903564453 75)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Jobs</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- id</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- userId</text><text x="0" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- taskId</text><text x="0" y="100" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- params</text><text x="0" y="125" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- schedule</text></g><g transform="translate(1150.680960829815 85.09289955331406) rotate(0 52.00994873046875 75)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Executions</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- time</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- jobId</text><text x="0" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- userId</text><text x="0" y="100" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- status</text><text x="0" y="125" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- attempt</text></g><g stroke-linecap="round"><g transform="translate(897.3487370461567 266.83669326697054) rotate(0 0.9476839926498997 58.65029357750063)"><path d="M-0.49 -0.46 C-0.25 19.34, 2.19 98.08, 2.56 117.68 M1.45 -1.75 C1.49 17.78, 2.05 95.73, 1.96 115.76" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(897.3487370461567 266.83669326697054) rotate(0 0.9476839926498997 58.65029357750063)"><path d="M10.5 27.46 C5.66 17.51, 2.73 5.17, -0.49 -0.46 M10.5 27.46 C6.34 18.99, 4.55 10.89, -0.49 -0.46" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(897.3487370461567 266.83669326697054) rotate(0 0.9476839926498997 58.65029357750063)"><path d="M-10.02 27.99 C-6.76 17.91, -1.6 5.37, -0.49 -0.46 M-10.02 27.99 C-8.24 19.25, -4.1 11, -0.49 -0.46" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(897.3487370461567 266.83669326697054) rotate(0 0.9476839926498997 58.65029357750063)"><path d="M-8.36 87.59 C-5.31 99.86, 0.16 109.64, 1.96 115.76 M-8.36 87.59 C-6.07 95.22, -1.7 103.33, 1.96 115.76" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(897.3487370461567 266.83669326697054) rotate(0 0.9476839926498997 58.65029357750063)"><path d="M12.17 87.55 C7.11 99.75, 4.49 109.55, 1.96 115.76 M12.17 87.55 C8.52 95.31, 6.96 103.42, 1.96 115.76" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(773.227066420804 394.80041886689287) rotate(0 125.57617187499999 63.78515625000003)"><path d="M4.79 12.11 C4.79 12.11, 4.79 12.11, 4.79 12.11 M4.79 12.11 C4.79 12.11, 4.79 12.11, 4.79 12.11 M2.95 26.42 C7.03 18.52, 13.29 11.52, 25.26 0.76 M2.95 26.42 C7.43 20.96, 13.4 14.74, 25.26 0.76 M3.08 38.46 C16.4 24.14, 25.95 9.96, 34.58 2.23 M3.08 38.46 C11.85 28.8, 22.25 16.83, 34.58 2.23 M2.56 51.25 C15.48 36.67, 30.3 20.55, 45.21 2.2 M2.56 51.25 C13.83 38.12, 26.54 24.33, 45.21 2.2 M2.69 63.29 C20.84 39.09, 39.05 16.51, 55.84 2.16 M2.69 63.29 C23.97 38.88, 43.68 14.82, 55.84 2.16 M2.83 75.33 C21.69 53.91, 40.07 35.74, 66.47 2.13 M2.83 75.33 C22.03 51.6, 41.5 28.99, 66.47 2.13 M2.96 87.37 C19.94 66.6, 38.07 45.26, 77.1 2.09 M2.96 87.37 C26.19 59.56, 51.87 30.84, 77.1 2.09 M3.09 99.42 C29 70.78, 50.81 40.03, 87.73 2.06 M3.09 99.42 C28.82 71.55, 53.94 42.57, 87.73 2.06 M5.85 108.44 C40.06 65.04, 77.39 22.46, 98.36 2.02 M5.85 108.44 C27.08 82.58, 47.82 57.9, 98.36 2.02 M7.95 118.21 C48.25 71.54, 86.04 28.5, 108.99 1.99 M7.95 118.21 C34.92 88.43, 62.6 57.29, 108.99 1.99 M13.33 124.22 C49.9 81.17, 86.18 40.56, 119.62 1.95 M13.33 124.22 C41.85 91.76, 69.81 58.22, 119.62 1.95 M22 126.45 C63 79.3, 105.78 30.98, 130.25 1.92 M22 126.45 C51.98 90.58, 84.46 53.28, 130.25 1.92 M28.69 130.94 C54.96 100.29, 78.02 71.98, 140.22 2.64 M28.69 130.94 C66.77 86.7, 104.22 44.11, 140.22 2.64 M38.01 132.42 C81.15 85.12, 121.21 38.07, 150.85 2.61 M38.01 132.42 C72.16 91.33, 109.11 50.79, 150.85 2.61 M48.64 132.38 C81.44 94.98, 113.1 58.7, 161.48 2.57 M48.64 132.38 C72.95 105.13, 96.19 77.05, 161.48 2.57 M59.27 132.35 C82.35 105.69, 102.54 82.49, 172.11 2.54 M59.27 132.35 C91.7 95.17, 125.87 58.08, 172.11 2.54 M69.9 132.31 C96.59 100.79, 124.16 68.08, 182.74 2.5 M69.9 132.31 C94.15 104.65, 118.41 78.22, 182.74 2.5 M79.87 133.03 C105.92 100.96, 133.02 70.43, 193.37 2.47 M79.87 133.03 C110.33 99.72, 140.55 65.49, 193.37 2.47 M90.5 133 C127.79 93.08, 159.56 54.95, 204 2.43 M90.5 133 C124.42 95.11, 155.95 58.93, 204 2.43 M101.13 132.96 C147.43 80.06, 191.26 29.64, 214.63 2.4 M101.13 132.96 C131.92 97.25, 162.61 62.89, 214.63 2.4 M111.76 132.93 C144.61 93.97, 179.48 53.84, 223.95 3.87 M111.76 132.93 C147.88 87.65, 186.2 44.64, 223.95 3.87 M122.39 132.89 C149.55 98.21, 179.22 67.24, 234.58 3.84 M122.39 132.89 C152.78 97.93, 184.08 61.54, 234.58 3.84 M133.02 132.86 C159.58 101.81, 183.36 72.88, 241.93 7.58 M133.02 132.86 C169.75 91.22, 205.28 49.95, 241.93 7.58 M143.65 132.83 C166.84 107.6, 187.08 85.82, 247.31 13.58 M143.65 132.83 C166 106.77, 186.34 83.16, 247.31 13.58 M154.28 132.79 C180.18 102.98, 209.31 69.1, 250.72 21.85 M154.28 132.79 C190.79 91.95, 226.2 49.36, 250.72 21.85 M164.91 132.76 C189.75 104.03, 216.69 73.47, 255.45 28.61 M164.91 132.76 C193.89 101.58, 222.21 69.11, 255.45 28.61 M175.54 132.72 C206.79 98.86, 232.28 66.97, 255.58 40.65 M175.54 132.72 C194.07 114.4, 210.8 93.53, 255.58 40.65 M186.17 132.69 C209.43 108.03, 231.47 81.68, 255.72 52.69 M186.17 132.69 C202.05 114.34, 216.82 97.01, 255.72 52.69 M196.8 132.65 C210.79 117.58, 226.44 98.79, 255.85 64.73 M196.8 132.65 C217.3 108.31, 238.75 85.88, 255.85 64.73 M207.43 132.62 C217.97 118.46, 228.39 108.8, 255.98 76.77 M207.43 132.62 C221.85 116.61, 235.61 99.72, 255.98 76.77 M221.34 128.81 C235.41 111.48, 248.12 99.36, 256.12 88.81 M221.34 128.81 C234.05 114.06, 244.12 101.49, 256.12 88.81 M233.94 126.51 C239.9 120.73, 244.7 113.58, 252.97 104.63 M233.94 126.51 C238.93 120.26, 243.1 114.94, 252.97 104.63" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M31.89 0 C81.1 -1.26, 128.82 -0.03, 219.26 0 M31.89 0 C99.16 0.36, 165.6 0.9, 219.26 0 M219.26 0 C242.4 0.27, 249.38 9.88, 251.15 31.89 M219.26 0 C239.16 -0.72, 250.01 11.3, 251.15 31.89 M251.15 31.89 C253.19 53.92, 251.3 72.85, 251.15 95.68 M251.15 31.89 C250.34 49.31, 251.65 65.49, 251.15 95.68 M251.15 95.68 C249.32 116.05, 239.25 126.3, 219.26 127.57 M251.15 95.68 C252.19 115.61, 239.97 126.22, 219.26 127.57 M219.26 127.57 C161.52 127.15, 101.69 126.21, 31.89 127.57 M219.26 127.57 C162.63 126.64, 104.69 125.9, 31.89 127.57 M31.89 127.57 C11.32 125.88, 1.22 118.52, 0 95.68 M31.89 127.57 C9.26 127.11, 1.52 115.34, 0 95.68 M0 95.68 C0.6 81.2, 0.22 70.91, 0 31.89 M0 95.68 C0.51 71.43, 0.64 47.88, 0 31.89 M0 31.89 C-1.22 12.02, 12.45 -1.78, 31.89 0 M0 31.89 C-1.58 9.2, 12.54 1.77, 31.89 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(780.478042983304 421.08557511689287) rotate(0 118.3251953125 37.5)"><text x="118.3251953125" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Watcher</text><text x="118.3251953125" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- polls for Jobs that should be</text><text x="118.3251953125" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">executed soon</text></g><g stroke-linecap="round"><g transform="translate(1045.0360844359452 454.62135711951487) rotate(0 36.28125 -0.10546875)"><path d="M0.6 0.67 C12.55 0.57, 59.45 -0.51, 71.56 -0.76 M-0.54 -0.02 C11.78 0.04, 61.52 0.45, 73.74 0.49" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1045.0360844359452 454.62135711951487) rotate(0 36.28125 -0.10546875)"><path d="M45.49 10.58 C54.79 5.85, 60.93 5.7, 73.74 0.49 M45.49 10.58 C53.49 8.18, 58.74 5.14, 73.74 0.49" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1045.0360844359452 454.62135711951487) rotate(0 36.28125 -0.10546875)"><path d="M45.61 -9.94 C54.86 -8.74, 60.96 -2.95, 73.74 0.49 M45.61 -9.94 C53.64 -7.2, 58.86 -5.09, 73.74 0.49" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(1127.4398554819923 412.24635711951487) rotate(0 128.51953125 42.5)"><path d="M3.19 8.07 C3.19 8.07, 3.19 8.07, 3.19 8.07 M3.19 8.07 C3.19 8.07, 3.19 8.07, 3.19 8.07 M0.7 23.13 C4.77 17.4, 9.67 14.68, 20.38 0.49 M0.7 23.13 C6.14 18.48, 9.66 11.95, 20.38 0.49 M0.83 35.17 C6.98 24.39, 18.81 16.99, 31.01 0.46 M0.83 35.17 C9.83 24.61, 18.93 15.04, 31.01 0.46 M0.96 47.21 C14.81 28.31, 31.66 12.82, 41.64 0.42 M0.96 47.21 C10.24 36.5, 17.33 25.91, 41.64 0.42 M1.1 59.25 C10.25 47.5, 21.37 32.25, 52.27 0.39 M1.1 59.25 C13.03 45.61, 25.14 31.74, 52.27 0.39 M1.23 71.29 C27.24 42.5, 48.51 14.28, 62.9 0.35 M1.23 71.29 C16.59 52.44, 33.02 34.23, 62.9 0.35 M5.3 78.81 C19.24 58.13, 37.02 41.57, 73.53 0.32 M5.3 78.81 C24.14 58.79, 41.32 36.83, 73.53 0.32 M11.99 83.3 C26.71 67.04, 42.87 50.59, 84.16 0.28 M11.99 83.3 C29.27 60.52, 47.5 39.44, 84.16 0.28 M20.65 85.53 C39.67 64.95, 55.51 42.69, 94.79 0.25 M20.65 85.53 C41.5 62.03, 61.37 37.23, 94.79 0.25 M31.28 85.5 C54.17 57.77, 81.33 30.84, 105.42 0.21 M31.28 85.5 C55.92 55.76, 81.62 25.9, 105.42 0.21 M41.91 85.46 C66.46 57.87, 89.68 30.69, 116.05 0.18 M41.91 85.46 C58.26 65.9, 75.35 47.15, 116.05 0.18 M52.54 85.43 C70.84 60.75, 91.8 39.49, 126.68 0.14 M52.54 85.43 C69.96 67.71, 84.62 48.4, 126.68 0.14 M63.17 85.39 C80.73 66.77, 96.17 46.55, 137.31 0.11 M63.17 85.39 C85.66 59.17, 109.74 31.31, 137.31 0.11 M73.8 85.36 C93.02 61.04, 112.92 40.73, 147.94 0.08 M73.8 85.36 C102.6 51.32, 132.77 16.69, 147.94 0.08 M84.44 85.32 C109.92 57.99, 136.12 27.39, 157.91 0.8 M84.44 85.32 C112.4 53.3, 140.43 19.89, 157.91 0.8 M95.07 85.29 C122.44 51.69, 152.23 21.34, 168.54 0.76 M95.07 85.29 C122.97 52.88, 151.08 20.85, 168.54 0.76 M105.7 85.25 C123.87 64.57, 141.11 44.91, 179.17 0.73 M105.7 85.25 C129.54 57.28, 153.23 29.8, 179.17 0.73 M116.33 85.22 C132.71 65.1, 151.9 45.78, 189.8 0.69 M116.33 85.22 C137.4 62.66, 158.09 37.27, 189.8 0.69 M126.3 85.94 C153.61 58.01, 177.84 26.79, 200.43 0.66 M126.3 85.94 C146.36 63.38, 165.76 39.55, 200.43 0.66 M136.93 85.91 C154.17 66.19, 172.22 44.62, 211.06 0.62 M136.93 85.91 C166.72 50.92, 196.63 17, 211.06 0.62 M147.56 85.87 C174.83 54.12, 196.9 25.84, 221.69 0.59 M147.56 85.87 C167.34 63.88, 184.52 43.16, 221.69 0.59 M158.19 85.84 C183.91 55.8, 210.21 27.61, 232.32 0.55 M158.19 85.84 C177.62 65.07, 195.04 42.98, 232.32 0.55 M168.82 85.8 C186.97 63.62, 205.87 40.36, 242.3 1.27 M168.82 85.8 C187.95 65.09, 206.81 42.82, 242.3 1.27 M179.45 85.77 C204.49 61.35, 223.83 33.65, 250.3 4.26 M179.45 85.77 C202.4 60.05, 224.55 35.88, 250.3 4.26 M190.08 85.73 C204.83 69.36, 220.55 51.3, 254.37 11.77 M190.08 85.73 C204.15 69.13, 218.69 53.59, 254.37 11.77 M200.71 85.7 C215.14 69.39, 232.15 52.82, 257.13 20.79 M200.71 85.7 C217.97 66.68, 235.19 44.74, 257.13 20.79 M211.34 85.66 C227.81 68.93, 246.6 49.66, 257.26 32.83 M211.34 85.66 C222.64 73.36, 234.02 60.47, 257.26 32.83 M221.97 85.63 C234.72 73.94, 245.01 59.17, 257.4 44.88 M221.97 85.63 C232.93 72.4, 245.45 60, 257.4 44.88 M232.6 85.6 C236.54 78.42, 241.62 73.55, 257.53 56.92 M232.6 85.6 C241.88 75.9, 248.78 66.16, 257.53 56.92 M244.54 84.05 C250.39 79.86, 254.11 74.45, 257.01 69.71 M244.54 84.05 C247.49 80.47, 250.17 76.27, 257.01 69.71" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M21.25 0 C95.6 2.54, 170.69 2.07, 235.79 0 M21.25 0 C85.78 -0.58, 151.36 -0.53, 235.79 0 M235.79 0 C248.96 0.58, 257.37 8.43, 257.04 21.25 M235.79 0 C250.62 1.85, 259.14 6.76, 257.04 21.25 M257.04 21.25 C255.49 33.77, 257.42 50.36, 257.04 63.75 M257.04 21.25 C256.02 30.25, 257.1 39.95, 257.04 63.75 M257.04 63.75 C256.56 76.74, 250.23 83.89, 235.79 85 M257.04 63.75 C256.82 79.1, 249.68 84.97, 235.79 85 M235.79 85 C182.63 84.52, 133.46 82.86, 21.25 85 M235.79 85 C174.43 84.1, 111.47 83.23, 21.25 85 M21.25 85 C8.4 83.61, -1.82 79.91, 0 63.75 M21.25 85 C5.3 86.42, -1.31 78.9, 0 63.75 M0 63.75 C-0.16 47.89, -1.87 31.37, 0 21.25 M0 63.75 C1.17 53.82, -0.43 45.05, 0 21.25 M0 21.25 C1.66 8.62, 8.72 0.57, 21.25 0 M0 21.25 C-0.46 5.08, 8.18 0.43, 21.25 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1164.8656367319923 442.24635711951487) rotate(0 91.09375 12.5)"><text x="91.09375" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Message Queue (SQS)</text></g><g stroke-linecap="round"><g transform="translate(1533.1259281859452 452.9199643811262) rotate(0 -70.70827072697625 0.08719451623176155)"><path d="M0.34 0.05 C-23.15 0.21, -116.48 0.39, -140.29 0.34 M-0.95 -0.96 C-24.55 -0.54, -117.44 1.67, -140.64 1.96" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1533.1259281859452 452.9199643811262) rotate(0 -70.70827072697625 0.08719451623176155)"><path d="M-112.65 -8.83 C-122.55 -3.04, -132.3 -2.87, -140.64 1.96 M-112.65 -8.83 C-120.56 -5.79, -127.26 -2.58, -140.64 1.96" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1533.1259281859452 452.9199643811262) rotate(0 -70.70827072697625 0.08719451623176155)"><path d="M-112.26 11.69 C-122.2 10.2, -132.09 3.09, -140.64 1.96 M-112.26 11.69 C-120.16 9.33, -126.95 7.16, -140.64 1.96" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(1086.8428464977192 518.6761017369208) rotate(0 175.6998291015625 37.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- delivery delay until execution time</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- retry with exponential backoff</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- partition by execution time</text></g><g stroke-linecap="round" transform="translate(504.89188796474673 185.00736021688863) rotate(0 98.697265625 53.470703125)"><path d="M4.03 10.13 C4.03 10.13, 4.03 10.13, 4.03 10.13 M4.03 10.13 C4.03 10.13, 4.03 10.13, 4.03 10.13 M3.51 22.93 C10.79 15.64, 14.36 8.35, 19.25 4.81 M3.51 22.93 C7.49 18.57, 13.16 12.05, 19.25 4.81 M3.64 34.97 C11.76 26.14, 21.62 15.71, 31.2 3.27 M3.64 34.97 C10.68 26.38, 19.33 17.26, 31.2 3.27 M3.12 47.76 C15.92 30.04, 28.61 13.79, 41.17 3.99 M3.12 47.76 C18.53 30.09, 32.29 12.87, 41.17 3.99 M3.25 59.8 C17.85 43.26, 31.93 30.03, 51.8 3.95 M3.25 59.8 C17.78 41.58, 32.57 24.35, 51.8 3.95 M3.39 71.84 C16.75 55.16, 31.21 38.04, 62.43 3.92 M3.39 71.84 C21.72 49.67, 42.37 26.73, 62.43 3.92 M0.89 86.9 C23.24 62.56, 41.42 36, 73.06 3.89 M0.89 86.9 C22.87 63.17, 44.37 38.36, 73.06 3.89 M3.65 95.93 C33 58.22, 65.35 21.37, 83.69 3.85 M3.65 95.93 C22.03 73.49, 39.83 52.18, 83.69 3.85 M9.69 101.17 C43.59 61.88, 75.04 26.12, 94.32 3.82 M9.69 101.17 C32.34 76.3, 55.61 50.21, 94.32 3.82 M15.73 106.42 C46.42 70.05, 76.79 36.24, 104.95 3.78 M15.73 106.42 C39.55 79.24, 62.99 50.9, 104.95 3.78 M25.7 107.14 C59.58 68.04, 95.37 27.76, 115.58 3.75 M25.7 107.14 C50.48 77.34, 77.57 46.25, 115.58 3.75 M32.4 111.64 C54.78 85.62, 73.92 61.82, 126.21 3.71 M32.4 111.64 C64.53 74.33, 95.99 38.63, 126.21 3.71 M43.03 111.6 C79.04 72.13, 112.17 33.03, 136.84 3.68 M43.03 111.6 C71.3 77.48, 102.2 43.91, 136.84 3.68 M53.66 111.57 C80.86 80.35, 106.99 50.43, 147.47 3.64 M53.66 111.57 C73.99 89.06, 93.12 65.7, 147.47 3.64 M64.29 111.53 C83.66 89.16, 100 70.38, 158.1 3.61 M64.29 111.53 C91.2 80.63, 119.81 49.92, 158.1 3.61 M74.92 111.5 C97.48 84.53, 121.03 56.44, 171.36 0.56 M74.92 111.5 C95.61 87.77, 116.42 65.31, 171.36 0.56 M85.55 111.46 C107.13 84.31, 129.86 58.8, 180.67 2.03 M85.55 111.46 C111.05 83.53, 136.47 54.83, 180.67 2.03 M96.18 111.43 C126.89 78.85, 152.31 48.03, 188.68 5.02 M96.18 111.43 C124 80.4, 149.63 51.02, 188.68 5.02 M106.81 111.39 C142.76 70.34, 176.35 31.7, 194.06 11.02 M106.81 111.39 C130.67 83.83, 154.16 57.75, 194.06 11.02 M116.78 112.12 C139.9 84.66, 164.85 55.95, 196.82 20.04 M116.78 112.12 C142.29 79.57, 169.8 48.98, 196.82 20.04 M127.41 112.08 C145.35 88.44, 165.69 68.21, 202.86 25.29 M127.41 112.08 C147.72 88.72, 168.94 63.93, 202.86 25.29 M138.04 112.05 C154.52 93.04, 167.99 75.97, 202.99 37.33 M138.04 112.05 C159.83 86.96, 180.81 62.44, 202.99 37.33 M148.67 112.01 C161.51 97.83, 171.82 87.49, 203.12 49.37 M148.67 112.01 C160.69 97.99, 170.94 85.97, 203.12 49.37 M159.3 111.98 C170.35 99.32, 184.91 82.21, 203.26 61.41 M159.3 111.98 C176.11 93.66, 192.01 73.51, 203.26 61.41 M172.55 108.92 C178.88 101.4, 187.29 92.16, 197.48 80.24 M172.55 108.92 C180.82 100.72, 188.96 91.48, 197.48 80.24" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M26.74 0 C82.71 0.09, 139.55 0.29, 170.66 0 M26.74 0 C74.39 -0.16, 122.38 -1.11, 170.66 0 M170.66 0 C189.05 -0.62, 197.07 7.49, 197.39 26.74 M170.66 0 C186.84 0.59, 198.78 7.23, 197.39 26.74 M197.39 26.74 C195.88 38.79, 196 48.56, 197.39 80.21 M197.39 26.74 C197.37 40.15, 197.35 52.52, 197.39 80.21 M197.39 80.21 C196.21 98.11, 187.29 105.28, 170.66 106.94 M197.39 80.21 C198.23 99.46, 187.14 106.68, 170.66 106.94 M170.66 106.94 C124.12 106.63, 74.03 109.14, 26.74 106.94 M170.66 106.94 C136.72 108.99, 103.77 108.8, 26.74 106.94 M26.74 106.94 C10.82 108.3, -0.13 98.16, 0 80.21 M26.74 106.94 C9.99 105.12, 1.39 96.02, 0 80.21 M0 80.21 C-2.15 66.05, -1.61 56.31, 0 26.74 M0 80.21 C-0.64 59.18, 0.04 40.07, 0 26.74 M0 26.74 C-0.47 9.87, 8.59 1.28, 26.74 0 M0 26.74 C0.32 7.47, 9.91 2.18, 26.74 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(546.1135676522467 225.97806334188863) rotate(0 57.4755859375 12.5)"><text x="57.4755859375" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Query Service</text></g><g stroke-linecap="round"><g transform="translate(713.1796195906968 248.90050879019327) rotate(0 45.30548925832454 -23.285791106315628)"><path d="M-0.6 0.35 C14.66 -7.22, 75.55 -38.11, 90.81 -45.77 M1.29 -0.51 C16.47 -8.38, 75.12 -39.64, 89.97 -47.47" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(713.1796195906968 248.90050879019327) rotate(0 45.30548925832454 -23.285791106315628)"><path d="M19.95 -21.51 C15.52 -16.01, 11.33 -10.51, -0.6 0.35 M19.95 -21.51 C12.62 -13.53, 4.37 -5.63, -0.6 0.35" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(713.1796195906968 248.90050879019327) rotate(0 45.30548925832454 -23.285791106315628)"><path d="M29.2 -3.19 C22.59 -2.15, 16.18 -1.05, -0.6 0.35 M29.2 -3.19 C18.18 -2.19, 6.41 -1.25, -0.6 0.35" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(713.1796195906968 248.90050879019327) rotate(0 45.30548925832454 -23.285791106315628)"><path d="M69.87 -25.2 C75.36 -30.13, 80.96 -35.25, 89.97 -47.47 M69.87 -25.2 C77.59 -33.94, 84.79 -42.81, 89.97 -47.47" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(713.1796195906968 248.90050879019327) rotate(0 45.30548925832454 -23.285791106315628)"><path d="M60.25 -43.33 C68.01 -43.84, 75.92 -44.6, 89.97 -47.47 M60.25 -43.33 C71.8 -45.17, 82.65 -47.14, 89.97 -47.47" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(1541.9930389262486 380.6297750829399) rotate(0 72.099609375 68.462890625)"><path d="M7.86 8.16 C7.86 8.16, 7.86 8.16, 7.86 8.16 M7.86 8.16 C7.86 8.16, 7.86 8.16, 7.86 8.16 M1.43 27.75 C5.66 19.16, 15.57 13.98, 24.4 1.33 M1.43 27.75 C8.38 19.63, 15.41 12.45, 24.4 1.33 M0.91 40.54 C12.73 23.91, 27.57 10.73, 36.34 -0.21 M0.91 40.54 C9.1 31.17, 15.07 21.86, 36.34 -0.21 M1.04 52.58 C8.99 42.33, 18.83 28.55, 46.31 0.51 M1.04 52.58 C11.56 40.56, 22.27 28.31, 46.31 0.51 M1.18 64.62 C24.88 38.49, 43.84 12.92, 56.94 0.47 M1.18 64.62 C14.99 47.54, 29.89 31.08, 56.94 0.47 M1.31 76.67 C14.79 56.53, 32.11 40.51, 67.57 0.44 M1.31 76.67 C19.64 57.25, 36.3 35.88, 67.57 0.44 M1.44 88.71 C17.13 71.37, 34.25 53.81, 78.2 0.41 M1.44 88.71 C19.84 64.53, 39.25 42.11, 78.2 0.41 M0.92 101.5 C23.32 77.08, 42.44 51.05, 88.83 0.37 M0.92 101.5 C25.54 73.55, 49.31 44.25, 88.83 0.37 M1.05 113.54 C32.03 76.52, 67.18 40.39, 99.46 0.34 M1.05 113.54 C33.99 74.07, 68.11 34.53, 99.46 0.34 M3.81 122.56 C38.59 83.64, 71.9 44.84, 110.09 0.3 M3.81 122.56 C27.23 94.74, 51.69 67.51, 110.09 0.3 M8.54 129.32 C36.8 92.87, 67.7 60.18, 120.07 1.02 M8.54 129.32 C34.4 102.21, 57.15 73.58, 120.07 1.02 M15.23 133.82 C41.6 104.79, 66.02 74.25, 128.07 4.01 M15.23 133.82 C49.85 93.68, 86.35 51.54, 128.07 4.01 M23.89 136.05 C52.83 100.13, 82.54 68.55, 135.42 7.75 M23.89 136.05 C67.67 84.95, 112.78 33.12, 135.42 7.75 M33.87 136.77 C70.67 96.58, 107.87 53.34, 140.15 14.5 M33.87 136.77 C74.66 90.21, 115.15 42.47, 140.15 14.5 M44.5 136.73 C81.58 91.96, 121.05 50.47, 142.91 23.53 M44.5 136.73 C82 93.62, 119.55 50.73, 142.91 23.53 M55.13 136.7 C77.31 111.66, 98.41 87.57, 144.35 34.06 M55.13 136.7 C84.21 102.9, 113.04 69.52, 144.35 34.06 M65.76 136.66 C83.43 115.12, 103.88 94.35, 144.48 46.1 M65.76 136.66 C88.33 112.43, 110.51 85.32, 144.48 46.1 M76.39 136.63 C101.58 111.08, 123.7 82.28, 144.62 58.14 M76.39 136.63 C94.87 115.92, 112.64 93.97, 144.62 58.14 M86.36 137.35 C99.58 122.36, 113.65 105.37, 144.09 70.93 M86.36 137.35 C109.63 109.98, 132.99 83.59, 144.09 70.93 M96.99 137.31 C115.05 116.41, 127.82 98.85, 144.23 82.97 M96.99 137.31 C109.91 123.12, 120.37 110.13, 144.23 82.97 M107.62 137.28 C120.41 121.99, 133.89 108.55, 144.36 95.02 M107.62 137.28 C117.46 127.39, 125.58 116, 144.36 95.02 M118.91 136.49 C124.48 128.61, 130.64 120.01, 143.84 107.81 M118.91 136.49 C124.89 129.93, 131.15 122.14, 143.84 107.81 M134.79 130.42 C137.21 128.99, 137.61 126.35, 140.03 124.38 M134.79 130.42 C136.73 128.29, 138.41 126.88, 140.03 124.38" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M32 0 C53.42 0.44, 73.77 1.7, 112.2 0 M32 0 C54.77 -0.46, 77.15 0.5, 112.2 0 M112.2 0 C134.74 -1.46, 142.37 9.78, 144.2 32 M112.2 0 C132.07 -1.46, 145.24 9.34, 144.2 32 M144.2 32 C142.66 51.92, 144.8 71.99, 144.2 104.93 M144.2 32 C143.17 52.95, 144.13 76.17, 144.2 104.93 M144.2 104.93 C143.03 126.03, 134.22 135.23, 112.2 136.93 M144.2 104.93 C145.6 128.07, 132.16 136.47, 112.2 136.93 M112.2 136.93 C84.84 134.65, 54.74 135.06, 32 136.93 M112.2 136.93 C84.64 137.53, 57.67 136.68, 32 136.93 M32 136.93 C11.87 135.18, -1.22 127.65, 0 104.93 M32 136.93 C12.76 134.88, -1.58 124.83, 0 104.93 M0 104.93 C0.01 76.61, -2.3 50.04, 0 32 M0 104.93 C0.01 82.31, 0.31 57.79, 0 32 M0 32 C0.87 12.56, 12.31 -0.74, 32 0 M0 32 C1.81 8.8, 8.84 -1.53, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1553.5457733012486 424.0926657079399) rotate(0 60.546875 25)"><text x="60.546875" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">worker</text><text x="60.546875" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- consume jobs</text></g><g stroke-linecap="round"><g transform="translate(1695.2196014262486 433.5594625829399) rotate(0 38.1015625 -51.3203125)"><path d="M1.1 -0.17 C13.8 -17.5, 64.06 -85.79, 76.54 -103.01 M0.22 -1.3 C12.76 -18.54, 63.28 -84.78, 75.77 -101.67" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1695.2196014262486 433.5594625829399) rotate(0 38.1015625 -51.3203125)"><path d="M67.03 -72.97 C69.39 -81.92, 71.93 -92.25, 75.77 -101.67 M67.03 -72.97 C69.84 -80.3, 70.32 -86.58, 75.77 -101.67" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1695.2196014262486 433.5594625829399) rotate(0 38.1015625 -51.3203125)"><path d="M50.63 -85.31 C58.48 -90.35, 66.41 -96.62, 75.77 -101.67 M50.63 -85.31 C57.1 -89.85, 61.34 -93.31, 75.77 -101.67" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(1784.4083153420138 244.71668662290176) rotate(0 60.580078125 54.958984375)"><path d="M3.58 11.06 C3.58 11.06, 3.58 11.06, 3.58 11.06 M3.58 11.06 C3.58 11.06, 3.58 11.06, 3.58 11.06 M1.09 26.12 C9.58 19.1, 14.02 12.14, 22.74 1.22 M1.09 26.12 C6.66 17.57, 13.56 10.53, 22.74 1.22 M1.22 38.16 C14.99 26.37, 24.09 9.82, 34.02 0.43 M1.22 38.16 C8.8 29.42, 15.64 21.69, 34.02 0.43 M1.35 50.2 C12.22 37.69, 23.21 25.64, 44.65 0.39 M1.35 50.2 C16.27 33.39, 31.22 14.21, 44.65 0.39 M0.83 63 C14.04 47.42, 24.81 34.47, 55.28 0.36 M0.83 63 C16.51 45.18, 29.43 29.33, 55.28 0.36 M0.96 75.04 C22.73 53.57, 43.72 28.83, 65.91 0.32 M0.96 75.04 C16.7 56.55, 33.72 38.76, 65.91 0.32 M1.1 87.08 C31.87 52.54, 57.06 19.03, 76.54 0.29 M1.1 87.08 C19.01 68.58, 35.42 48.27, 76.54 0.29 M3.2 96.86 C19.85 77.48, 38.6 55.38, 87.18 0.25 M3.2 96.86 C27.1 68.84, 50.85 42.82, 87.18 0.25 M7.93 103.62 C42.99 61.33, 77.81 20.77, 97.81 0.22 M7.93 103.62 C31.4 76.22, 56.06 47.99, 97.81 0.22 M15.27 107.35 C33.6 84.96, 52.82 63.41, 106.47 2.45 M15.27 107.35 C46.67 72.02, 75.23 37.98, 106.47 2.45 M23.94 109.58 C52.37 80.37, 80.99 46.26, 113.82 6.19 M23.94 109.58 C52.54 77.7, 80.71 44.95, 113.82 6.19 M34.57 109.55 C61.22 74.38, 92.78 41.85, 118.54 12.95 M34.57 109.55 C60.32 81.15, 83.33 53.16, 118.54 12.95 M45.2 109.51 C69 78.62, 94.59 50.58, 120.64 22.72 M45.2 109.51 C62.37 90.79, 79.38 72.15, 120.64 22.72 M55.83 109.48 C73.49 89.03, 90.33 69.72, 121.43 34.01 M55.83 109.48 C69.92 92.06, 84.12 75.83, 121.43 34.01 M65.8 110.2 C85.8 84.74, 107.05 60.31, 121.57 46.05 M65.8 110.2 C77.37 96.91, 89.45 83.03, 121.57 46.05 M76.43 110.17 C90.13 92.23, 104.26 74.77, 121.04 58.85 M76.43 110.17 C86.2 97.85, 96.89 86.92, 121.04 58.85 M87.06 110.13 C96.91 97.06, 112.07 83.19, 121.18 70.89 M87.06 110.13 C94.89 100.38, 105.47 89.1, 121.18 70.89 M98.35 109.34 C105.9 100.26, 116.42 88.54, 121.31 82.93 M98.35 109.34 C107.56 99.52, 115.67 90.14, 121.31 82.93" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M27.48 0 C52.78 -0.51, 77.9 -1.61, 93.68 0 M27.48 0 C48.12 0.04, 69.94 -0.15, 93.68 0 M93.68 0 C112.9 -1.16, 120.68 7.99, 121.16 27.48 M93.68 0 C112.31 -1.28, 120.94 10.35, 121.16 27.48 M121.16 27.48 C121.24 42.12, 119.49 59.87, 121.16 82.44 M121.16 27.48 C121.18 46.53, 121.45 68.07, 121.16 82.44 M121.16 82.44 C119.97 100.36, 113.32 108.53, 93.68 109.92 M121.16 82.44 C119.07 103.05, 110.22 111.33, 93.68 109.92 M93.68 109.92 C78.95 110.42, 61.63 111.49, 27.48 109.92 M93.68 109.92 C78.45 110.03, 65.34 108.45, 27.48 109.92 M27.48 109.92 C7.79 108.68, 1.66 102.3, 0 82.44 M27.48 109.92 C11.05 110.57, -0.46 98.76, 0 82.44 M0 82.44 C0.86 63, 1.17 44.49, 0 27.48 M0 82.44 C0.59 69.02, 0.55 55.54, 0 27.48 M0 27.48 C-1.59 7.83, 7.96 -1.58, 27.48 0 M0 27.48 C-1.93 8.8, 8.62 -0.87, 27.48 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1799.1778465920138 287.17567099790176) rotate(0 45.810546875 12.5)"><text x="45.810546875" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">execute job</text></g><g stroke-linecap="round" transform="translate(1786.5067108012486 393.9129782079399) rotate(0 60.580078125 54.958984375)"><path d="M3.58 11.06 C3.58 11.06, 3.58 11.06, 3.58 11.06 M3.58 11.06 C3.58 11.06, 3.58 11.06, 3.58 11.06 M1.09 26.12 C8.74 19.08, 15.37 7.11, 22.74 1.22 M1.09 26.12 C6.26 20.19, 10.84 16.83, 22.74 1.22 M1.22 38.16 C12.23 22.04, 28.78 10.08, 34.02 0.43 M1.22 38.16 C7.96 29.04, 16 21.04, 34.02 0.43 M1.35 50.2 C13.8 38.95, 24.39 23.74, 44.65 0.39 M1.35 50.2 C18.04 30.22, 35.4 11.25, 44.65 0.39 M0.83 63 C11.81 48.78, 24.54 38.46, 55.28 0.36 M0.83 63 C12.72 49.74, 23.73 37.77, 55.28 0.36 M0.96 75.04 C24.8 43.61, 51.33 14.3, 65.91 0.32 M0.96 75.04 C19.28 54.05, 37.21 34.92, 65.91 0.32 M1.1 87.08 C20.25 63.43, 40.34 42.83, 76.54 0.29 M1.1 87.08 C25.89 57.62, 53.49 27.79, 76.54 0.29 M3.2 96.86 C32.24 63.68, 61.74 29.56, 87.18 0.25 M3.2 96.86 C21.37 76.73, 38.49 56.22, 87.18 0.25 M7.93 103.62 C28.13 80.69, 48.72 54.76, 97.81 0.22 M7.93 103.62 C39.04 66.52, 72.05 30.59, 97.81 0.22 M15.27 107.35 C44.15 74.64, 71.15 45.21, 106.47 2.45 M15.27 107.35 C36.72 82.79, 56.61 59.99, 106.47 2.45 M23.94 109.58 C56.27 70.8, 89.96 34.44, 113.82 6.19 M23.94 109.58 C53.72 75.73, 83.95 40.02, 113.82 6.19 M34.57 109.55 C52.83 87.52, 72.18 68.33, 118.54 12.95 M34.57 109.55 C60.52 81.67, 85.02 51.64, 118.54 12.95 M45.2 109.51 C59.61 92.36, 75.22 74.7, 120.64 22.72 M45.2 109.51 C67.32 83.03, 89.9 56.23, 120.64 22.72 M55.83 109.48 C68.56 94.78, 84.61 76.35, 121.43 34.01 M55.83 109.48 C72.62 92.28, 86.8 72.9, 121.43 34.01 M65.8 110.2 C79.19 92.32, 93.81 75.55, 121.57 46.05 M65.8 110.2 C81.42 93.35, 95.67 75.17, 121.57 46.05 M76.43 110.17 C86.01 97.14, 97.32 84.73, 121.04 58.85 M76.43 110.17 C86.62 98.87, 95.96 86.93, 121.04 58.85 M87.06 110.13 C96.62 98.98, 107.79 83.94, 121.18 70.89 M87.06 110.13 C98.67 97.05, 110.38 83.8, 121.18 70.89 M98.35 109.34 C106.83 99.68, 112.77 93.89, 121.31 82.93 M98.35 109.34 C104.29 103.79, 109.78 96.69, 121.31 82.93" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M27.48 0 C46.78 1.68, 63.6 -1.36, 93.68 0 M27.48 0 C44.85 -0.16, 61.08 -0.17, 93.68 0 M93.68 0 C112.27 -1.11, 120.97 10.19, 121.16 27.48 M93.68 0 C111.72 -0.03, 119.8 9.26, 121.16 27.48 M121.16 27.48 C121.95 39.53, 120.47 54.6, 121.16 82.44 M121.16 27.48 C120.9 39.11, 122.15 50.45, 121.16 82.44 M121.16 82.44 C119.34 102.75, 110.45 111.15, 93.68 109.92 M121.16 82.44 C119.85 101.74, 114.19 111.48, 93.68 109.92 M93.68 109.92 C72.66 111.43, 53.06 109.01, 27.48 109.92 M93.68 109.92 C68.54 108.71, 45.61 110.1, 27.48 109.92 M27.48 109.92 C10.8 110.49, -0.4 99.02, 0 82.44 M27.48 109.92 C10.26 110.35, -0.54 101.86, 0 82.44 M0 82.44 C-1.6 67.71, 1.54 52.9, 0 27.48 M0 82.44 C-1.23 67.32, -1.03 52.74, 0 27.48 M0 27.48 C-1.68 8.85, 8.69 -0.75, 27.48 0 M0 27.48 C0.09 10.93, 7.67 1.83, 27.48 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1801.2762420512486 436.3719625829399) rotate(0 45.810546875 12.5)"><text x="45.810546875" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">execute job</text></g><g stroke-linecap="round" transform="translate(1790.6199920512486 564.226692123706) rotate(0 60.580078125 54.958984375)"><path d="M3.58 11.06 C3.58 11.06, 3.58 11.06, 3.58 11.06 M3.58 11.06 C3.58 11.06, 3.58 11.06, 3.58 11.06 M1.09 26.12 C7.58 15.43, 17.15 8.32, 22.74 1.22 M1.09 26.12 C6.44 20.26, 9.47 14.34, 22.74 1.22 M1.22 38.16 C6.6 31.09, 13.74 20.41, 34.02 0.43 M1.22 38.16 C8.75 29.57, 16.49 20.73, 34.02 0.43 M1.35 50.2 C20.19 29.67, 34.27 9.72, 44.65 0.39 M1.35 50.2 C11.87 36.85, 23.57 24.08, 44.65 0.39 M0.83 63 C11.58 46.16, 26.12 33.34, 55.28 0.36 M0.83 63 C16.06 47.2, 29.63 29.39, 55.28 0.36 M0.96 75.04 C14.16 60.47, 28.8 45.76, 65.91 0.32 M0.96 75.04 C16.48 54.44, 32.87 35.49, 65.91 0.32 M1.1 87.08 C20.44 66.13, 36.59 43.51, 76.54 0.29 M1.1 87.08 C22.31 63.16, 42.54 37.92, 76.54 0.29 M3.2 96.86 C29.36 65.36, 59.76 34.7, 87.18 0.25 M3.2 96.86 C31.2 63.17, 60.31 29.39, 87.18 0.25 M7.93 103.62 C37.48 70.47, 65.64 37.6, 97.81 0.22 M7.93 103.62 C27.74 80.01, 48.43 57.11, 97.81 0.22 M15.27 107.35 C38.12 77.3, 63.61 50.83, 106.47 2.45 M15.27 107.35 C36.55 85.35, 54.89 61.79, 106.47 2.45 M23.94 109.58 C45.08 86.73, 64.17 62.31, 113.82 6.19 M23.94 109.58 C51.35 77.7, 80.49 44.03, 113.82 6.19 M34.57 109.55 C56.34 82.18, 78.82 58.91, 118.54 12.95 M34.57 109.55 C67.3 71.02, 101.41 31.86, 118.54 12.95 M45.2 109.51 C71.36 81.41, 98.22 50.06, 120.64 22.72 M45.2 109.51 C73.94 76.62, 102.71 42.35, 120.64 22.72 M55.83 109.48 C80.14 79.41, 106.87 52.57, 121.43 34.01 M55.83 109.48 C80.7 80.45, 105.83 51.85, 121.43 34.01 M65.8 110.2 C79.46 94.41, 92.37 79.73, 121.57 46.05 M65.8 110.2 C83.75 88.79, 101.67 67.94, 121.57 46.05 M76.43 110.17 C85.74 97.85, 97.97 86.54, 121.04 58.85 M76.43 110.17 C89.28 96.81, 101.74 80.89, 121.04 58.85 M87.06 110.13 C100 98.33, 109.93 83.55, 121.18 70.89 M87.06 110.13 C96.45 100.17, 104.78 89.08, 121.18 70.89 M98.35 109.34 C103.02 104.37, 108.65 97.08, 121.31 82.93 M98.35 109.34 C107.77 98.13, 117.26 87.7, 121.31 82.93" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M27.48 0 C50.45 -0.66, 73.93 1.51, 93.68 0 M27.48 0 C43.65 -0.17, 59.44 0.91, 93.68 0 M93.68 0 C111.76 -0.03, 119.98 9.24, 121.16 27.48 M93.68 0 C110.63 -1.91, 122 10.59, 121.16 27.48 M121.16 27.48 C119.4 41.99, 122.68 52.86, 121.16 82.44 M121.16 27.48 C120.61 43.87, 120.75 58.88, 121.16 82.44 M121.16 82.44 C120.02 101.62, 113.9 111.27, 93.68 109.92 M121.16 82.44 C121.01 100.91, 113.08 108.1, 93.68 109.92 M93.68 109.92 C71.22 111.34, 44.2 108.14, 27.48 109.92 M93.68 109.92 C78.75 110.71, 61.97 109.56, 27.48 109.92 M27.48 109.92 C10.11 110.3, -0.47 101.72, 0 82.44 M27.48 109.92 C8.79 111.39, 0.32 99.32, 0 82.44 M0 82.44 C-1.26 65.14, -2.14 43.11, 0 27.48 M0 82.44 C-0.51 69.44, 0.1 56.37, 0 27.48 M0 27.48 C0.08 10.7, 7.87 1.6, 27.48 0 M0 27.48 C-0.73 11.45, 10.59 -0.29, 27.48 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1805.3895233012486 606.685676498706) rotate(0 45.810546875 12.5)"><text x="45.810546875" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">execute job</text></g><g stroke-linecap="round"><g transform="translate(1695.6219451762486 454.3250875829399) rotate(0 39.7421875 0)"><path d="M0.54 -0.69 C13.87 -0.68, 66.01 -0.71, 79.19 -0.7 M-0.63 1.56 C12.58 1.77, 64.83 0.67, 78.09 0.46" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1695.6219451762486 454.3250875829399) rotate(0 39.7421875 0)"><path d="M50.09 11.23 C55.63 8.08, 62.23 6.28, 78.09 0.46 M50.09 11.23 C56.83 8.44, 63.21 5.86, 78.09 0.46" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1695.6219451762486 454.3250875829399) rotate(0 39.7421875 0)"><path d="M49.72 -9.28 C55.21 -7.59, 61.91 -4.53, 78.09 0.46 M49.72 -9.28 C56.53 -7.06, 63 -4.62, 78.09 0.46" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(1696.7156951762486 483.2782125829399) rotate(0 39.23828125 67.58484139794155)"><path d="M-0.29 -0.7 C12.73 21.83, 65.53 111.75, 78.64 134.5 M1.76 1.54 C14.58 24.28, 65.15 113.65, 77.78 135.69" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1696.7156951762486 483.2782125829399) rotate(0 39.23828125 67.58484139794155)"><path d="M54.92 116.26 C61.52 123.3, 69.48 129.54, 77.78 135.69 M54.92 116.26 C62.35 123.14, 70.38 129.1, 77.78 135.69" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1696.7156951762486 483.2782125829399) rotate(0 39.23828125 67.58484139794155)"><path d="M72.76 106.11 C73.15 116.61, 74.94 126.35, 77.78 135.69 M72.76 106.11 C73.9 116.56, 75.66 126.09, 77.78 135.69" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(1827.9969920921972 231.9459372070669) rotate(0 -285.6260318187452 -57.13644433600666)"><path d="M0.16 -0.67 C-28.4 -19.49, -76.42 -95.2, -171.68 -113.65 C-266.94 -132.11, -504.68 -111.79, -571.4 -111.4 M-1.21 1.6 C-29.92 -17.52, -77.52 -96.83, -172.69 -115.45 C-267.86 -134.07, -505.67 -110.97, -572.24 -110.09" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1827.9969920921972 231.9459372070669) rotate(0 -285.6260318187452 -57.13644433600666)"><path d="M-544.62 -121.8 C-553.41 -118.72, -558.89 -115.54, -572.24 -110.09 M-544.62 -121.8 C-553.53 -119.12, -560.82 -114.18, -572.24 -110.09" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1827.9969920921972 231.9459372070669) rotate(0 -285.6260318187452 -57.13644433600666)"><path d="M-543.55 -101.31 C-552.52 -103.88, -558.29 -106.35, -572.24 -110.09 M-543.55 -101.31 C-552.66 -104.75, -560.27 -105.92, -572.24 -110.09" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(1509.2794542717525 58.786073905070225) rotate(0 73.59992980957031 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">update status</text></g><g stroke-linecap="round" transform="translate(10 121.27111257574688) rotate(0 61.80078125 35.58203125)"><path d="M4.74 4.12 C4.74 4.12, 4.74 4.12, 4.74 4.12 M4.74 4.12 C4.74 4.12, 4.74 4.12, 4.74 4.12 M0.28 21.44 C6.59 17.81, 7.54 13.16, 18.65 0.31 M0.28 21.44 C4.53 16.74, 8.62 12.14, 18.65 0.31 M0.41 33.48 C7.89 24.51, 17.11 14.97, 29.28 0.27 M0.41 33.48 C7.4 25.56, 14.36 16.42, 29.28 0.27 M0.54 45.52 C11.8 35.28, 19.7 20.09, 39.91 0.24 M0.54 45.52 C11.88 33.03, 24.38 20.15, 39.91 0.24 M0.68 57.56 C17.15 37.56, 33.14 21.02, 50.54 0.21 M0.68 57.56 C17.27 40.14, 31.97 19.89, 50.54 0.21 M4.09 65.83 C16.83 51.6, 32.52 35.08, 60.51 0.93 M4.09 65.83 C19.8 49.22, 33.71 33.64, 60.51 0.93 M10.78 70.32 C24.62 54.38, 37.81 37.75, 71.14 0.89 M10.78 70.32 C31.47 46.22, 51.18 22.03, 71.14 0.89 M20.76 71.04 C34.13 53.21, 49.67 37.56, 81.77 0.86 M20.76 71.04 C43.22 46.65, 63.47 22.64, 81.77 0.86 M31.39 71.01 C50.16 51.04, 67.94 25.89, 92.4 0.82 M31.39 71.01 C48.28 51.35, 67.45 31.7, 92.4 0.82 M42.02 70.98 C56.54 55.84, 70.3 40.86, 103.03 0.79 M42.02 70.98 C57.39 52.58, 71.03 36.67, 103.03 0.79 M52.65 70.94 C68.39 55.25, 83.28 34.59, 113 1.51 M52.65 70.94 C71.65 47.75, 90.19 25.62, 113 1.51 M63.28 70.91 C76.97 54.77, 93.66 37.92, 119.7 6 M63.28 70.91 C84.3 46.08, 106.25 21, 119.7 6 M73.25 71.63 C85.47 57.67, 96.34 43.02, 123.77 13.51 M73.25 71.63 C87.36 53.15, 102.71 35.44, 123.77 13.51 M83.88 71.59 C94.15 57.35, 107.04 44.61, 123.9 25.55 M83.88 71.59 C92.56 60.17, 102 49, 123.9 25.55 M94.51 71.56 C100.17 63.25, 105.49 57.24, 123.38 38.35 M94.51 71.56 C102.83 61, 111.37 53.1, 123.38 38.35 M105.14 71.52 C110.15 63.77, 116.49 61.19, 123.51 50.39 M105.14 71.52 C109.99 66.5, 113.47 62.96, 123.51 50.39" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M17.79 0 C43.33 -1.07, 69.01 -1.09, 105.81 0 M17.79 0 C36.3 -0.66, 56.32 -1.39, 105.81 0 M105.81 0 C118.89 1.58, 122.41 5.53, 123.6 17.79 M105.81 0 C119.19 -1.6, 121.51 8.22, 123.6 17.79 M123.6 17.79 C124.68 27.61, 125.18 33.5, 123.6 53.37 M123.6 17.79 C124.37 27.82, 123.16 40.29, 123.6 53.37 M123.6 53.37 C125.43 63.45, 116.3 69.92, 105.81 71.16 M123.6 53.37 C125.51 67.01, 119.56 71.82, 105.81 71.16 M105.81 71.16 C81.52 71.12, 57.44 71.26, 17.79 71.16 M105.81 71.16 C74.22 71.56, 42.59 70.24, 17.79 71.16 M17.79 71.16 C7.51 69.54, -1.59 63.91, 0 53.37 M17.79 71.16 C4.56 69.35, -1.93 64.88, 0 53.37 M0 53.37 C1.67 42.24, 1.73 33.05, 0 17.79 M0 53.37 C-0.8 38.83, -0.21 24.72, 0 17.79 M0 17.79 C-1.9 4.34, 7.82 0.27, 17.79 0 M0 17.79 C-0.29 6.58, 7.86 0.97, 17.79 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(49.5888671875 144.35314382574688) rotate(0 22.2119140625 12.5)"><text x="22.2119140625" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">client</text></g><g stroke-linecap="round" transform="translate(223.38525405024757 10) rotate(0 46.477155548504925 143.3449778590912)"><path d="M5.53 6.13 C5.53 6.13, 5.53 6.13, 5.53 6.13 M5.53 6.13 C5.53 6.13, 5.53 6.13, 5.53 6.13 M0.41 24.21 C6.42 14.59, 13.71 7.23, 20.75 0.81 M0.41 24.21 C6.4 17.42, 14.04 9.69, 20.75 0.81 M0.55 36.25 C8.35 24.46, 17.51 14.38, 31.38 0.78 M0.55 36.25 C10.86 24.14, 20.9 12.92, 31.38 0.78 M0.68 48.29 C16.48 31.05, 31.4 12.76, 42.01 0.75 M0.68 48.29 C15.23 30.44, 28.78 13.96, 42.01 0.75 M0.81 60.33 C12.7 48.81, 22.65 36.22, 52.64 0.71 M0.81 60.33 C20.29 37.21, 40.13 14.48, 52.64 0.71 M0.29 73.13 C21.08 45.83, 43.76 24.1, 63.27 0.68 M0.29 73.13 C16.03 53.4, 33.71 33.96, 63.27 0.68 M0.42 85.17 C26.94 58.19, 51.8 28.71, 73.9 0.64 M0.42 85.17 C23.62 58.06, 47.82 31.14, 73.9 0.64 M0.56 97.21 C18.28 76.07, 33.27 59.64, 82.56 2.87 M0.56 97.21 C19.86 75.82, 38.6 53.35, 82.56 2.87 M0.69 109.25 C35.53 70.44, 68.37 29.36, 88.6 8.12 M0.69 109.25 C27.32 76.27, 55.42 44.29, 88.6 8.12 M0.82 121.29 C28.41 88.18, 58.91 55.23, 92.02 16.39 M0.82 121.29 C19.67 99.54, 38.26 78.51, 92.02 16.39 M0.3 134.09 C36.39 94.42, 73.61 52.5, 92.8 27.67 M0.3 134.09 C25.58 105.12, 50.98 76.66, 92.8 27.67 M0.43 146.13 C35.27 106.45, 68.37 67.1, 92.94 39.71 M0.43 146.13 C34.2 106.22, 69.3 68.27, 92.94 39.71 M0.57 158.17 C30.02 127.17, 60.37 91.15, 93.07 51.76 M0.57 158.17 C22.91 132.73, 44.48 107.39, 93.07 51.76 M0.7 170.21 C22.55 144.74, 47.18 116.61, 93.2 63.8 M0.7 170.21 C23.98 143.2, 47.72 116.53, 93.2 63.8 M0.83 182.25 C23.01 158.48, 44.34 133.04, 93.34 75.84 M0.83 182.25 C19.91 158.77, 39.95 136.74, 93.34 75.84 M0.31 195.05 C19.05 171.54, 40.82 148.39, 93.47 87.88 M0.31 195.05 C23.65 166.72, 48.38 137.75, 93.47 87.88 M0.44 207.09 C36.01 165.73, 74.85 123.78, 92.95 100.67 M0.44 207.09 C33.51 169.47, 66.14 132.57, 92.95 100.67 M0.58 219.13 C30.3 182.09, 63.41 144.46, 93.08 112.71 M0.58 219.13 C29.35 184.97, 60.43 149.92, 93.08 112.71 M0.71 231.17 C29.25 200.02, 54.89 166.68, 93.21 124.76 M0.71 231.17 C31.67 193.52, 63.92 157.08, 93.21 124.76 M0.84 243.21 C20.96 217.79, 42.33 193.38, 93.35 136.8 M0.84 243.21 C21.81 218.61, 44.1 192.99, 93.35 136.8 M0.32 256.01 C21.78 227.42, 47.25 200.21, 93.48 148.84 M0.32 256.01 C24.25 229.68, 46.58 202.47, 93.48 148.84 M0.45 268.05 C26.38 238.76, 48.65 209.9, 93.61 160.88 M0.45 268.05 C29.1 236.27, 56.73 203.58, 93.61 160.88 M3.87 276.31 C25.88 254.02, 45.6 229.88, 93.09 173.67 M3.87 276.31 C26.22 248.56, 49.64 222.49, 93.09 173.67 M8.59 283.07 C29.52 262.14, 45.5 239.17, 93.22 185.71 M8.59 283.07 C36.84 250.88, 64.45 217.49, 93.22 185.71 M16.6 286.06 C44.15 253.13, 73.51 218.75, 93.36 197.75 M16.6 286.06 C41.27 259.57, 63.68 232.27, 93.36 197.75 M26.57 286.78 C42.86 267.4, 63.27 244.72, 93.49 209.8 M26.57 286.78 C41.38 268.05, 58.79 249.69, 93.49 209.8 M37.2 286.74 C54.45 267.53, 69.68 249.56, 93.62 221.84 M37.2 286.74 C52.48 267.98, 70.24 250.13, 93.62 221.84 M47.83 286.71 C58.81 269.35, 74.06 255.14, 93.1 234.63 M47.83 286.71 C57.35 275.83, 66.22 263.7, 93.1 234.63 M58.46 286.67 C63.99 277.59, 71.38 269.63, 93.23 246.67 M58.46 286.67 C66.22 277.16, 75.12 266.55, 93.23 246.67 M69.09 286.64 C74.11 282.23, 79.73 275.75, 93.37 258.71 M69.09 286.64 C78.55 275.85, 87.52 265.98, 93.37 258.71 M82.35 283.58 C86.56 279.31, 89.43 274.35, 91.53 273.02 M82.35 283.58 C85.18 280.07, 88.92 276.05, 91.53 273.02" stroke="#ffffff" stroke-width="1" fill="none"></path><path d="M23.24 0 C32.78 1.01, 46.88 -0.89, 69.72 0 M23.24 0 C37.26 1.18, 49.46 0.19, 69.72 0 M69.72 0 C86.53 -1.39, 91.14 9.74, 92.95 23.24 M69.72 0 C83.43 1.42, 91.65 8.73, 92.95 23.24 M92.95 23.24 C94.42 118.94, 92.99 214.09, 92.95 263.45 M92.95 23.24 C92.49 73.6, 91.16 124.93, 92.95 263.45 M92.95 263.45 C94.61 280.48, 86.85 287.26, 69.72 286.69 M92.95 263.45 C92.5 276.94, 86.31 287.12, 69.72 286.69 M69.72 286.69 C58.14 286.89, 42.75 287.48, 23.24 286.69 M69.72 286.69 C52.16 285.71, 32.25 285.86, 23.24 286.69 M23.24 286.69 C6.55 285.11, -1.68 278.63, 0 263.45 M23.24 286.69 C7.21 285.82, 0.09 280.71, 0 263.45 M0 263.45 C0.06 207.95, -1.8 149.41, 0 23.24 M0 263.45 C-0.81 198.72, 0.77 135.42, 0 23.24 M0 23.24 C-0.25 8.31, 9.42 0.84, 23.24 0 M0 23.24 C-0.76 9.69, 7.94 1.91, 23.24 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(236.5469799112525 128.3449778590912) rotate(0 33.3154296875 25)"><text x="33.3154296875" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">api</text><text x="33.3154296875" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">gateway</text></g><g stroke-linecap="round"><g transform="translate(337.95024823652443 148.8254995576026) rotate(0 80.37115011700234 -32.611960363182334)"><path d="M-0.7 -0.14 C26.09 -11.3, 134.13 -55.55, 161.15 -66.24 M1.13 -1.26 C27.76 -12.37, 133.76 -54.43, 160.42 -65.24" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(337.95024823652443 148.8254995576026) rotate(0 80.37115011700234 -32.611960363182334)"><path d="M138.07 -45.22 C145.24 -51.14, 151.3 -57.34, 160.42 -65.24 M138.07 -45.22 C147.32 -53.46, 154.22 -59.35, 160.42 -65.24" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(337.95024823652443 148.8254995576026) rotate(0 80.37115011700234 -32.611960363182334)"><path d="M130.44 -64.27 C140.29 -63.74, 148.92 -63.53, 160.42 -65.24 M130.44 -64.27 C142.47 -65.27, 152.26 -63.95, 160.42 -65.24" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(140.27197545416084 155.28489391676703) rotate(0 39.47190311800534 0)"><path d="M0.41 -1.02 C13.81 -0.84, 66.71 0.82, 79.68 0.95 M-0.83 1.06 C12.53 0.93, 65.52 -0.66, 79.11 -0.68" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(140.27197545416084 155.28489391676703) rotate(0 39.47190311800534 0)"><path d="M28.86 -10.55 C20.28 -6.93, 16.67 -7.03, 0.41 -1.02 M28.86 -10.55 C20.04 -7.08, 12.21 -4.79, 0.41 -1.02" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(140.27197545416084 155.28489391676703) rotate(0 39.47190311800534 0)"><path d="M28.33 9.97 C19.9 8.63, 16.42 3.56, 0.41 -1.02 M28.33 9.97 C19.53 7.69, 11.84 4.24, 0.41 -1.02" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(140.27197545416084 155.28489391676703) rotate(0 39.47190311800534 0)"><path d="M51.1 10.07 C56.19 8.6, 66.24 3.59, 79.11 -0.68 M51.1 10.07 C57.97 8.25, 65.95 4.86, 79.11 -0.68" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(140.27197545416084 155.28489391676703) rotate(0 39.47190311800534 0)"><path d="M50.75 -10.45 C55.9 -6.96, 66.03 -7.01, 79.11 -0.68 M50.75 -10.45 C57.85 -6.52, 65.93 -4.16, 79.11 -0.68" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(327.8613771308885 175.46338655069667) rotate(0 81.29092357431307 31.910407413380653)"><path d="M0.73 0.95 C27.64 11.71, 134.76 53.24, 161.87 63.58 M-0.34 0.4 C26.92 11.44, 136.98 54.42, 164.2 64.99" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(327.8613771308885 175.46338655069667) rotate(0 81.29092357431307 31.910407413380653)"><path d="M30.72 1.63 C22.28 0.39, 10.28 2.68, 0.73 0.95 M30.72 1.63 C23.05 2.39, 16.34 2.04, 0.73 0.95" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(327.8613771308885 175.46338655069667) rotate(0 81.29092357431307 31.910407413380653)"><path d="M23.27 20.75 C17.48 13.07, 7.97 8.96, 0.73 0.95 M23.27 20.75 C17.48 17.03, 12.5 12.28, 0.73 0.95" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(327.8613771308885 175.46338655069667) rotate(0 81.29092357431307 31.910407413380653)"><path d="M134.21 64.31 C145.81 63.17, 153.86 65.9, 164.2 64.99 M134.21 64.31 C140.34 64.79, 147.46 64.76, 164.2 64.99" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(327.8613771308885 175.46338655069667) rotate(0 81.29092357431307 31.910407413380653)"><path d="M141.67 45.19 C150.61 50.48, 156.17 59.61, 164.2 64.99 M141.67 45.19 C145.9 50.15, 151.3 54.52, 164.2 64.99" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask></svg></span></span></div></div><div class="MuiGrid-root MuiGrid-item mui-1wxaqej"><span class="MuiTypography-root MuiTypography-caption mui-17cupi8">Retries</span></div></div></div></div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Lastly, one consequence of at-least-once execution is that we need to ensure our task code is idempotent. In other words, running the task multiple times should have the same outcome as running it just once.</div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Here are a few ways we can handle idempotency:</div><div class="my-6 flex flex-col gap-4"><div class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation0 MuiAccordion-root MuiAccordion-rounded MuiAccordion-gutters mui-ifi55z"><div class="MuiButtonBase-root MuiAccordionSummary-root MuiAccordionSummary-gutters mui-1ev8i4f" tabindex="0" role="button" aria-expanded="false" aria-controls="panel1bh-content" id="panel1bh-header"><div class="MuiAccordionSummary-content MuiAccordionSummary-contentGutters mui-l0jafl"><p class="MuiTypography-root MuiTypography-body1 mui-h8owmt">Bad Solution: No Idempotency Controls</p></div><div class="MuiAccordionSummary-expandIconWrapper mui-awtdfi"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ExpandMoreIcon"><path d="M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"></path></svg></div></div><div class="MuiCollapse-root MuiCollapse-vertical MuiCollapse-hidden mui-a0y2e3" style="min-height: 0px;"><div class="MuiCollapse-wrapper MuiCollapse-vertical mui-hboir5"><div class="MuiCollapse-wrapperInner MuiCollapse-vertical mui-8atqhb"><div aria-labelledby="panel1bh-header" id="panel1bh-content" role="region" class="MuiAccordion-region"><div class="MuiAccordionDetails-root mui-u7qq7e"><h6 class="MuiTypography-root MuiTypography-body1 mui-1quhbks" id="approach-6">Approach</h6><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">The simplest approach is to just execute the job every time it's received. For example, if the job is "send welcome email", we would send the email each time the job is processed, potentially resulting in duplicate emails.</div><h6 class="MuiTypography-root MuiTypography-body1 mui-1quhbks" id="challenges-4">Challenges</h6><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">This can lead to serious data consistency issues. A job that transfers money could transfer it multiple times. A job that updates a counter could increment it too many times. This is clearly not acceptable for most real-world applications.</div></div></div></div></div></div></div><div class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation0 MuiAccordion-root MuiAccordion-rounded MuiAccordion-gutters mui-nhbct3"><div class="MuiButtonBase-root MuiAccordionSummary-root MuiAccordionSummary-gutters mui-guv1gb" tabindex="0" role="button" aria-expanded="false" aria-controls="panel1bh-content" id="panel1bh-header"><div class="MuiAccordionSummary-content MuiAccordionSummary-contentGutters mui-l0jafl"><p class="MuiTypography-root MuiTypography-body1 mui-h8owmt">Good Solution: Deduplication Table</p></div><div class="MuiAccordionSummary-expandIconWrapper mui-awtdfi"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ExpandMoreIcon"><path d="M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"></path></svg></div></div><div class="MuiCollapse-root MuiCollapse-vertical MuiCollapse-hidden mui-a0y2e3" style="min-height: 0px;"><div class="MuiCollapse-wrapper MuiCollapse-vertical mui-hboir5"><div class="MuiCollapse-wrapperInner MuiCollapse-vertical mui-8atqhb"><div aria-labelledby="panel1bh-header" id="panel1bh-content" role="region" class="MuiAccordion-region"><div class="MuiAccordionDetails-root mui-u7qq7e"><h6 class="MuiTypography-root MuiTypography-body1 mui-1quhbks" id="approach-7">Approach</h6><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Before executing a job, we check a deduplication table to see if this specific job execution has already been processed. We store each successful job execution with a unique identifier combining the job ID and execution timestamp. If we find a matching record, we skip the execution.</div><h6 class="MuiTypography-root MuiTypography-body1 mui-1quhbks" id="challenges-5">Challenges</h6><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">This adds database operations to every job execution and requires maintaining another table. The deduplication table needs to be cleaned up periodically to prevent unbounded growth. There's also a small race condition window between checking and writing to the deduplication table.</div></div></div></div></div></div></div><div class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation0 MuiAccordion-root MuiAccordion-rounded MuiAccordion-gutters mui-11r69q9"><div class="MuiButtonBase-root MuiAccordionSummary-root MuiAccordionSummary-gutters mui-3ujfba" tabindex="0" role="button" aria-expanded="false" aria-controls="panel1bh-content" id="panel1bh-header"><div class="MuiAccordionSummary-content MuiAccordionSummary-contentGutters mui-l0jafl"><p class="MuiTypography-root MuiTypography-body1 mui-h8owmt">Great Solution: Idempotent Job Design</p></div><div class="MuiAccordionSummary-expandIconWrapper mui-awtdfi"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ExpandMoreIcon"><path d="M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"></path></svg></div></div><div class="MuiCollapse-root MuiCollapse-vertical MuiCollapse-hidden mui-a0y2e3" style="min-height: 0px;"><div class="MuiCollapse-wrapper MuiCollapse-vertical mui-hboir5"><div class="MuiCollapse-wrapperInner MuiCollapse-vertical mui-8atqhb"><div aria-labelledby="panel1bh-header" id="panel1bh-content" role="region" class="MuiAccordion-region"><div class="MuiAccordionDetails-root mui-u7qq7e"><h6 class="MuiTypography-root MuiTypography-body1 mui-1quhbks" id="approach-8">Approach</h6><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Design jobs to be naturally idempotent by using idempotency keys and conditional operations. For example, instead of "increment counter", the job would be "set counter to X". Instead of "send welcome email", we'd first check if the welcome email flag is already set in the user's profile. Each job execution includes a unique identifier that downstream services can use to deduplicate requests.</div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">This is the most robust approach, essentially offloading idempotency concerns to the task's implementation.</div></div></div></div></div></div></div></div><h2 class="MuiTypography-root MuiTypography-h3 mui-1rzqq5q" id="what-is-expected-at-each-level"><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://www.hellointerview.com/blog/the-system-design-interview-what-is-expected-at-each-level" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">What is Expected at Each Level?</a></h2><h3 class="MuiTypography-root MuiTypography-h4 mui-hkpafq" id="mid-level">Mid-level</h3><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Mid-level candidates are expected to be able to produce a reasonably high-level design with a clear and cohesive data model. From there, they should be able to respond appropriately to interviewer inquiries about durability, precise scheduling, and retries. I don't expect them to know the right answers to these questions without guidance, but I do expect to see strong problem-solving skills and an ability to work with me, the interviewer, to arrive at reasonable solutions.</div><h3 class="MuiTypography-root MuiTypography-h4 mui-hkpafq" id="senior">Senior</h3><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">For senior candidates, I expect much more autonomy. They should lead the conversation around two deep dives and show some hands-on experience with any of the relevant technologies. They should specifically be able to articulate the need for a two-phased architecture, even if they choose Redis or a different option for the priority queue. I want to see that they proactively identify issues and quickly adapt to scenarios I throw their way, like "what happens if a worker goes down mid-job execution."</div><h3 class="MuiTypography-root MuiTypography-h4 mui-hkpafq" id="staff">Staff+</h3><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Staff candidates are the cream of the crop. I expect they breeze through the setup and the high-level design and spend most of their time leading deep dives. They should proactively lead the discussion and understand the major bottlenecks of the system, proposing well-justified solutions. Typically, they'll have a deep understanding of at least one technology in question and be able to explain, justified with hands-on experience, why one approach is better than another. As always, while not a strict requirement, the best staff candidates have the ability to teach the interviewer something, no matter how small.</div></div>
</body>
</html>