<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ticketmaster System Design Interview Guide</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div><div class="flex flex-col gap-2 md:gap-4"><div class="flex flex-col"><h6 class="MuiTypography-root MuiTypography-h6 mui-zfm63x">Common Problems</h6><h1 class="MuiTypography-root MuiTypography-h2 mui-161snwm">Design a Ticket Booking Site Like Ticketmaster</h1></div><div class="flex flex-col md:flex-row gap-2 md:items-center justify-between"><div class="flex flex-col lg:flex-row gap-4 md:items-center"><a target="_blank" rel="noopener noreferrer" class="flex flex-row gap-2 items-center" href="https://www.linkedin.com/in/evan-king-40072280/" style="text-decoration: none;"><img class="rounded-full" src="https://hellointerview-files.s3.us-west-2.amazonaws.com/public-media/evan-headshot.png" alt="Evan King" width="40" height="40"><div class="flex flex-col"><div class="flex flex-row gap-2 items-center"><p class="MuiTypography-root MuiTypography-body2 mui-ltrqv0">Evan King</p><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeInherit mui-70s7oy" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="LinkedInIcon"><path d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z"></path></svg></div><span class="MuiTypography-root MuiTypography-caption mui-1eozzb8">Ex-Meta Staff Engineer</span></div></a><div class="flex flex-row gap-4 md:gap-8 items-center"><div class="flex flex-row gap-1 items-center" aria-label="Difficulty"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-5 h-5 text-gray-500"><path stroke-linecap="round" stroke-linejoin="round" d="M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z"></path></svg><p class="MuiTypography-root MuiTypography-body2 mui-su24yt">medium</p></div><div class="flex flex-row gap-1 items-center" aria-label="Average time allowed in interview"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-5 h-5 text-gray-500"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"></path></svg><p class="MuiTypography-root MuiTypography-body2 mui-1pb8xyp">35 min</p></div></div></div><a class="MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary MuiButton-sizeSmall MuiButton-containedSizeSmall MuiButton-colorPrimary MuiButton-disableElevation MuiButton-root MuiButton-contained MuiButton-containedPrimary MuiButton-sizeSmall MuiButton-containedSizeSmall MuiButton-colorPrimary MuiButton-disableElevation mui-1c7cv5a" tabindex="0" href="/practice/system-design/start/ticketmaster" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-5 h-5 mr-1"><path stroke-linecap="round" stroke-linejoin="round" d="M15.042 21.672 13.684 16.6m0 0-2.51 2.225.569-9.47 5.227 7.917-3.286-.672ZM12 2.25V4.5m5.834.166-1.591 1.591M20.25 10.5H18M7.757 14.743l-1.59 1.59M6 10.5H3.75m4.007-4.243-1.59-1.59"></path></svg>Practice this problem<span class="MuiTouchRipple-root mui-w0pj6f"></span></a></div></div><hr class="MuiDivider-root MuiDivider-fullWidth mui-1rvhejo"></div>
<div class="mb-4"><iframe class="w-full aspect-video" src="https://www.youtube.com/embed/fhdPyoO6aXI" title="System Design Interview: Design Ticketmaster w/ a Ex-Meta Staff Engineer" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
<h2 class="MuiTypography-root MuiTypography-h3 mui-1rzqq5q" id="understanding-the-problem">Understanding the Problem</h2>
<div class="my-6"><div class="MuiBox-root mui-1fz7ihe"><div class="MuiBox-root mui-79elbk"><div style="overflow: hidden; max-height: 300px;"><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><strong>üéüÔ∏è What is <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://www.ticketmaster.com/" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Ticketmaster</a>?</strong>
Ticketmaster is an online platform that allows users to purchase tickets for concerts, sports events, theater, and other live entertainment.</div></div></div></div></div>
<h3 class="MuiTypography-root MuiTypography-h4 mui-hkpafq" id="functional-requirements"><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://www.hellointerview.com/learn/system-design/in-a-hurry/delivery#1-functional-requirements" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Functional Requirements</a></h3>
<div class="my-6"><div class="MuiBox-root mui-14bc8gt"><div class="MuiBox-root mui-zvu67g"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-6 h-6 heroicon-sw-2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"></path></svg></div><div class="MuiBox-root mui-79elbk"><div style="overflow: hidden; max-height: 300px;"><ol style="list-style: outside decimal;">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Start your interview by defining the functional and non-functional requirements. For user facing applications like this one, functional requirements are the "Users should be able to..." statements whereas non-functional defines the system qualities via "The system should..." statements.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Prioritize the top 3 functional requirements. Everything else shows your product thinking, but clearly note it as "below the line" so the interviewer knows you won't be including them in your design. Check in to see if your interviewer wants to move anything above the line or move anything down. Choosing just the top 3 is important to ensuring you stay focused and can execute in the limited time window.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">When evaluating non-functional requirements, it's crucial to uncover the distinct characteristics that make this system challenging or unique. To help you identify these, consider the following questions:
<ol style="list-style: outside decimal;">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>CAP theorem:</strong> Does this system prioritize availability or consistency? Note, that in some cases, the answer is different depending on the part of the system -- as you'll see is the case here.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Read vs write ratio:</strong> is this a read heavy system or write heavy? Are either notably heavy for any reason?</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Query access pattern:</strong> Is the access pattern of the system regular or are their patterns or bursts that require particular attention. For example, the holidays for shopping sites or popular events for ticket booking.</div></li>
</ol>
</div></li>
</ol></div><div class="MuiBox-root mui-1gdegwm"></div><button class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeSmall MuiButton-textSizeSmall MuiButton-colorPrimary MuiButton-disableElevation MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeSmall MuiButton-textSizeSmall MuiButton-colorPrimary MuiButton-disableElevation mui-149rsyb" tabindex="0" type="button">Show More<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="h-4 w-4"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5"></path></svg><span class="MuiTouchRipple-root mui-w0pj6f"></span></button></div></div></div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><strong>Core Requirements</strong></div>
<ol style="list-style: outside decimal;">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Users should be able to view events</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Users should be able to search for events</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Users should be able to book tickets to events</div></li>
</ol>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><strong>Below the line (out of scope):</strong></div>
<ol style="list-style: outside decimal;">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Users should be able to view their booked events</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Admins or event coordinators should be able to add events</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Popular events should have dynamic pricing</div></li>
</ol>
<h3 class="MuiTypography-root MuiTypography-h4 mui-hkpafq" id="non-functional-requirements"><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://www.hellointerview.com/learn/system-design/in-a-hurry/delivery#2-non-functional-requirements" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Non-Functional Requirements</a></h3>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><strong>Core Requirements</strong></div>
<ol style="list-style: outside decimal;">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">The system should prioritize availability for searching &amp; viewing events, but should
prioritize consistency for booking events (no double booking)</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">The system should be scalable and able to handle high throughput in the form of popular
events (10 million users, one event)</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">The system should have low latency search (&lt; 500ms)</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">The system is read heavy, and thus needs to be able to support high read throughput (100:1)</div></li>
</ol>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><strong>Below the line (out of scope):</strong></div>
<ol style="list-style: outside decimal;">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">The system should protect user data and adhere to GDPR</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">The system should be fault tolerant</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">The system should provide secure transactions for purchases</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">The system should be well tested and easy to deploy (CI/CD pipelines)</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">The system should have regular backups</div></li>
</ol>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Here's how it might look on your whiteboard:</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><div class="MuiBox-root mui-10khgmf" style="cursor: pointer;"><div class="MuiGrid-root MuiGrid-container MuiGrid-direction-xs-column mui-1tdxmx0"><div class="MuiGrid-root MuiGrid-item mui-tolxbf"><div class="relative w-full"><button class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall mui-wksd04" tabindex="0" type="button" aria-label="zoom-in"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ZoomInIcon"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"></path><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"></path></svg><span class="MuiTouchRipple-root mui-w0pj6f"></span></button><span class="w-full h-full"><span class="block"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1181.303723280777 446.01170744600927">
  <!-- svg-source:excalidraw -->
  <!-- payload-type:application/vnd.excalidraw+json --><!-- payload-version:2 -->
  <defs>
    <style class="style-fonts">
      
      
      
    </style>
    
  </defs>
  <rect x="0" y="0" width="1181.303723280777" height="446.01170744600927" fill="#ffffff"></rect><g transform="translate(10 63.29059145774636) rotate(0 213.64971923828125 137.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Functional Requirements</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge"></text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">1. View upcoming events</text><text x="0" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">2. Book tickets to upcoming events</text><text x="0" y="100" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">3. Search for upcoming events</text><text x="0" y="125" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge"></text><text x="0" y="150" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">---------------- Below the line -----------------</text><text x="0" y="175" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge"></text><text x="0" y="200" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- View their booked tickets</text><text x="0" y="225" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- Admins flows (adding/editing/etc)</text><text x="0" y="250" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- Dynamic pricing for popular events</text></g><g transform="translate(488.18427747999567 61.01170744600921) rotate(0 341.5597229003906 187.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Non-functional Requirements</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge"></text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">1. Availability for searching &amp; viewing events, Consistency for booking </text><text x="0" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">    events (no double booking)</text><text x="0" y="100" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">2. Handle popular events</text><text x="0" y="125" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">3. low latency search (&lt;500ms)</text><text x="0" y="150" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">3. Read &gt;&gt; write</text><text x="0" y="175" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge"></text><text x="0" y="200" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">---------------- Below the line -----------------</text><text x="0" y="225" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge"></text><text x="0" y="250" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- GDPR</text><text x="0" y="275" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- Backups</text><text x="0" y="300" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- CI/CD</text><text x="0" y="325" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- Fault tolerance</text><text x="0" y="350" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- Purchase path security</text></g><g stroke-linecap="round" transform="translate(10.787812517543102 10) rotate(0 390.2385635635384 8.929052660480664)"><path d="M4.46 0 C278.02 -0.26, 551.89 -1.1, 776.01 0 M4.46 0 C205.56 0.15, 406.95 0.08, 776.01 0 M776.01 0 C779.63 -0.89, 781.63 -0.18, 780.48 4.46 M776.01 0 C779.73 0.13, 782.51 -0.17, 780.48 4.46 M780.48 4.46 C780.93 8.07, 780.33 10.53, 780.48 13.39 M780.48 4.46 C779.99 6.96, 780.8 10.31, 780.48 13.39 M780.48 13.39 C780.43 15.31, 780.3 19.35, 776.01 17.86 M780.48 13.39 C780.71 17.14, 777.38 19.4, 776.01 17.86 M776.01 17.86 C619.53 20.92, 464.87 19.52, 4.46 17.86 M776.01 17.86 C596.14 19.33, 416.95 19.61, 4.46 17.86 M4.46 17.86 C1.43 19.5, -1.89 14.92, 0 13.39 M4.46 17.86 C0.58 19.39, 1.16 16.57, 0 13.39 M0 13.39 C0.45 10.99, 0.23 7.63, 0 4.46 M0 13.39 C-0.31 10.95, -0.05 8.64, 0 4.46 M0 4.46 C1.75 3.27, -0.3 1.9, 4.46 0 M0 4.46 C0.82 -0.24, 2.85 -0.42, 4.46 0" stroke="transparent" stroke-width="2" fill="none"></path></g></svg></span></span></div></div><div class="MuiGrid-root MuiGrid-item mui-1wxaqej"><span class="MuiTypography-root MuiTypography-caption mui-17cupi8">Requirements</span></div></div></div></div>
<div class="mt-6"><div class="MuiBox-root mui-o9fqh4"><div class="MuiBox-root mui-3t6lyr"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-6 h-6 heroicon-sw-2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"></path></svg></div><div class="MuiBox-root mui-79elbk"><div style="overflow: hidden; max-height: 300px;"><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Adding features that are out of scope is a "nice to have". It shows product thinking and gives your interviewer a chance to help you reprioritize based on what they want to see in the interview. That said, it's very much a nice to have. If additional features are not coming to you quickly, don't waste your time and move on.</div></div></div></div></div>
<h2 class="MuiTypography-root MuiTypography-h3 mui-1rzqq5q" id="the-set-up">The Set Up</h2>
<h3 class="MuiTypography-root MuiTypography-h4 mui-hkpafq" id="planning-the-approach">Planning the Approach</h3>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Before you move on to designing the system, it's important to start by taking a moment to plan your strategy. Fortunately, for these common user-facing product-style questions, the plan should be straightforward: build your design up sequentially, going one by one through your functional requirements. This will help you stay focused and ensure you don't get lost in the weeds as you go. Once you've satisfied the functional requirements, you'll rely on your non-functional requirements to guide you through the deep dives.</div>
<h3 class="MuiTypography-root MuiTypography-h4 mui-hkpafq" id="defining-the-core-entities"><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://www.hellointerview.com/learn/system-design/in-a-hurry/delivery#core-entities-2-minutes" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Defining the Core Entities</a></h3>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">I like to begin with a broad overview of the primary entities. At this stage, it is not necessary to know every specific column or detail. We will focus on the intricacies, such as columns and fields, later when we have a clearer grasp. Initially, establishing these key entities will guide our thought process and lay a solid foundation as we progress towards defining the API.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">To satisfy our key functional requirements, we'll need the following entities:</div>
<ol style="list-style: outside decimal;">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Event</strong>: This entity stores essential information about an event, including details like the date, description, type, and the performer or team involved. It acts as the central point of information for each unique event.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>User</strong>: Represents the individual interacting with the system. Needs no further explanation.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Performer</strong>: Represents the individual or group performing or participating in the event. Key attributes for this entity include the performer's name, a brief description, and potentially links to their work or profiles. (Note: this could be artist, company, collective ‚Äî a lot of different entities. The choice of ‚Äúperformer‚Äù is intending to be general enough to cover all possible groups)</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Venue</strong>: Represents the physical location where an event is held. Each venue entity includes details such as address, capacity, and a specific seat map, providing a layout of seating arrangements unique to the venue.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Ticket</strong>: Contains information related to individual tickets for events. This includes attributes such as the associated event ID, seat details (like section, row, and seat number), pricing, and status (available or sold).</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Booking</strong>: Records the details of a user's ticket purchase. It typically includes the user ID, a list of ticket IDs being booked, total price, and booking status (such as in-progress or confirmed). This entity is key in managing the transaction aspect of the ticket purchasing process.</div></li>
</ol>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">In the actual interview, this can be as simple as a short list like this. Just make sure you talk through the entities with your interviewer to ensure you are on the same page.</div>
<div class="max-w-[200px]"><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><div class="MuiBox-root mui-10khgmf" style="cursor: pointer;"><div class="MuiGrid-root MuiGrid-container MuiGrid-direction-xs-column mui-1tdxmx0"><div class="MuiGrid-root MuiGrid-item mui-tolxbf"><div class="relative w-full"><button class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall mui-wksd04" tabindex="0" type="button" aria-label="zoom-in"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ZoomInIcon"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"></path><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"></path></svg><span class="MuiTouchRipple-root mui-w0pj6f"></span></button><span class="w-full h-full"><span class="block"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 149.47987365722656 220">
  <!-- svg-source:excalidraw -->
  <!-- payload-type:application/vnd.excalidraw+json --><!-- payload-version:2 -->
  <defs>
    <style class="style-fonts">
      
      
      
    </style>
    
  </defs>
  <rect x="0" y="0" width="149.47987365722656" height="220" fill="#ffffff"></rect><g transform="translate(10 10) rotate(0 64.73993682861328 100)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Core Entities</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge"></text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- Events</text><text x="0" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- Users</text><text x="0" y="100" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- venues</text><text x="0" y="125" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- Performers</text><text x="0" y="150" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- Tickets</text><text x="0" y="175" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- Bookings</text></g></svg></span></span></div></div><div class="MuiGrid-root MuiGrid-item mui-1wxaqej"><span class="MuiTypography-root MuiTypography-caption mui-17cupi8">Entities</span></div></div></div></div></div>
<div class="my-6"><div class="MuiBox-root mui-1147lff"><div class="MuiBox-root mui-zvu67g"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-6 h-6 heroicon-sw-2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"></path></svg></div><div class="MuiBox-root mui-79elbk"><div style="overflow: hidden; max-height: 300px;"><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">As you move onto the design, your objective is simple: create a system that meets all functional and non-functional requirements. To do this, I recommend you start by satisfying the functional requirements and then layer in the non-functional requirements afterward. This will help you stay focused and ensure you don't get lost in the weeds as you go.</div></div></div></div></div>
<h3 class="MuiTypography-root MuiTypography-h4 mui-hkpafq" id="api-or-system-interface"><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://www.hellointerview.com/learn/system-design/in-a-hurry/delivery#api-or-system-interface-5-minutes" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">API or System Interface</a></h3>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">The API for viewing events is straightforward. We create a simple GET endpoint that takes in an eventId and return the details of that event.</div>
<pre><div class="MuiBox-root mui-xnilmx"><div class="MuiBox-root mui-v2ritd"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-4 h-4  cursor-pointer" aria-label="Copy"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg></div><div style="background: rgb(250, 250, 250); color: rgb(56, 58, 66); font-family: &quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; line-height: 1.5; tab-size: 2; hyphens: none; padding: 1em; margin: 0px; overflow: auto; border-radius: 0.375rem; border: none;"><code font-size="18" style="white-space: pre;"><span>GET /events/:eventId -&gt; Event &amp; Venue &amp; Performer &amp; Ticket[]
</span>
- tickets are to render the seat map on the Client</code></div></div></pre>
<div class="my-6"><div class="MuiBox-root mui-1147lff"><div class="MuiBox-root mui-zvu67g"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-6 h-6 heroicon-sw-2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"></path></svg></div><div class="MuiBox-root mui-79elbk"><div style="overflow: hidden; max-height: 300px;"><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">In most instances, your interviewer will be able to read between the lines of your core entities and the requirement we‚Äôre satisfying to understand the data returned by the API. They will either tell you or you can ask them if they‚Äôd like you to go into additional detail but be cautious about being over-verbose - you have a lot of ground to cover and enumerating the fields in the Event object may not be the best use of your time!</div></div></div></div></div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Next, for search, we just need a single GET endpoint that takes in a set of search parameters and returns a list of events that match those parameters.</div>
<pre><div class="MuiBox-root mui-xnilmx"><div class="MuiBox-root mui-v2ritd"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-4 h-4  cursor-pointer" aria-label="Copy"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg></div><div style="background: rgb(250, 250, 250); color: rgb(56, 58, 66); font-family: &quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; line-height: 1.5; tab-size: 2; hyphens: none; padding: 1em; margin: 0px; overflow: auto; border-radius: 0.375rem; border: none;"><code font-size="18" style="white-space: pre;"><span>GET /events/search?keyword={keyword}&amp;start={start_date}&amp;end={end_date}&amp;pageSize={page_size}&amp;page={page_number} -&gt; Event[]</span></code></div></div></pre>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">When it comes to purchasing/booking a ticket, we have a post endpoint that takes the list of tickets and payment payment details and returns a bookingId.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Later in the design, we'll evolve this into two separate endpoints - one for reserving a ticket and one for confirming a purchase, but this is a good starting point.</div>
<pre><div class="MuiBox-root mui-xnilmx"><div class="MuiBox-root mui-v2ritd"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-4 h-4  cursor-pointer" aria-label="Copy"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg></div><div style="background: rgb(250, 250, 250); color: rgb(56, 58, 66); font-family: &quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; line-height: 1.5; tab-size: 2; hyphens: none; padding: 1em; margin: 0px; overflow: auto; border-radius: 0.375rem; border: none;"><code font-size="18" style="white-space: pre;"><span>POST /bookings/:eventId -&gt; bookingId
</span> {
   "ticketIds": string[], 
   "paymentDetails": ...
 }</code></div></div></pre>
<div class="my-6"><div class="MuiBox-root mui-1147lff"><div class="MuiBox-root mui-zvu67g"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-6 h-6 heroicon-sw-2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"></path></svg></div><div class="MuiBox-root mui-79elbk"><div style="overflow: hidden; max-height: 300px;"><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">It's ok to have simple APIs from the start that you evolve as your design progresses. As always, just communicate, "Here is a simple API to start, but as we get into the design, we'll likely need to evolve this to handle more complex scenarios."</div></div></div></div></div>
<h2 class="MuiTypography-root MuiTypography-h3 mui-1rzqq5q" id="high-level-design"><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://www.hellointerview.com/learn/system-design/in-a-hurry/delivery#high-level-design-10-15-minutes" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">High-Level Design</a></h2>
<h3 class="MuiTypography-root MuiTypography-h4 mui-hkpafq" id="1-users-should-be-able-to-view-events">1) Users should be able to view events</h3>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">When a user navigates to <span class="MuiBox-root mui-1vu004u">www.yourticketmaster.com/event/:eventId</span> they should see details about that event. Crucially, this should include a seatmap showing seat availability. The page will also display the event's name, along with a description. Key information such as the location (including venue details), event dates, and facts about the performers or teams involved could be outlined.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">We start by laying out the core components for communicating between the client and our microservices. We add our first service, "Event Service," which connects to a database that stores the event, venue, and performer data outlined in the Core Entities above. This service will handle the reading/viewing of events.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><div class="MuiBox-root mui-10khgmf" style="cursor: pointer;"><div class="MuiGrid-root MuiGrid-container MuiGrid-direction-xs-column mui-1tdxmx0"><div class="MuiGrid-root MuiGrid-item mui-tolxbf"><div class="relative w-full"><button class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall mui-wksd04" tabindex="0" type="button" aria-label="zoom-in"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ZoomInIcon"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"></path><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"></path></svg><span class="MuiTouchRipple-root mui-w0pj6f"></span></button><span class="w-full h-full"><span class="block"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1798.8153147453313 411.85223834202714">
  <!-- svg-source:excalidraw -->
  <!-- payload-type:application/vnd.excalidraw+json --><!-- payload-version:2 -->
  <defs>
    <style class="style-fonts">
      
      
      
    </style>
    
  </defs>
  <rect x="0" y="0" width="1798.8153147453313" height="411.85223834202714" fill="#ffffff"></rect><g stroke-linecap="round" transform="translate(10 158.98799285591667) rotate(0 66.41791896430016 54.30053481342259)"><path d="M27.15 0 C46.85 0.38, 61.91 0.32, 105.69 0 M27.15 0 C51.94 -0.95, 77.62 -0.93, 105.69 0 M105.69 0 C122.16 1.07, 131.31 8.32, 132.84 27.15 M105.69 0 C124.17 2.17, 131.83 8.49, 132.84 27.15 M132.84 27.15 C134.07 44.84, 131.74 61.22, 132.84 81.45 M132.84 27.15 C132.93 48.33, 133.52 69.28, 132.84 81.45 M132.84 81.45 C133.31 99.17, 123.21 108.03, 105.69 108.6 M132.84 81.45 C131.11 97.59, 123.1 108.3, 105.69 108.6 M105.69 108.6 C75.72 108.7, 45.16 109.72, 27.15 108.6 M105.69 108.6 C75.95 107.89, 47.4 108.1, 27.15 108.6 M27.15 108.6 C7.08 107.48, -0.05 97.99, 0 81.45 M27.15 108.6 C7.56 109.94, -0.14 99.73, 0 81.45 M0 81.45 C1.24 68.48, 0.6 51.02, 0 27.15 M0 81.45 C-0.36 60.3, 0.19 38.53, 0 27.15 M0 27.15 C-0.47 7.93, 10.86 -1.02, 27.15 0 M0 27.15 C-1.02 7.57, 7.03 1.58, 27.15 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(51.974559589300156 200.78852766933926) rotate(0 24.443359375 12.5)"><text x="24.443359375" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Client</text></g><g stroke-linecap="round" transform="translate(273.2528845617529 10) rotate(0 91.13351565247496 195.92611917101357)"><path d="M32 0 C69.38 -1.52, 107.28 -1.76, 150.27 0 M32 0 C62.66 0.91, 94.18 0.01, 150.27 0 M150.27 0 C171.93 1.88, 181.4 10.18, 182.27 32 M150.27 0 C171.67 -1.06, 180.73 12.37, 182.27 32 M182.27 32 C182.53 150.2, 182.55 269.66, 182.27 359.85 M182.27 32 C184.36 132.85, 184 233.77, 182.27 359.85 M182.27 359.85 C180.77 379.48, 171.01 391.59, 150.27 391.85 M182.27 359.85 C184.5 382.94, 172.06 393.26, 150.27 391.85 M150.27 391.85 C116.62 391.89, 78.94 391.87, 32 391.85 M150.27 391.85 C117.41 391.18, 86.49 390.96, 32 391.85 M32 391.85 C9.37 393.01, -0.12 381.34, 0 359.85 M32 391.85 C9.82 392.55, -0.83 382.8, 0 359.85 M0 359.85 C0.41 238.61, -1.96 118.57, 0 32 M0 359.85 C0.45 255.64, 1.24 151.84, 0 32 M0 32 C-0.89 9.38, 8.91 1.37, 32 0 M0 32 C0.43 10.92, 12.3 0.11, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(301.9108142767279 155.92611917101357) rotate(0 62.4755859375 50.00000000000003)"><text x="62.4755859375" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">API Gateway</text><text x="62.4755859375" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- authentication</text><text x="62.4755859375" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- rate limiting</text><text x="62.4755859375" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- routing</text></g><g stroke-linecap="round"><g transform="translate(156.9605616707032 213.16166428831866) rotate(0 56.380367405738525 -0.5551085060830019)"><path d="M-0.99 -0.41 C17.79 -0.81, 93.03 -1.48, 111.83 -1.49 M0.68 -1.67 C19.91 -1.98, 95.14 -0.02, 114.05 -0.16" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(156.9605616707032 213.16166428831866) rotate(0 56.380367405738525 -0.5551085060830019)"><path d="M27.08 -10.98 C20.06 -10.34, 13.67 -7.99, -0.99 -0.41 M27.08 -10.98 C17.24 -6.4, 6.72 -3.85, -0.99 -0.41" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(156.9605616707032 213.16166428831866) rotate(0 56.380367405738525 -0.5551085060830019)"><path d="M27.31 9.54 C20.07 5.48, 13.63 3.13, -0.99 -0.41 M27.31 9.54 C17.55 6.87, 6.94 2.16, -0.99 -0.41" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(156.9605616707032 213.16166428831866) rotate(0 56.380367405738525 -0.5551085060830019)"><path d="M85.75 9.79 C91.48 6.19, 98 3.85, 114.05 -0.16 M85.75 9.79 C95.99 7.32, 105.39 2.62, 114.05 -0.16" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(156.9605616707032 213.16166428831866) rotate(0 56.380367405738525 -0.5551085060830019)"><path d="M85.98 -10.73 C91.81 -9.63, 98.28 -7.28, 114.05 -0.16 M85.98 -10.73 C95.98 -5.95, 105.3 -3.4, 114.05 -0.16" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(680.0516580664367 145.26426297225953) rotate(0 133.45758189228422 69.29831816266892)"><path d="M32 0 C75.49 -0.04, 121.07 0.05, 234.92 0 M32 0 C85.11 -1.93, 139.02 -2.12, 234.92 0 M234.92 0 C254.91 1.48, 268.15 9.82, 266.92 32 M234.92 0 C257.6 2.04, 266.17 12.73, 266.92 32 M266.92 32 C266.84 56.87, 266.59 80.21, 266.92 106.6 M266.92 32 C266.06 52.13, 267.33 73.29, 266.92 106.6 M266.92 106.6 C267.32 129.15, 256.19 140.45, 234.92 138.6 M266.92 106.6 C268.02 129.66, 255.63 137.42, 234.92 138.6 M234.92 138.6 C179.47 137.99, 123.37 139.7, 32 138.6 M234.92 138.6 C189.78 139.72, 144.42 139.92, 32 138.6 M32 138.6 C9.95 140, 1.33 128.7, 0 106.6 M32 138.6 C8.56 140.73, -1.94 126.08, 0 106.6 M0 106.6 C-0.7 89.83, -1.24 75.81, 0 32 M0 106.6 C-0.55 88.7, 0.52 69.54, 0 32 M0 32 C1.42 10.76, 11.07 -0.99, 32 0 M0 32 C-0.19 12.77, 8.47 2.13, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(757.698693083721 202.06258113492845) rotate(0 55.810546875 12.5)"><text x="55.810546875" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Event Service</text></g><g stroke-linecap="round"><g transform="translate(470.0909273878159 223.0257545916911) rotate(0 98.12245388739251 1.71820194628026)"><path d="M-0.91 -0.44 C31.99 0.22, 163.67 3.97, 196.44 4.57 M0.81 -1.71 C33.66 -1.42, 163.29 2.04, 195.6 3.04" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(470.0909273878159 223.0257545916911) rotate(0 98.12245388739251 1.71820194628026)"><path d="M27.53 -9.97 C20.63 -7.77, 17.01 -6.88, -0.91 -0.44 M27.53 -9.97 C19.03 -6.73, 12.48 -5.27, -0.91 -0.44" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(470.0909273878159 223.0257545916911) rotate(0 98.12245388739251 1.71820194628026)"><path d="M27 10.55 C20.11 8.26, 16.6 4.65, -0.91 -0.44 M27 10.55 C18.64 8.13, 12.24 3.95, -0.91 -0.44" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(470.0909273878159 223.0257545916911) rotate(0 98.12245388739251 1.71820194628026)"><path d="M167.13 12.5 C172.59 10.98, 181.43 7.7, 195.6 3.04 M167.13 12.5 C174.3 10.76, 183.43 7, 195.6 3.04" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(470.0909273878159 223.0257545916911) rotate(0 98.12245388739251 1.71820194628026)"><path d="M167.71 -8.01 C173.15 -5.05, 181.87 -3.83, 195.6 3.04 M167.71 -8.01 C174.73 -4.1, 183.7 -2.22, 195.6 3.04" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(1122.8556036195332 99.56806051605417) rotate(0 112.92030416412285 108.78506994587957)"><path d="M88.06 1.9 C100.45 -2.34, 117.28 -0.32, 130.73 1.87 C144.18 4.06, 156.92 8.67, 168.74 15.04 C180.55 21.41, 192.85 29.94, 201.62 40.07 C210.39 50.21, 217.33 63.17, 221.35 75.84 C225.36 88.51, 226.69 103.02, 225.72 116.09 C224.75 129.16, 221.24 142.55, 215.54 154.27 C209.84 165.99, 201.3 177.45, 191.52 186.42 C181.74 195.4, 169.51 202.99, 156.89 208.12 C144.27 213.25, 129.36 216.49, 115.8 217.21 C102.23 217.93, 88.07 216.68, 75.5 212.44 C62.94 208.2, 50.63 200.42, 40.41 191.76 C30.19 183.09, 20.6 171.92, 14.17 160.44 C7.74 148.96, 3.49 135.91, 1.81 122.88 C0.13 109.84, 1.05 95.06, 4.1 82.22 C7.15 69.38, 12.44 56.41, 20.1 45.86 C27.75 35.3, 36.13 26.62, 50.03 18.87 C63.93 11.13, 92.13 2.15, 103.49 -0.61 C114.84 -3.37, 118.1 0.43, 118.14 2.29 M144.72 5.01 C157.52 7.11, 170.63 15.86, 181.63 23.91 C192.62 31.96, 203.84 42.05, 210.71 53.33 C217.57 64.61, 220.87 79, 222.81 91.61 C224.75 104.22, 225.01 116.34, 222.36 129 C219.71 141.65, 214.07 156.36, 206.9 167.53 C199.73 178.71, 190.17 188.46, 179.35 196.03 C168.54 203.61, 154.85 209.61, 142.02 212.97 C129.19 216.33, 115.93 217.6, 102.36 216.2 C88.79 214.8, 73.11 210.24, 60.58 204.54 C48.04 198.85, 36.01 191.63, 27.14 182.02 C18.28 172.41, 11.72 159.33, 7.37 146.89 C3.03 134.46, 0.89 120.65, 1.07 107.4 C1.26 94.15, 3.6 79.33, 8.48 67.39 C13.36 55.46, 21.37 45.01, 30.37 35.8 C39.37 26.6, 50.01 18.26, 62.51 12.15 C75 6.05, 91.78 0.61, 105.34 -0.82 C118.9 -2.25, 137.41 2.47, 143.88 3.59 C150.35 4.71, 144.58 4.17, 144.16 5.91" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1199.283687163057 195.93046981134944) rotate(0 36.6455078125 12.5)"><text x="36.6455078125" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Database</text></g><g stroke-linecap="round"><g transform="translate(955.7234170581863 213.07377776334988) rotate(0 75.14656532720915 0.29807728076474405)"><path d="M0.03 -0.55 C25.04 -0.25, 124.33 1.38, 149.49 1.48 M-1.41 1.77 C24.02 1.77, 126.44 -0.07, 151.78 -0.17" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(955.7234170581863 213.07377776334988) rotate(0 75.14656532720915 0.29807728076474405)"><path d="M28.37 -10.4 C20.16 -9.2, 15.29 -4.1, 0.03 -0.55 M28.37 -10.4 C20.8 -6.71, 14.08 -4.99, 0.03 -0.55" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(955.7234170581863 213.07377776334988) rotate(0 75.14656532720915 0.29807728076474405)"><path d="M28.07 10.12 C19.99 6.06, 15.2 5.89, 0.03 -0.55 M28.07 10.12 C20.46 8.51, 13.82 4.94, 0.03 -0.55" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(955.7234170581863 213.07377776334988) rotate(0 75.14656532720915 0.29807728076474405)"><path d="M123.72 10.42 C130.02 6.36, 139.62 6.22, 151.78 -0.17 M123.72 10.42 C130.57 8.34, 138.4 4.79, 151.78 -0.17" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(955.7234170581863 213.07377776334988) rotate(0 75.14656532720915 0.29807728076474405)"><path d="M123.47 -10.1 C129.79 -8.9, 139.45 -3.78, 151.78 -0.17 M123.47 -10.1 C130.51 -6.89, 138.4 -5.15, 151.78 -0.17" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(1377.2220778901242 64.65888288950237) rotate(0 65.74993133544922 100)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Event</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- id</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- venueId</text><text x="0" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- performerId</text><text x="0" y="100" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- tickets[]</text><text x="0" y="125" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- name</text><text x="0" y="150" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- description</text><text x="0" y="175" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- ....</text></g><g transform="translate(1547.4297951596423 62.83874695614395) rotate(0 51.58995819091791 62.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Venue</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- id</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- location</text><text x="0" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- seatMap</text><text x="0" y="100" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- ...</text></g><g transform="translate(1694.4554209465032 68.25727736161434) rotate(0 47.17994689941406 37.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Performer</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- id</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">...</text></g><g transform="translate(500.4303415041543 178.88111631143602) rotate(0 64.13993835449219 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">view(eventId)</text></g></svg></span></span></div></div><div class="MuiGrid-root MuiGrid-item mui-1wxaqej"><span class="MuiTypography-root MuiTypography-caption mui-17cupi8">View Event Flow</span></div></div></div></div>
<ol style="list-style: outside decimal;">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Clients:</strong> Users will interact with the system through the clients website or app. All client requests will be routed to the system's backend through an API Gateway.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>API Gateway:</strong> This serves as an entry point for clients to access the different microservices of the system. It's primarily responsible for routing requests to the appropriate services but can also be configured to handle cross-cutting concerns like authentication, rate limiting, and logging.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Event Service:</strong> Our first microservice is responsible for handling view API requests by fetching the necessary event, venue, and performer information from the database and returning the results to the client.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Events DB:</strong> Stores tables for events, performers, and venues.</div></li>
</ol>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Let's walk through exactly what happens when a user makes a request to <span class="MuiBox-root mui-1vu004u">www.yourticketmaster.com/event/:eventId</span> to view an event.</div>
<ol style="list-style: outside decimal;">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">The client makes a REST GET request with the <span class="MuiBox-root mui-1vu004u">eventId</span></div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">The API gateway then forwards the request onto our Event Service.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">The Event Service then queries the Events DB for the event, venue, and performer information and returns it to the client.</div></li>
</ol>
<h3 class="MuiTypography-root MuiTypography-h4 mui-hkpafq" id="2-users-should-be-able-to-search-for-events">2) Users should be able to search for events</h3>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Sweet, we now have the core functionality in place to view an event! But how are users supposed to find events in the first place? When users first open your site, they expect to be able to search for upcoming events. This search will be parameterized based on any combination of keywords, artists/teams, location, date, or event type.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Let‚Äôs start with the most basic thing you could do - we'll create a simple service which accepts search queries. This service will connect your DB and query it by filtering for the fields in the API request. This has issues, but it‚Äôs a good starting point. We will dig into better options in the deep dives below.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><div class="MuiBox-root mui-10khgmf" style="cursor: pointer;"><div class="MuiGrid-root MuiGrid-container MuiGrid-direction-xs-column mui-1tdxmx0"><div class="MuiGrid-root MuiGrid-item mui-tolxbf"><div class="relative w-full"><button class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall mui-wksd04" tabindex="0" type="button" aria-label="zoom-in"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ZoomInIcon"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"></path><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"></path></svg><span class="MuiTouchRipple-root mui-w0pj6f"></span></button><span class="w-full h-full"><span class="block"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1798.8153147453313 595.6729377102807">
  <!-- svg-source:excalidraw -->
  <!-- payload-type:application/vnd.excalidraw+json --><!-- payload-version:2 -->
  <defs>
    <style class="style-fonts">
      
      
      
    </style>
    
  </defs>
  <rect x="0" y="0" width="1798.8153147453313" height="595.6729377102807" fill="#ffffff"></rect><g stroke-linecap="round" transform="translate(10 342.8086922241703) rotate(0 66.41791896430016 54.30053481342259)"><path d="M27.15 0 C52.33 1.13, 75.88 1.88, 105.69 0 M27.15 0 C44.66 0.52, 63.2 -0.85, 105.69 0 M105.69 0 C122.3 0.03, 131.99 10.75, 132.84 27.15 M105.69 0 C125.95 1.16, 132.84 8.15, 132.84 27.15 M132.84 27.15 C131.65 45.09, 131.82 60.62, 132.84 81.45 M132.84 27.15 C132.17 39.21, 132.96 51.31, 132.84 81.45 M132.84 81.45 C132.63 99.21, 122.99 107.82, 105.69 108.6 M132.84 81.45 C134.59 101.46, 123.89 108.83, 105.69 108.6 M105.69 108.6 C78.97 109.96, 51.47 110.04, 27.15 108.6 M105.69 108.6 C82.55 109.04, 58.92 109.52, 27.15 108.6 M27.15 108.6 C7.81 107.84, -1.43 100.59, 0 81.45 M27.15 108.6 C9.29 108.07, -2.08 101.51, 0 81.45 M0 81.45 C-0.73 63.01, 0.79 40, 0 27.15 M0 81.45 C0.49 62.29, -1.21 42.15, 0 27.15 M0 27.15 C0.08 10.03, 9.24 1.32, 27.15 0 M0 27.15 C-2.08 7.52, 10.19 1.81, 27.15 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(51.974559589300156 384.60922703759286) rotate(0 24.443359375 12.5)"><text x="24.443359375" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Client</text></g><g stroke-linecap="round" transform="translate(273.25288456175304 193.8206993682536) rotate(0 91.13351565247496 195.92611917101357)"><path d="M32 0 C69.94 -1.83, 111.56 -2.22, 150.27 0 M32 0 C77.28 0.58, 123.62 1.41, 150.27 0 M150.27 0 C173.48 1.01, 182.27 9.88, 182.27 32 M150.27 0 C171.74 0.23, 183.2 9.24, 182.27 32 M182.27 32 C179.9 152.05, 179.94 270.85, 182.27 359.85 M182.27 32 C182.35 141.99, 182.15 251.95, 182.27 359.85 M182.27 359.85 C183.8 382.85, 171.69 392.05, 150.27 391.85 M182.27 359.85 C183.48 381.29, 171.76 392.98, 150.27 391.85 M150.27 391.85 C107.06 393.53, 65.89 393.15, 32 391.85 M150.27 391.85 C118.02 391.66, 86.29 392.56, 32 391.85 M32 391.85 C10.87 391.39, -1.81 382.89, 0 359.85 M32 391.85 C12.34 389.56, 0.05 379.72, 0 359.85 M0 359.85 C0.68 232.86, 0.9 105.36, 0 32 M0 359.85 C2.02 231.95, 2.06 103.84, 0 32 M0 32 C-1.81 9.33, 11.66 1.57, 32 0 M0 32 C1.7 10.13, 9.75 1.47, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(301.910814276728 339.74681853926717) rotate(0 62.4755859375 50.00000000000003)"><text x="62.4755859375" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">API Gateway</text><text x="62.4755859375" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- authentication</text><text x="62.4755859375" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- rate limiting</text><text x="62.4755859375" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- routing</text></g><g stroke-linecap="round"><g transform="translate(156.96056167070333 396.98236365657226) rotate(0 56.38036740573851 -0.5551085060830019)"><path d="M-0.84 1.07 C17.98 0.69, 93.53 -1.32, 112.32 -1.68 M0.92 0.59 C19.6 0.31, 92.24 -0.39, 111.14 -0.45" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(156.96056167070333 396.98236365657226) rotate(0 56.38036740573851 -0.5551085060830019)"><path d="M27.09 -9.88 C21.96 -8.08, 12.26 -6.1, -0.84 1.07 M27.09 -9.88 C19.57 -5.84, 10.21 -3.44, -0.84 1.07" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(156.96056167070333 396.98236365657226) rotate(0 56.38036740573851 -0.5551085060830019)"><path d="M27.6 10.63 C22.24 7.31, 12.42 4.18, -0.84 1.07 M27.6 10.63 C20.01 8.5, 10.5 4.72, -0.84 1.07" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(156.96056167070333 396.98236365657226) rotate(0 56.38036740573851 -0.5551085060830019)"><path d="M83.02 10.01 C91.76 6.86, 96.04 3.5, 111.14 -0.45 M83.02 10.01 C92.48 7.12, 100.01 3.08, 111.14 -0.45" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(156.96056167070333 396.98236365657226) rotate(0 56.38036740573851 -0.5551085060830019)"><path d="M82.88 -10.51 C91.75 -8.54, 96.06 -6.78, 111.14 -0.45 M82.88 -10.51 C92.29 -7.22, 99.87 -5.08, 111.14 -0.45" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(680.0516580664369 329.08496234051313) rotate(0 133.45758189228422 69.29831816266892)"><path d="M32 0 C77.87 -0.66, 125.47 -0.09, 234.92 0 M32 0 C110.09 -1.26, 188.23 -0.83, 234.92 0 M234.92 0 C257.06 -1.24, 268.23 9.6, 266.92 32 M234.92 0 C256.51 -1.94, 267.14 8.78, 266.92 32 M266.92 32 C268.69 48.83, 266.84 65.28, 266.92 106.6 M266.92 32 C267.53 51.56, 268.01 70.97, 266.92 106.6 M266.92 106.6 C267.06 128.91, 257.55 139.76, 234.92 138.6 M266.92 106.6 C268.51 127.88, 257.24 140.83, 234.92 138.6 M234.92 138.6 C169.44 137.47, 102.71 137.3, 32 138.6 M234.92 138.6 C162.65 138.94, 92.65 137.28, 32 138.6 M32 138.6 C10.71 137.32, 1.8 128.18, 0 106.6 M32 138.6 C9.54 140.2, 1.37 129.9, 0 106.6 M0 106.6 C1.01 78.2, 0.3 49.84, 0 32 M0 106.6 C1.17 80.08, 1.41 51.76, 0 32 M0 32 C-0.8 11.95, 9.75 -0.91, 32 0 M0 32 C0.07 9.63, 12.76 1.9, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(757.6986930837211 385.88328050318205) rotate(0 55.810546875 12.5)"><text x="55.810546875" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Event Service</text></g><g stroke-linecap="round"><g transform="translate(470.090927387816 406.8464539599445) rotate(0 98.12245388739251 1.71820194628026)"><path d="M-0.51 1.02 C32.54 1.69, 164.58 3.72, 197.37 4.04 M1.43 0.51 C34.49 0.82, 164.67 1.65, 197.02 2.24" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(470.090927387816 406.8464539599445) rotate(0 98.12245388739251 1.71820194628026)"><path d="M27.84 -8.79 C23.14 -4.82, 16.05 -4.48, -0.51 1.02 M27.84 -8.79 C20.86 -6.82, 13.72 -4.18, -0.51 1.02" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(470.090927387816 406.8464539599445) rotate(0 98.12245388739251 1.71820194628026)"><path d="M27.51 11.73 C22.88 11.07, 15.87 6.78, -0.51 1.02 M27.51 11.73 C20.6 8.34, 13.55 5.63, -0.51 1.02" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(470.090927387816 406.8464539599445) rotate(0 98.12245388739251 1.71820194628026)"><path d="M168.71 12.17 C176.8 11.93, 182.5 7.81, 197.02 2.24 M168.71 12.17 C176.49 8.93, 184.13 6.43, 197.02 2.24" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(470.090927387816 406.8464539599445) rotate(0 98.12245388739251 1.71820194628026)"><path d="M168.95 -8.35 C176.98 -3.96, 182.63 -3.45, 197.02 2.24 M168.95 -8.35 C176.68 -6.24, 184.25 -3.39, 197.02 2.24" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(1122.8556036195332 283.3887598843078) rotate(0 112.92030416412285 108.78506994587957)"><path d="M113.13 0.41 C126.01 -1.17, 140.62 3.35, 153.19 8.04 C165.76 12.74, 178.54 19.84, 188.54 28.58 C198.54 37.32, 207.2 48.89, 213.21 60.49 C219.21 72.08, 223.11 85.1, 224.55 98.14 C225.99 111.18, 225.33 126.03, 221.86 138.73 C218.39 151.42, 212.01 163.96, 203.72 174.32 C195.43 184.69, 183.86 193.9, 172.1 200.93 C160.34 207.96, 146.37 214.03, 133.17 216.5 C119.97 218.97, 106.18 218.2, 92.89 215.74 C79.61 213.28, 65.16 208.65, 53.48 201.75 C41.8 194.84, 30.91 184.77, 22.79 174.33 C14.67 163.89, 8.39 151.6, 4.77 139.1 C1.15 126.6, -0.11 112.41, 1.08 99.33 C2.26 86.26, 5.73 72.43, 11.86 60.63 C18 48.84, 27.89 37.45, 37.9 28.56 C47.91 19.67, 56.71 11.98, 71.91 7.3 C87.1 2.62, 117.14 0.74, 129.06 0.48 C140.98 0.21, 143.65 3.79, 143.44 5.7 M100.98 -0.77 C113.84 -4.26, 128.11 -1.04, 141.32 2.53 C154.52 6.1, 169.29 12.67, 180.2 20.66 C191.11 28.64, 199.43 39.27, 206.78 50.42 C214.13 61.58, 221.16 74.73, 224.29 87.6 C227.43 100.47, 228.15 114.72, 225.6 127.65 C223.04 140.57, 216.04 153.96, 208.96 165.15 C201.88 176.34, 193.52 186.69, 183.11 194.78 C172.7 202.87, 159.71 210.1, 146.49 213.69 C133.27 217.27, 117.23 217.18, 103.77 216.31 C90.3 215.44, 77.6 213.9, 65.7 208.45 C53.8 202.99, 41.99 193.09, 32.37 183.58 C22.76 174.07, 13.51 163.55, 8.01 151.39 C2.5 139.24, -0.45 124, -0.66 110.63 C-0.87 97.26, 1.79 83.19, 6.75 71.19 C11.71 59.19, 19.99 48.46, 29.09 38.63 C38.18 28.8, 49.51 18.74, 61.33 12.22 C73.15 5.71, 93.54 1.22, 100 -0.46 C106.46 -2.14, 100.11 -0.05, 100.08 2.12" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1199.2836871630573 379.75116917960304) rotate(0 36.6455078125 12.5)"><text x="36.6455078125" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Database</text></g><g stroke-linecap="round"><g transform="translate(955.7234170581864 396.8944771316035) rotate(0 75.14656532720915 0.29807728076474405)"><path d="M0.07 0.12 C25.2 0.17, 125.61 -0.12, 150.78 -0.15 M-1.35 -0.86 C23.67 -0.63, 124.74 0.7, 150.09 1" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(955.7234170581864 396.8944771316035) rotate(0 75.14656532720915 0.29807728076474405)"><path d="M28.25 -10.19 C19.95 -6.27, 10.05 -2.67, 0.07 0.12 M28.25 -10.19 C21.41 -8.71, 13.66 -4.99, 0.07 0.12" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(955.7234170581864 396.8944771316035) rotate(0 75.14656532720915 0.29807728076474405)"><path d="M28.28 10.33 C20.05 8.1, 10.14 5.53, 0.07 0.12 M28.28 10.33 C21.41 6.76, 13.65 5.42, 0.07 0.12" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(955.7234170581864 396.8944771316035) rotate(0 75.14656532720915 0.29807728076474405)"><path d="M121.77 10.9 C130.51 8.72, 137.57 6.25, 150.09 1 M121.77 10.9 C128.83 7.88, 135 6.62, 150.09 1" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(955.7234170581864 396.8944771316035) rotate(0 75.14656532720915 0.29807728076474405)"><path d="M122.03 -9.62 C130.61 -5.64, 137.59 -1.95, 150.09 1 M122.03 -9.62 C129.05 -7.58, 135.15 -3.79, 150.09 1" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(1377.2220778901242 248.47958225775574) rotate(0 65.74993133544922 100)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Event</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- id</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- venueId</text><text x="0" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- performerId</text><text x="0" y="100" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- tickets[]</text><text x="0" y="125" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- name</text><text x="0" y="150" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- description</text><text x="0" y="175" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- ....</text></g><g transform="translate(1547.4297951596423 246.65944632439755) rotate(0 51.58995819091797 62.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Venue</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- id</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- location</text><text x="0" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- seatMap</text><text x="0" y="100" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- ...</text></g><g transform="translate(1694.4554209465032 252.07797672986794) rotate(0 47.17994689941406 37.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Performer</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- id</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">...</text></g><g transform="translate(500.4303415041544 362.7018156796894) rotate(0 64.13993835449219 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">view(eventId)</text></g><g stroke-linecap="round" transform="translate(673.9729602040699 81.61372336185264) rotate(0 133.45758189228422 69.29831816266892)"><path d="M32 0 C95.46 1.43, 158.99 1.12, 234.92 0 M32 0 C90.09 1.45, 146.85 0.8, 234.92 0 M234.92 0 C257.3 0.09, 267.06 11.65, 266.92 32 M234.92 0 C257.74 1.34, 268.51 10.61, 266.92 32 M266.92 32 C266.99 57.57, 267.96 81.93, 266.92 106.6 M266.92 32 C266.49 51.31, 265.48 71.93, 266.92 106.6 M266.92 106.6 C268.37 125.94, 256.29 137.32, 234.92 138.6 M266.92 106.6 C268.98 128.22, 255.12 140.2, 234.92 138.6 M234.92 138.6 C163.63 138.5, 90.59 140.15, 32 138.6 M234.92 138.6 C163.31 139.2, 93.77 140.5, 32 138.6 M32 138.6 C12.14 138.13, -0.8 129.21, 0 106.6 M32 138.6 C9.61 137.55, 0.07 126.9, 0 106.6 M0 106.6 C-1.07 77.59, -2.2 48.19, 0 32 M0 106.6 C1 87.81, 0.55 70.18, 0 32 M0 32 C-0.46 10.09, 8.91 -1.62, 32 0 M0 32 C1.22 8.78, 9.24 -1.57, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(780.2235108463541 138.41204152452156) rotate(0 27.20703125 12.5)"><text x="27.20703125" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Search</text></g><g stroke-linecap="round"><g transform="translate(471.9508776560607 340.47306822446467) rotate(0 91.06573938924032 -87.90528581908586)"><path d="M-0.12 -0.21 C30.14 -29.74, 151.13 -147.18, 181.65 -176.28 M-1.65 -1.36 C28.41 -30.8, 149.72 -145.78, 180.46 -174.99" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(471.9508776560607 340.47306822446467) rotate(0 91.06573938924032 -87.90528581908586)"><path d="M12.96 -27.2 C8.8 -19.72, 4.35 -9.11, -0.12 -0.21 M12.96 -27.2 C8.49 -16.8, 3.02 -6.02, -0.12 -0.21" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(471.9508776560607 340.47306822446467) rotate(0 91.06573938924032 -87.90528581908586)"><path d="M27.25 -12.47 C18.6 -9.53, 9.75 -3.44, -0.12 -0.21 M27.25 -12.47 C17.3 -7.7, 6.36 -2.56, -0.12 -0.21" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(471.9508776560607 340.47306822446467) rotate(0 91.06573938924032 -87.90528581908586)"><path d="M167.08 -148.14 C170.64 -157.16, 174.31 -163.08, 180.46 -174.99 M167.08 -148.14 C172.72 -158.39, 177.38 -168.23, 180.46 -174.99" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(471.9508776560607 340.47306822446467) rotate(0 91.06573938924032 -87.90528581908586)"><path d="M152.95 -163.02 C160.96 -167.46, 168.97 -168.81, 180.46 -174.99 M152.95 -163.02 C164 -167.58, 174.08 -171.72, 180.46 -174.99" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(164.10218856898598 10) rotate(0 468.1796569824219 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">GET /search?term={term}&amp;location={location}&amp;type={type}&amp;date={date} -&gt; Partial&lt;Event&gt;[]</text></g><g stroke-linecap="round"><g transform="translate(953.8188527498187 155.73515170866267) rotate(0 94.5310340571823 70.88740422814305)"><path d="M0.92 1 C32.52 24.72, 157.65 118.42, 189.11 141.89 M-0.06 0.47 C31.43 24.46, 156.64 119.71, 188.19 143.49" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(953.8188527498187 155.73515170866267) rotate(0 94.5310340571823 70.88740422814305)"><path d="M29.63 9.68 C23.85 7.73, 14.92 6.43, 0.92 1 M29.63 9.68 C21.53 7.76, 12.83 4.51, 0.92 1" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(953.8188527498187 155.73515170866267) rotate(0 94.5310340571823 70.88740422814305)"><path d="M17.33 26.11 C14.82 19.78, 9.08 14.21, 0.92 1 M17.33 26.11 C12.96 19.12, 8.01 10.87, 0.92 1" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(953.8188527498187 155.73515170866267) rotate(0 94.5310340571823 70.88740422814305)"><path d="M159.53 134.64 C168.61 136.81, 174.61 140.08, 188.19 143.49 M159.53 134.64 C168.91 137.78, 177.69 139.87, 188.19 143.49" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(953.8188527498187 155.73515170866267) rotate(0 94.5310340571823 70.88740422814305)"><path d="M171.92 118.29 C177.72 124.81, 180.49 132.33, 188.19 143.49 M171.92 118.29 C177.54 126.47, 182.54 133.54, 188.19 143.49" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(1019.4699252994566 153.82429193471557) rotate(0 129.81988525390625 25)"><text x="129.81988525390625" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Query event table directly</text><text x="129.81988525390625" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">for search</text></g></svg></span></span></div></div><div class="MuiGrid-root MuiGrid-item mui-1wxaqej"><span class="MuiTypography-root MuiTypography-caption mui-17cupi8">Search Flow</span></div></div></div></div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">When a user makes a search request, it's straightforward:</div>
<ol style="list-style: outside decimal;">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">The client makes a REST GET request with the search parameters</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Our load balancer accepts the request and routes it to the API gateway with the fewest current connections.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">The API gateway then, after handling basic authentication and rate limiting, forward the request onto our Search Service.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">The Search Service then queries the Events DB for the events matching the search parameters and returns them to the client.</div></li>
</ol>
<h3 class="MuiTypography-root MuiTypography-h4 mui-hkpafq" id="3-users-should-be-able-to-book-tickets-to-events">3) Users should be able to book tickets to events</h3>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">The main thing we are trying to avoid is two (or more) users paying for the same ticket. That would make for an awkward situation at the event! To handle this consistency issue, we need to select a database that supports transactions. This will allow us to ensure that only one user can book a ticket at a time.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">While anything from MySQL to DynamoDB would be fine choices (just needs ACID properties), we'll opt for PostgreSQL. Additionally, we need to implement proper isolation levels and either row-level locking or Optimistic Concurrency Control (OCC) to fully prevent double bookings.</div>
<div class="my-6"><div class="MuiBox-root mui-1147lff"><div class="MuiBox-root mui-zvu67g"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-6 h-6 heroicon-sw-2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"></path></svg></div><div class="MuiBox-root mui-79elbk"><div style="overflow: hidden; max-height: 300px;"><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">When selecting a database, the actual technology chosen is less important than the properties it provides. In this case, we need a database that supports transactions. Any such database will work, and your final decision should be based on your own familiarity with the technology. For example, "I'm going to go with PostgreSQL because it's what I've worked with in the past."</div></div></div></div></div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><div class="MuiBox-root mui-10khgmf" style="cursor: pointer;"><div class="MuiGrid-root MuiGrid-container MuiGrid-direction-xs-column mui-1tdxmx0"><div class="MuiGrid-root MuiGrid-item mui-tolxbf"><div class="relative w-full"><button class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall mui-wksd04" tabindex="0" type="button" aria-label="zoom-in"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ZoomInIcon"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"></path><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"></path></svg><span class="MuiTouchRipple-root mui-w0pj6f"></span></button><span class="w-full h-full"><span class="block"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1798.8153147453313 957.3824707271306">
  <!-- svg-source:excalidraw -->
  <!-- payload-type:application/vnd.excalidraw+json --><!-- payload-version:2 -->
  <defs>
    <style class="style-fonts">
      
      
      
    </style>
    
  </defs>
  <rect x="0" y="0" width="1798.8153147453313" height="957.3824707271306" fill="#ffffff"></rect><g stroke-linecap="round" transform="translate(10 342.80869222417095) rotate(0 66.41791896430016 54.30053481342259)"><path d="M27.15 0 C46.94 0.5, 68.36 0.92, 105.69 0 M27.15 0 C53.91 0.85, 82.09 -0.04, 105.69 0 M105.69 0 C124.41 -1.4, 131.93 10.2, 132.84 27.15 M105.69 0 C124.04 -0.95, 130.55 8.99, 132.84 27.15 M132.84 27.15 C131.91 40.97, 131.54 51.84, 132.84 81.45 M132.84 27.15 C132.66 47.2, 133.42 68.13, 132.84 81.45 M132.84 81.45 C134.8 101.15, 122.8 107.26, 105.69 108.6 M132.84 81.45 C133.53 101.22, 122.98 108.92, 105.69 108.6 M105.69 108.6 C73.81 108.66, 43.49 108.01, 27.15 108.6 M105.69 108.6 C82.62 108.56, 58.74 107.87, 27.15 108.6 M27.15 108.6 C8.73 109.36, -1.99 99.36, 0 81.45 M27.15 108.6 C9.08 106.42, 0.34 100.18, 0 81.45 M0 81.45 C-1.24 67.28, -0.07 48.87, 0 27.15 M0 81.45 C-0.67 70.68, 0.71 58.48, 0 27.15 M0 27.15 C0.36 10.66, 8.73 -0.04, 27.15 0 M0 27.15 C-1.26 8.49, 9.11 1.56, 27.15 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(51.974559589300156 384.60922703759354) rotate(0 24.443359375 12.5)"><text x="24.443359375" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Client</text></g><g stroke-linecap="round" transform="translate(273.2528845617529 193.82069936825428) rotate(0 91.13351565247496 195.92611917101357)"><path d="M32 0 C72.02 1.18, 109.19 -1.17, 150.27 0 M32 0 C72.81 -0.15, 112.55 1.13, 150.27 0 M150.27 0 C171.82 -0.82, 180.28 10.61, 182.27 32 M150.27 0 C169.76 -0.47, 180.16 9.73, 182.27 32 M182.27 32 C182.03 162.34, 180.79 289.18, 182.27 359.85 M182.27 32 C183.11 112.04, 182.1 190.53, 182.27 359.85 M182.27 359.85 C182.87 382.63, 170.9 392.13, 150.27 391.85 M182.27 359.85 C184.45 382.34, 169.7 390.84, 150.27 391.85 M150.27 391.85 C110.58 393.34, 71.31 392.74, 32 391.85 M150.27 391.85 C116.87 391.19, 82.8 390.71, 32 391.85 M32 391.85 C10.7 389.96, 0.3 381.73, 0 359.85 M32 391.85 C10.56 392.21, 1.66 379.86, 0 359.85 M0 359.85 C-1.33 230.1, -0.14 100.43, 0 32 M0 359.85 C-0.87 252.9, -1.1 144.83, 0 32 M0 32 C-1.09 10.18, 10.71 1.35, 32 0 M0 32 C2.23 12.39, 12.05 1.09, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(301.9108142767279 339.74681853926785) rotate(0 62.4755859375 50)"><text x="62.4755859375" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">API Gateway</text><text x="62.4755859375" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- authentication</text><text x="62.4755859375" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- rate limiting</text><text x="62.4755859375" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- routing</text></g><g stroke-linecap="round"><g transform="translate(156.9605616707032 396.9823636565725) rotate(0 56.38036740573851 -0.5551085060830019)"><path d="M-0.34 0.51 C18.45 0.34, 94.89 -1.26, 113.81 -1.67 M1.69 -0.27 C20.32 -0.23, 94.93 -0.29, 113.41 -0.43" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(156.9605616707032 396.9823636565725) rotate(0 56.38036740573851 -0.5551085060830019)"><path d="M27.66 -10.27 C17.55 -4.41, 4.86 -1.33, -0.34 0.51 M27.66 -10.27 C21.28 -8.04, 13.74 -5.18, -0.34 0.51" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(156.9605616707032 396.9823636565725) rotate(0 56.38036740573851 -0.5551085060830019)"><path d="M28.04 10.25 C17.89 8.12, 5.05 3.2, -0.34 0.51 M28.04 10.25 C21.66 7.76, 14.03 5.9, -0.34 0.51" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(156.9605616707032 396.9823636565725) rotate(0 56.38036740573851 -0.5551085060830019)"><path d="M85.25 9.93 C97.12 7.72, 106.31 2.56, 113.41 -0.43 M85.25 9.93 C91.88 6.98, 97.25 4.98, 113.41 -0.43" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(156.9605616707032 396.9823636565725) rotate(0 56.38036740573851 -0.5551085060830019)"><path d="M85.18 -10.59 C96.97 -4.81, 106.18 -1.97, 113.41 -0.43 M85.18 -10.59 C91.73 -8.82, 97.12 -6.1, 113.41 -0.43" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(680.0516580664367 329.0849623405138) rotate(0 133.45758189228422 69.29831816266892)"><path d="M32 0 C86.35 -1.03, 141.1 -2.39, 234.92 0 M32 0 C103.67 0.72, 176.4 0.56, 234.92 0 M234.92 0 C254.42 -0.81, 268.79 9.48, 266.92 32 M234.92 0 C257.16 1.84, 269.06 10.43, 266.92 32 M266.92 32 C265.94 51.24, 268.08 65.57, 266.92 106.6 M266.92 32 C266.79 49.51, 268.09 67.25, 266.92 106.6 M266.92 106.6 C265.26 127.05, 256.96 138.4, 234.92 138.6 M266.92 106.6 C266.98 127.91, 257.92 139.04, 234.92 138.6 M234.92 138.6 C163.8 138.37, 96.54 136.88, 32 138.6 M234.92 138.6 C176.09 137.12, 116.96 137.01, 32 138.6 M32 138.6 C12.11 137.44, 1.87 127.94, 0 106.6 M32 138.6 C10.12 136.38, -1.16 127.71, 0 106.6 M0 106.6 C-1.93 91.6, 1.41 75.55, 0 32 M0 106.6 C0.43 85.05, 1.38 62.9, 0 32 M0 32 C1.2 11.61, 9.85 1.77, 32 0 M0 32 C-1.3 12.02, 10.52 -0.54, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(757.698693083721 385.88328050318273) rotate(0 55.810546875 12.5)"><text x="55.810546875" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Event Service</text></g><g stroke-linecap="round"><g transform="translate(470.0909273878159 406.8464539599445) rotate(0 98.12245388739251 1.71820194628026)"><path d="M-0.54 0.69 C32.12 1.32, 163.78 2.49, 196.38 2.94 M1.37 0.01 C33.86 0.87, 162.84 3.44, 195.5 4.22" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(470.0909273878159 406.8464539599445) rotate(0 98.12245388739251 1.71820194628026)"><path d="M27.76 -9.24 C19.48 -5.87, 8.13 -4.79, -0.54 0.69 M27.76 -9.24 C18.36 -6.75, 11.79 -3.99, -0.54 0.69" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(470.0909273878159 406.8464539599445) rotate(0 98.12245388739251 1.71820194628026)"><path d="M27.53 11.28 C19.46 7.86, 8.2 2.15, -0.54 0.69 M27.53 11.28 C18.35 7.67, 11.86 4.33, -0.54 0.69" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(470.0909273878159 406.8464539599445) rotate(0 98.12245388739251 1.71820194628026)"><path d="M167.09 13.87 C177.71 11.02, 185.14 5.62, 195.5 4.22 M167.09 13.87 C174.69 10.65, 184.99 7.6, 195.5 4.22" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(470.0909273878159 406.8464539599445) rotate(0 98.12245388739251 1.71820194628026)"><path d="M167.53 -6.65 C177.87 -2.71, 185.15 -1.32, 195.5 4.22 M167.53 -6.65 C174.84 -3.77, 185.01 -0.72, 195.5 4.22" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(1122.8556036195332 283.38875988430846) rotate(0 112.92030416412285 108.78506994587957)"><path d="M58.81 12.28 C69.25 5.15, 84.67 3.28, 98.09 1.83 C111.51 0.37, 125.93 0.42, 139.33 3.55 C152.74 6.69, 167.29 13.29, 178.51 20.62 C189.73 27.96, 199.3 36.83, 206.64 47.57 C213.98 58.31, 219.59 72.01, 222.53 85.07 C225.48 98.13, 226.1 113.07, 224.31 125.93 C222.52 138.79, 218.59 150.96, 211.79 162.22 C204.98 173.49, 194.04 185.22, 183.47 193.5 C172.91 201.79, 161.21 207.8, 148.41 211.94 C135.6 216.08, 120.27 219.16, 106.66 218.34 C93.05 217.52, 79.21 212.52, 66.73 207.01 C54.25 201.49, 41.41 194.47, 31.8 185.25 C22.19 176.03, 14.34 163.69, 9.05 151.71 C3.76 139.73, 0.5 126.42, 0.06 113.4 C-0.37 100.37, 2 86.05, 6.43 73.56 C10.85 61.07, 17.12 48.97, 26.62 38.45 C36.12 27.92, 56.05 15.29, 63.45 10.43 C70.85 5.56, 70.09 7.6, 71.03 9.26 M61.29 12.23 C72.13 4.83, 88.45 1.13, 102.21 -0.27 C115.98 -1.68, 131.02 0.47, 143.9 3.8 C156.78 7.14, 168.92 11.99, 179.51 19.73 C190.1 27.47, 200.32 38.89, 207.44 50.25 C214.56 61.61, 219.35 75.26, 222.25 87.91 C225.14 100.57, 226.88 113.14, 224.82 126.18 C222.77 139.21, 217.08 154.7, 209.92 166.13 C202.75 177.56, 192.75 187, 181.82 194.76 C170.89 202.52, 157.31 208.77, 144.32 212.68 C131.34 216.59, 117.08 219.04, 103.91 218.24 C90.74 217.43, 77.38 213.62, 65.28 207.87 C53.18 202.12, 40.93 193.29, 31.31 183.76 C21.68 174.22, 12.87 162.77, 7.51 150.65 C2.16 138.52, -0.76 124.37, -0.84 110.99 C-0.92 97.62, 2.23 82.99, 7.04 70.37 C11.85 57.76, 19.14 44.94, 28.04 35.33 C36.94 25.72, 54.57 16.1, 60.46 12.69 C66.36 9.27, 62.6 13.2, 63.4 14.83" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1180.377437163057 367.2511691796037) rotate(0 55.5517578125 25)"><text x="55.5517578125" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Database</text><text x="55.5517578125" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">(PostgreSQL)</text></g><g stroke-linecap="round"><g transform="translate(955.7234170581863 396.8944771316037) rotate(0 75.14656532720915 0.29807728076474405)"><path d="M-0.96 -0.25 C24.11 -0.22, 123.8 0.09, 149.19 0.11 M0.74 -1.42 C26.26 -1.23, 126.25 1.02, 151.33 1.39" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(955.7234170581863 396.8944771316037) rotate(0 75.14656532720915 0.29807728076474405)"><path d="M27.26 -10.44 C21.19 -10.45, 15.13 -4.7, -0.96 -0.25 M27.26 -10.44 C21.44 -7.86, 13.03 -5.88, -0.96 -0.25" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(955.7234170581863 396.8944771316037) rotate(0 75.14656532720915 0.29807728076474405)"><path d="M27.21 10.08 C21.15 5.96, 15.11 7.59, -0.96 -0.25 M27.21 10.08 C21.32 7.72, 12.92 4.76, -0.96 -0.25" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(955.7234170581863 396.8944771316037) rotate(0 75.14656532720915 0.29807728076474405)"><path d="M122.95 11.11 C128.23 7.56, 133.52 9.32, 151.33 1.39 M122.95 11.11 C130.68 8.45, 135.89 5.63, 151.33 1.39" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(955.7234170581863 396.8944771316037) rotate(0 75.14656532720915 0.29807728076474405)"><path d="M123.34 -9.4 C128.54 -8.85, 133.75 -2.98, 151.33 1.39 M123.34 -9.4 C131.05 -7.13, 136.17 -5.01, 151.33 1.39" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(1377.2220778901242 248.4795822577562) rotate(0 65.74993133544916 100)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Event</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- id</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- venueId</text><text x="0" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- performerId</text><text x="0" y="100" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- tickets[]</text><text x="0" y="125" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- name</text><text x="0" y="150" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- description</text><text x="0" y="175" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- ....</text></g><g transform="translate(1547.4297951596423 246.65944632439823) rotate(0 51.58995819091797 62.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Venue</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- id</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- location</text><text x="0" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- seatMap</text><text x="0" y="100" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- ...</text></g><g transform="translate(1694.4554209465032 252.07797672986817) rotate(0 47.17994689941406 37.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Performer</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- id</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">...</text></g><g transform="translate(500.4303415041543 362.7018156796894) rotate(0 64.13993835449219 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">view(eventId)</text></g><g stroke-linecap="round" transform="translate(673.9729602040698 81.61372336185377) rotate(0 133.45758189228422 69.29831816266892)"><path d="M32 0 C110.8 1.38, 191.16 3, 234.92 0 M32 0 C109.32 1.87, 185.78 1.34, 234.92 0 M234.92 0 C258.14 1, 265.26 9.79, 266.92 32 M234.92 0 C257.06 -0.22, 266.98 10.65, 266.92 32 M266.92 32 C266.68 59.87, 265.29 87.28, 266.92 106.6 M266.92 32 C266.19 56.27, 266.32 82.72, 266.92 106.6 M266.92 106.6 C266.83 128.24, 257.69 137.44, 234.92 138.6 M266.92 106.6 C269.07 127.94, 255.7 136.38, 234.92 138.6 M234.92 138.6 C184.75 137.68, 132.05 137.21, 32 138.6 M234.92 138.6 C157.18 138.34, 80.44 139.16, 32 138.6 M32 138.6 C12.61 140.09, 1.2 128.87, 0 106.6 M32 138.6 C9.72 140.64, -1.3 129.28, 0 106.6 M0 106.6 C-1.36 83.49, 1.09 64.12, 0 32 M0 106.6 C-0.22 79.64, -0.28 53.98, 0 32 M0 32 C-0.03 10.99, 12.47 -1.17, 32 0 M0 32 C-1.36 9.92, 8.5 1.81, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(780.223510846354 138.4120415245227) rotate(0 27.20703125 12.5)"><text x="27.20703125" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Search</text></g><g stroke-linecap="round"><g transform="translate(471.9508776560606 340.47306822446626) rotate(0 91.06573938924032 -87.90528581908586)"><path d="M1.18 0.96 C31.42 -28.42, 151.32 -147.3, 181.54 -176.62 M0.34 0.41 C30.97 -28.8, 153.68 -145.96, 183.95 -175.5" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(471.9508776560606 340.47306822446626) rotate(0 91.06573938924032 -87.90528581908586)"><path d="M14.06 -26.14 C11.62 -18.66, 4.72 -8.74, 1.18 0.96 M14.06 -26.14 C10.11 -15.53, 3.54 -6.38, 1.18 0.96" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(471.9508776560606 340.47306822446626) rotate(0 91.06573938924032 -87.90528581908586)"><path d="M28.46 -11.52 C21.63 -8.4, 10.3 -2.97, 1.18 0.96 M28.46 -11.52 C19.2 -6.34, 7.27 -2.63, 1.18 0.96" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(471.9508776560606 340.47306822446626) rotate(0 91.06573938924032 -87.90528581908586)"><path d="M170.77 -148.55 C176.49 -157.95, 177.61 -164.65, 183.95 -175.5 M170.77 -148.55 C176.72 -158.11, 179.85 -169.09, 183.95 -175.5" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(471.9508776560606 340.47306822446626) rotate(0 91.06573938924032 -87.90528581908586)"><path d="M156.53 -163.33 C166.59 -168.32, 172.08 -170.48, 183.95 -175.5 M156.53 -163.33 C167.73 -167.4, 176.17 -172.87, 183.95 -175.5" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(164.10218856898587 10) rotate(0 468.1796569824219 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">GET /search?term={term}&amp;location={location}&amp;type={type}&amp;date={date} -&gt; Partial&lt;Event&gt;[]</text></g><g stroke-linecap="round"><g transform="translate(953.8188527498186 155.73515170866267) rotate(0 94.5310340571823 70.88740422814305)"><path d="M0.36 0.87 C31.9 24.66, 157 118.36, 188.64 141.94 M-0.91 0.28 C30.49 24.36, 155.65 120.22, 187.47 143.56" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(953.8188527498186 155.73515170866267) rotate(0 94.5310340571823 70.88740422814305)"><path d="M29.07 9.57 C23.38 6.77, 15 7.19, 0.36 0.87 M29.07 9.57 C19.45 6.3, 9.07 3.34, 0.36 0.87" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(953.8188527498186 155.73515170866267) rotate(0 94.5310340571823 70.88740422814305)"><path d="M16.76 25.99 C14.26 19.03, 8.97 15.33, 0.36 0.87 M16.76 25.99 C11.58 17.03, 5.52 8.32, 0.36 0.87" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(953.8188527498186 155.73515170866267) rotate(0 94.5310340571823 70.88740422814305)"><path d="M158.77 134.82 C167.37 136.22, 173.39 141.02, 187.47 143.56 M158.77 134.82 C169.1 137.91, 178.82 141.06, 187.47 143.56" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(953.8188527498186 155.73515170866267) rotate(0 94.5310340571823 70.88740422814305)"><path d="M171.11 118.42 C176.5 123.98, 179.43 132.88, 187.47 143.56 M171.11 118.42 C176.98 127.2, 182.39 136.09, 187.47 143.56" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(1019.4699252994565 153.8242919347158) rotate(0 129.81988525390625 25)"><text x="129.81988525390625" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Query event table directly</text><text x="129.81988525390625" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">for search</text></g><g stroke-linecap="round" transform="translate(691.3079702354098 613.8894445030364) rotate(0 132.1456120008337 76.0151989733738)"><path d="M32 0 C85.96 -3.19, 137.32 -1.07, 232.29 0 M32 0 C90.79 0.19, 148.65 -0.15, 232.29 0 M232.29 0 C253.69 -1.77, 263.97 11.43, 264.29 32 M232.29 0 C251.34 -0.22, 264.33 8.49, 264.29 32 M264.29 32 C264.84 61.16, 263.38 89.3, 264.29 120.03 M264.29 32 C263.58 58.35, 263.14 85.17, 264.29 120.03 M264.29 120.03 C265.17 139.64, 253.99 153.64, 232.29 152.03 M264.29 120.03 C263.92 141.31, 252.37 151.47, 232.29 152.03 M232.29 152.03 C173.07 154.86, 112 153.04, 32 152.03 M232.29 152.03 C154.38 152.88, 76.28 152.4, 32 152.03 M32 152.03 C9.47 152.94, 1.35 142.55, 0 120.03 M32 152.03 C8.7 153.22, -1.98 141.02, 0 120.03 M0 120.03 C-0.55 103.51, -2.05 82.2, 0 32 M0 120.03 C0.7 96.98, 0.6 73.51, 0 32 M0 32 C-1.82 10.28, 10.71 -0.26, 32 0 M0 32 C-2.14 12.12, 11.95 0.05, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(789.0053400487434 677.4046434764102) rotate(0 34.4482421875 12.5)"><text x="34.4482421875" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Booking</text></g><g stroke-linecap="round"><g transform="translate(972.9638959666909 691.0048860455345) rotate(0 103.18857837129764 -93.90316276844442)"><path d="M0.43 -0.12 C34.99 -31.33, 171.94 -156.57, 206.41 -187.82 M-0.81 -1.22 C33.69 -32.19, 170.86 -155.47, 205.48 -186.29" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(972.9638959666909 691.0048860455345) rotate(0 103.18857837129764 -93.90316276844442)"><path d="M191.32 -159.84 C194.32 -165.58, 197.58 -169.94, 205.48 -186.29 M191.32 -159.84 C195.76 -169.14, 200.09 -176.32, 205.48 -186.29" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(972.9638959666909 691.0048860455345) rotate(0 103.18857837129764 -93.90316276844442)"><path d="M177.63 -175.13 C183.54 -177.59, 189.77 -178.63, 205.48 -186.29 M177.63 -175.13 C186.51 -179.52, 195.21 -181.82, 205.48 -186.29" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(697.9943755026304 860.1277425167518) rotate(0 132.68811403083762 43.62736410518937)"><path d="M21.81 0 C96.18 1.2, 170.91 0.68, 243.56 0 M21.81 0 C83.99 2.02, 145.59 1.61, 243.56 0 M243.56 0 C258.13 -1.9, 265.67 7.82, 265.38 21.81 M243.56 0 C258 0.35, 267.04 5.94, 265.38 21.81 M265.38 21.81 C263.45 37.98, 265.19 54.28, 265.38 65.44 M265.38 21.81 C265.75 36.93, 265.41 50.4, 265.38 65.44 M265.38 65.44 C264.28 79.5, 258.15 88.61, 243.56 87.25 M265.38 65.44 C267.61 81.7, 259.49 88.34, 243.56 87.25 M243.56 87.25 C187.16 86.07, 128.31 85.59, 21.81 87.25 M243.56 87.25 C194.67 88.64, 143.87 88.57, 21.81 87.25 M21.81 87.25 C5.55 86.96, -1.84 81.97, 0 65.44 M21.81 87.25 C7.24 87.63, 2.07 78.64, 0 65.44 M0 65.44 C1.72 54.67, 1.18 43.98, 0 21.81 M0 65.44 C0.42 49.55, -0.53 34.55, 0 21.81 M0 21.81 C1.12 7.31, 5.4 -1.84, 21.81 0 M0 21.81 C2.07 7.31, 8.64 -1.79, 21.81 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(806.795770783468 891.2551066219412) rotate(0 23.88671875 12.5)"><text x="23.88671875" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Stripe</text></g><g stroke-linecap="round"><g transform="translate(777.7883709218486 849.5280874689824) rotate(0 -0.0951187552088868 -36.923922624306954)"><path d="M0.51 -0.23 C0.34 -12.75, 0 -62.71, -0.15 -74.91 M-0.68 -1.39 C-1.08 -13.82, -0.98 -61.58, -1.08 -73.93" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(777.7883709218486 849.5280874689824) rotate(0 -0.0951187552088868 -36.923922624306954)"><path d="M-10 -28.33 C-6.4 -17.83, -3.88 -7.75, 0.51 -0.23 M-10 -28.33 C-6.71 -19.76, -3.02 -9.04, 0.51 -0.23" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(777.7883709218486 849.5280874689824) rotate(0 -0.0951187552088868 -36.923922624306954)"><path d="M10.53 -28.51 C6.47 -17.86, 1.35 -7.7, 0.51 -0.23 M10.53 -28.51 C6.87 -19.9, 3.62 -9.12, 0.51 -0.23" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(877.8704912097674 854.4987043592746) rotate(0 -0.587293208775435 -40.253123116126005)"><path d="M0.04 -1.06 C-0.27 -14.36, -0.96 -66.79, -1.37 -80.05 M-1.4 1 C-1.93 -12.65, -2.63 -68.54, -2.41 -81.93" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(877.8704912097674 854.4987043592746) rotate(0 -0.587293208775435 -40.253123116126005)"><path d="M7.88 -53.75 C2.64 -63.72, 1.64 -75.05, -2.41 -81.93 M7.88 -53.75 C5.03 -61.76, 1.85 -70.07, -2.41 -81.93" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(877.8704912097674 854.4987043592746) rotate(0 -0.587293208775435 -40.253123116126005)"><path d="M-12.64 -53.73 C-10.85 -63.71, -4.82 -75.05, -2.41 -81.93 M-12.64 -53.73 C-9.53 -61.55, -6.75 -69.87, -2.41 -81.93" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(472.7920967941061 530.6228330156746) rotate(0 103.31966170318998 73.45913294030242)"><path d="M-0.19 0.46 C34.04 25.1, 170.97 122.58, 205.45 146.8 M-1.75 -0.35 C32.83 24.58, 172.92 123.81, 207.53 148.28" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(472.7920967941061 530.6228330156746) rotate(0 103.31966170318998 73.45913294030242)"><path d="M28.72 8.47 C20.79 4.01, 11.07 3.59, -0.19 0.46 M28.72 8.47 C22.73 7.06, 17.57 4.68, -0.19 0.46" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(472.7920967941061 530.6228330156746) rotate(0 103.31966170318998 73.45913294030242)"><path d="M16.81 25.18 C12.63 15.67, 6.53 10.19, -0.19 0.46 M16.81 25.18 C13.24 20.31, 10.52 14.5, -0.19 0.46" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(472.7920967941061 530.6228330156746) rotate(0 103.31966170318998 73.45913294030242)"><path d="M178.6 140.37 C188.06 140.83, 195.89 145.24, 207.53 148.28 M178.6 140.37 C184.5 142.07, 191.2 142.96, 207.53 148.28" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(472.7920967941061 530.6228330156746) rotate(0 103.31966170318998 73.45913294030242)"><path d="M190.45 123.62 C196.18 129.14, 200.41 138.64, 207.53 148.28 M190.45 123.62 C193.95 128.79, 198.22 133.12, 207.53 148.28" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(552.4600150895986 546.3495810899103) rotate(0 108.139892578125 12.5)"><text x="108.139892578125" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">book(ticketId, userId)</text></g><g transform="translate(1373.076281767333 488.93251171886004) rotate(0 134.03988647460938 87.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Ticket</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- id</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- eventId</text><text x="0" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- seat</text><text x="0" y="100" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- price</text><text x="0" y="125" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- status: available, booked</text><text x="0" y="150" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- userId</text></g><g transform="translate(1673.2581223875195 490.06405698375784) rotate(0 43.38995361328125 50)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Booking</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- id</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- userId</text><text x="0" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- tickets</text></g><g transform="translate(1074.3915922314 611.719409801859) rotate(0 58.849952697753906 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Transaction</text></g></svg></span></span></div></div><div class="MuiGrid-root MuiGrid-item mui-1wxaqej"><span class="MuiTypography-root MuiTypography-caption mui-17cupi8">Simple Booking Flow</span></div></div></div></div>
<ol style="list-style: outside decimal;">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>New Tables in Events DB</strong>: First we add two new tables to our database, <span class="MuiBox-root mui-1vu004u">Bookings</span> and <span class="MuiBox-root mui-1vu004u">Tickets</span>. The <span class="MuiBox-root mui-1vu004u">Bookings</span> table will store the details of each booking, including the user ID, ticket IDs, total price, and booking status. The <span class="MuiBox-root mui-1vu004u">Tickets</span> table will store the details of each ticket, including the event ID, seat details, pricing, and status. The <span class="MuiBox-root mui-1vu004u">Tickets</span> table will also have a <span class="MuiBox-root mui-1vu004u">bookingId</span> column that links it to the <span class="MuiBox-root mui-1vu004u">Bookings</span> table.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Booking Service:</strong> This microservice is responsible for the core functionality of the ticket booking process. It interacts with databases that store data on bookings and tickets.
<ul class="MuiList-root MuiList-padding mui-sedpvs">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">It interfaces with the <span class="MuiBox-root mui-1vu004u">Payment Processor (Stripe)</span> for transactions. Once a payment is confirmed, the booking service updates the ticket status to "sold".</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">It communicates with the <span class="MuiBox-root mui-1vu004u">Bookings</span> and <span class="MuiBox-root mui-1vu004u">Tickets</span> tables to fetch, update, or store relevant data.</div></li>
</ul>
</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Payment Processor (Stripe):</strong> An external service responsible for handling payment transactions. Once a payment is processed, it notifies the booking service of the transaction status.</div></li>
</ol>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">When a user goes to book a ticket, the following happens:</div>
<ol style="list-style: outside decimal;">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">The user is redirected to a booking page where they can provide their payment details and confirm the booking.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Upon confirmation, a POST request is sent to the <span class="MuiBox-root mui-1vu004u">/bookings</span> endpoint with the selected ticket IDs.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">The booking server initiates a transaction to:
<ul class="MuiList-root MuiList-padding mui-sedpvs">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Check the availability of the selected tickets.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Update the status of the selected tickets to ‚Äúbooked‚Äù.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Create a new booking record in the Bookings table.</div></li>
</ul>
</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">If the transaction is successful, the booking server returns a success response to the client. Otherwise, if the transaction failed because another user booked the ticket in the meantime, the server returns a failure response and we pass this information back to the client.</div></li>
</ol>
<div class="my-6"><div class="MuiBox-root mui-1ygn9bx"><div class="MuiBox-root mui-14185gn"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-6 h-6 heroicon-sw-2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"></path></svg></div><div class="MuiBox-root mui-79elbk"><div style="overflow: hidden; max-height: 300px;"><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Note, this means that when a new event is created we need to create a new ticket for each seat in the venue. Each of which will be available for purchase until it is booked.</div></div></div></div></div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">You may have noticed there is a fundamental issue with this design. Users can get to the booking page, type in their payment details, and then find out that the ticket they wanted is no longer available. This would suck and is something that we are going to discuss how to avoid later on in our deep dives. For now, we have a simple implementation that meets the functional requirement.</div>
<h2 class="MuiTypography-root MuiTypography-h3 mui-1rzqq5q" id="potential-deep-dives"><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://www.hellointerview.com/learn/system-design/in-a-hurry/delivery#deep-dives-10-minutes" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Potential Deep Dives</a></h2>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">With the core functional requirements met, it's time to dig into the non-functional requirements via deep dives. These are the main deep dives I like to cover for this question:</div>
<div class="my-6"><div class="MuiBox-root mui-1147lff"><div class="MuiBox-root mui-zvu67g"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-6 h-6 heroicon-sw-2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"></path></svg></div><div class="MuiBox-root mui-79elbk"><div style="overflow: hidden; max-height: 300px;"><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">The degree to which a candidate should proactively lead the deep dives is a function of their seniority. For example, it is completely reasonable in a mid-level interview for the interviewer to drive the majority of the deep dives. However, in senior and staff+ interviews, the level of agency and ownership expected of the candidate increases. They should be able to proactively look around corners and address the system in ways that the interviewer may not have thought of.</div></div></div></div></div>
<h3 class="MuiTypography-root MuiTypography-h4 mui-hkpafq" id="1-how-do-we-improve-the-booking-experience-by-reserving-tickets">1) How do we improve the booking experience by reserving tickets?</h3>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">The current solution, while it technically works, results in a horrible user experience. No one wants to spend 5 minutes filling out a payment form only to find out the tickets they wanted are no longer available because someone else typed their credit card info faster.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">If you've ever used similar sites to book event tickets, airline tickets, hotels, etc., you've probably seen a timer counting down the time you have to complete your purchase. This is a common technique to reserve the tickets for a user while they are checking out. Let's discuss how we can add something like this to our design.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">We need to ensure that the ticket is locked for the user while they are checking out. We also need to ensure that if the user abandons the checkout process, the ticket is released for other users to purchase. Finally, we need to ensure that if the user completes the checkout process, the ticket is marked as sold and the booking is confirmed. Here are a couple ways we could do this:</div>
<div class="my-6 flex flex-col gap-4"><div class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation0 MuiAccordion-root MuiAccordion-rounded MuiAccordion-gutters mui-ifi55z"><div class="MuiButtonBase-root MuiAccordionSummary-root MuiAccordionSummary-gutters mui-1ev8i4f" tabindex="0" role="button" aria-expanded="false" aria-controls="panel1bh-content" id="panel1bh-header"><div class="MuiAccordionSummary-content MuiAccordionSummary-contentGutters mui-l0jafl"><p class="MuiTypography-root MuiTypography-body1 mui-h8owmt">Bad Solution: Pessimistic Locking</p></div><div class="MuiAccordionSummary-expandIconWrapper mui-awtdfi"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ExpandMoreIcon"><path d="M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"></path></svg></div></div><div class="MuiCollapse-root MuiCollapse-vertical MuiCollapse-hidden mui-a0y2e3" style="min-height: 0px;"><div class="MuiCollapse-wrapper MuiCollapse-vertical mui-hboir5"><div class="MuiCollapse-wrapperInner MuiCollapse-vertical mui-8atqhb"><div aria-labelledby="panel1bh-header" id="panel1bh-content" role="region" class="MuiAccordion-region"><div class="MuiAccordionDetails-root mui-u7qq7e"><h6 class="MuiTypography-root MuiTypography-body1 mui-1quhbks" id="approach">Approach</h6><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">A bad solution many candidates propose for this problem is to use long-running database locks (sometimes referred to as "interactive transactions"). In this method, the database is directly utilized to lock a specific ticket row, ensuring exclusive access to the first user trying to book it. This is typically done using the <span class="MuiBox-root mui-1vu004u">SELECT FOR UPDATE</span> statement in PostgreSQL, which locks the selected row(s) as part of a database transaction. The lock on the row is maintained until the transaction is either committed or rolled back. During this time, other transactions attempting to select the same row with <span class="MuiBox-root mui-1vu004u">SELECT FOR UPDATE</span> will be blocked until the lock is released. This ensures that only one user can process the ticket booking at a time.</div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">When it comes to unlocking, there are two cases we need to consider:</div><ol style="list-style: outside decimal;">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">If the user finalizes the purchase, the transaction is committed, the database lock is released, and the ticket status is set to "Booked".</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">If the user takes too long or abandons the purchase, the system has to rely on their subsequent actions or session timeouts to release the lock. This introduces the risk of tickets being locked indefinitely if not appropriately handled.</div></li>
</ol><h6 class="MuiTypography-root MuiTypography-body1 mui-1quhbks" id="challenges">Challenges</h6><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Why is this a bad idea? Well, database locks are meant to be used for short periods of time (a single, near-instant, transaction). Keeping a transaction open for a long period (like the 5-minute lock duration) is generally not advisable. It can strain database resources and increase the risk of lock contention and deadlocks. Additionally, SQL DBs like PostgreSQL doesn't natively support lock timeouts within transactions. Implementing a timeout would require application-level management and additional complexity. Finally, this approach may not scale well under high load, as prolonged locks can lead to increased wait times for other users and potential performance bottlenecks. Handling edge cases, such as application crashes or network issues, becomes more challenging, as these could leave locks in an uncertain state.</div></div></div></div></div></div></div><div class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation0 MuiAccordion-root MuiAccordion-rounded MuiAccordion-gutters mui-nhbct3"><div class="MuiButtonBase-root MuiAccordionSummary-root MuiAccordionSummary-gutters mui-guv1gb" tabindex="0" role="button" aria-expanded="false" aria-controls="panel1bh-content" id="panel1bh-header"><div class="MuiAccordionSummary-content MuiAccordionSummary-contentGutters mui-l0jafl"><p class="MuiTypography-root MuiTypography-body1 mui-h8owmt">Good Solution: Status &amp; Expiration Time with Cron</p></div><div class="MuiAccordionSummary-expandIconWrapper mui-awtdfi"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ExpandMoreIcon"><path d="M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"></path></svg></div></div><div class="MuiCollapse-root MuiCollapse-vertical MuiCollapse-hidden mui-a0y2e3" style="min-height: 0px;"><div class="MuiCollapse-wrapper MuiCollapse-vertical mui-hboir5"><div class="MuiCollapse-wrapperInner MuiCollapse-vertical mui-8atqhb"><div aria-labelledby="panel1bh-header" id="panel1bh-content" role="region" class="MuiAccordion-region"><div class="MuiAccordionDetails-root mui-u7qq7e"><h6 class="MuiTypography-root MuiTypography-body1 mui-1quhbks" id="approach-1">Approach</h6><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">A better solution is to lock the ticket by adding a status field and expiration time on the ticket table. The ticket can then be in 1 of 3 states: available, reserved, booked. This allows us to track the status of each ticket and automatically release the lock once the expiration time is reached. When a user selects a ticket, the status changes from "available" to "reserved", and the current timestamp is recorded.</div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Now lets think about how we handle unlocking with this approach:</div><ol style="list-style: outside decimal;">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">If the user finalizes the purchase, the status changes to "booked", and the lock is released.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">If the user takes too long or abandons the purchase, the status changes back to "available" once the expiration time is reached, and the lock is released. The tricky part here is how we handle the expiration time. We could use a cron job to periodically query for rows with "reserved" status where the time elapsed exceeds the lock duration and then set them back to "available". This is much better, but the lag between the elapsed time and the time the row is changed is not ideal for popular events. Ideally, the lock should be removed almost exactly after expiration.</div></li>
</ol><h6 class="MuiTypography-root MuiTypography-body1 mui-1quhbks" id="challenges-1">Challenges</h6><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Whether we use the cron job or on-demand approach, they both have significant drawbacks:</div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Cron Job Approach:</div><ul class="MuiList-root MuiList-padding mui-sedpvs">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Delay in Unlocking: There's an inherent delay between the ticket expiration and the cron job execution, leading to inefficiencies, particularly for high-demand events. Tickets might remain unavailable for purchase even after the expiration time, reducing booking opportunities.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Reliability Issues: If the cron job experiences failures or delays, it can cause significant disruptions in the ticket booking process, leading to customer dissatisfaction and potential revenue loss.</div></li>
</ul></div></div></div></div></div></div><div class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation0 MuiAccordion-root MuiAccordion-rounded MuiAccordion-gutters mui-11r69q9"><div class="MuiButtonBase-root MuiAccordionSummary-root MuiAccordionSummary-gutters mui-3ujfba" tabindex="0" role="button" aria-expanded="false" aria-controls="panel1bh-content" id="panel1bh-header"><div class="MuiAccordionSummary-content MuiAccordionSummary-contentGutters mui-l0jafl"><p class="MuiTypography-root MuiTypography-body1 mui-h8owmt">Great Solution: Implicit Status with Status and Expiration Time</p></div><div class="MuiAccordionSummary-expandIconWrapper mui-awtdfi"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ExpandMoreIcon"><path d="M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"></path></svg></div></div><div class="MuiCollapse-root MuiCollapse-vertical MuiCollapse-hidden mui-a0y2e3" style="min-height: 0px;"><div class="MuiCollapse-wrapper MuiCollapse-vertical mui-hboir5"><div class="MuiCollapse-wrapperInner MuiCollapse-vertical mui-8atqhb"><div aria-labelledby="panel1bh-header" id="panel1bh-content" role="region" class="MuiAccordion-region"><div class="MuiAccordionDetails-root mui-u7qq7e"><h6 class="MuiTypography-root MuiTypography-body1 mui-1quhbks" id="approach-2">Approach</h6><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">We can do even better than our cron-based solution by recognizing the the status of any given ticket is the combination of two attributes: whether it's available OR whether it's been reserved but the reservation has expired. Rather than using long-running interactive transactions or locks, we can create short transactions to update the fields on the ticket record (e.g. changing "available" to "reserved" and setting expiration to +10 minutes). Inside these transactions we can confirm the ticket is available before reserving it or that the expiration on the previous reservation has passed.</div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">So, in pseudocode, our transaction looks like this:</div><ol style="list-style: outside decimal;">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">We begin a transaction</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">We check to see if the current ticket is either AVAILABLE or (RESERVED but expired)</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">We update the ticket to RESERVED with expiration now + 10 minutes.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">We commit the transaction.</div></li>
</ol><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">This guarantees only one user will be able to reserve or book a ticket <em>and</em> that users will be able to claim tickets from expired reservations.</div><h6 class="MuiTypography-root MuiTypography-body1 mui-1quhbks" id="challenges-2">Challenges</h6><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Our read operations are going to be be slightly slower by needing to filter on two values. We can partly solve this by utilizing materialized views or other features of modern RDBMS's together with a compound index. Our database table is also less legible for other consumers of the data, since some reservations are actually expired. We can solve that problem by utilizing a cron or periodic sweep job like above, with the very important difference that our system behavior will not be effected if that sweep is delayed.</div></div></div></div></div></div></div><div class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation0 MuiAccordion-root MuiAccordion-rounded MuiAccordion-gutters mui-11r69q9"><div class="MuiButtonBase-root MuiAccordionSummary-root MuiAccordionSummary-gutters mui-3ujfba" tabindex="0" role="button" aria-expanded="false" aria-controls="panel1bh-content" id="panel1bh-header"><div class="MuiAccordionSummary-content MuiAccordionSummary-contentGutters mui-l0jafl"><p class="MuiTypography-root MuiTypography-body1 mui-h8owmt">Great Solution: Distributed Lock with TTL</p></div><div class="MuiAccordionSummary-expandIconWrapper mui-awtdfi"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ExpandMoreIcon"><path d="M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"></path></svg></div></div><div class="MuiCollapse-root MuiCollapse-vertical MuiCollapse-hidden mui-a0y2e3" style="min-height: 0px;"><div class="MuiCollapse-wrapper MuiCollapse-vertical mui-hboir5"><div class="MuiCollapse-wrapperInner MuiCollapse-vertical mui-8atqhb"><div aria-labelledby="panel1bh-header" id="panel1bh-content" role="region" class="MuiAccordion-region"><div class="MuiAccordionDetails-root mui-u7qq7e"><h6 class="MuiTypography-root MuiTypography-body1 mui-1quhbks" id="approach-3">Approach</h6><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Another great solution is to implement a <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://www.hellointerview.com/learn/system-design/in-a-hurry/key-technologies#distributed-lock" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">distributed lock</a> with a TTL (Time To Live) using a distributed system like <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://www.hellointerview.com/learn/system-design/deep-dives/redis" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Redis</a>. Redis is an in-memory data store that supports distributed locks and is well-suited for high-concurrency environments. It offers high availability and can be used to implement a distributed lock mechanism for the ticket booking process. Here is how it would work:</div><ol style="list-style: outside decimal;">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">When a user selects a ticket, acquire a lock in Redis using a unique identifier (e.g., ticket ID) with a predefined TTL (Time To Live). This TTL acts as an automatic expiration time for the lock.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">If the user completes the purchase, the ticket's status in the database is updated to "Booked", and the lock in Redis is manually released by the application after the TTL.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">If the TTL expires (indicating the user did not complete the purchase in time), Redis automatically releases the lock. This ensures that the ticket becomes available for booking by other users without any additional intervention.</div></li>
</ol><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Now our Ticket table only has two states: available and booked. Locking of reserved tickets is handled entirely by Redis. The key-value pair in Redis is the ticket ID and the value is the user ID. This way we can ensure that when a user confirms the booking, they are the user who reserved the ticket.</div><h6 class="MuiTypography-root MuiTypography-body1 mui-1quhbks" id="challenges-3">Challenges</h6><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">The main downside comes with handling failures. If our lock goes down for any reason, then we have a period of time where user experience is degraded. Note that we will still never have a "double booking" since our database will use OCC or any other concurrency control to ensure this. The downside is just that users can get an error after filling out their payment details if someone beats them to it. This sucks, but I would argue that it is a better outcome than having all tickets appear unavailable (as would be the case if the cron job in our previous solution failed).</div></div></div></div></div></div></div></div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">In this case, let's go with the great solution and use distributed lock. We can now update our design to support this flow.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><div class="MuiBox-root mui-10khgmf" style="cursor: pointer;"><div class="MuiGrid-root MuiGrid-container MuiGrid-direction-xs-column mui-1tdxmx0"><div class="MuiGrid-root MuiGrid-item mui-tolxbf"><div class="relative w-full"><button class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall mui-wksd04" tabindex="0" type="button" aria-label="zoom-in"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ZoomInIcon"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"></path><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"></path></svg><span class="MuiTouchRipple-root mui-w0pj6f"></span></button><span class="w-full h-full"><span class="block"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1798.815314745331 957.3824707271306">
  <!-- svg-source:excalidraw -->
  <!-- payload-type:application/vnd.excalidraw+json --><!-- payload-version:2 -->
  <defs>
    <style class="style-fonts">
      
      
      
    </style>
    
  </defs>
  <rect x="0" y="0" width="1798.815314745331" height="957.3824707271306" fill="#ffffff"></rect><g stroke-linecap="round" transform="translate(10 342.80869222417095) rotate(0 66.41791896430016 54.30053481342259)"><path d="M27.15 0 C57.65 -1.26, 86.64 1.43, 105.69 0 M27.15 0 C53.15 1.09, 79.31 0.37, 105.69 0 M105.69 0 C123.64 -1.63, 132.78 10.32, 132.84 27.15 M105.69 0 C123.56 -0.4, 132.9 10.15, 132.84 27.15 M132.84 27.15 C131.2 41.44, 132.22 56.21, 132.84 81.45 M132.84 27.15 C132.73 42.7, 132.03 60.9, 132.84 81.45 M132.84 81.45 C133.86 99.75, 123.64 108.79, 105.69 108.6 M132.84 81.45 C131.37 97.62, 125.05 110.05, 105.69 108.6 M105.69 108.6 C78.69 107.76, 48.66 108.51, 27.15 108.6 M105.69 108.6 C76.91 109.01, 47.38 108.42, 27.15 108.6 M27.15 108.6 C10.51 107.22, -1.08 99.08, 0 81.45 M27.15 108.6 C9.2 106.88, 1.19 101.59, 0 81.45 M0 81.45 C1.03 63.35, -0.48 41.64, 0 27.15 M0 81.45 C0.71 61.28, -0.15 40.17, 0 27.15 M0 27.15 C1.72 10.95, 10.06 1.83, 27.15 0 M0 27.15 C1.26 10.3, 9.04 2.17, 27.15 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(51.974559589300156 384.60922703759354) rotate(0 24.443359375 12.5)"><text x="24.443359375" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Client</text></g><g stroke-linecap="round" transform="translate(273.2528845617528 193.82069936825428) rotate(0 91.13351565247496 195.92611917101357)"><path d="M32 0 C60.94 -1.25, 87.78 -1.85, 150.27 0 M32 0 C77.41 -0.97, 122.94 0.48, 150.27 0 M150.27 0 C171.41 -0.35, 182.33 11.62, 182.27 32 M150.27 0 C170.87 0.87, 183.47 8.55, 182.27 32 M182.27 32 C181.39 124.99, 180.48 219.98, 182.27 359.85 M182.27 32 C181.56 100.09, 181.16 168.12, 182.27 359.85 M182.27 359.85 C181 379.5, 172.7 393.11, 150.27 391.85 M182.27 359.85 C183.83 382.25, 170.94 394.03, 150.27 391.85 M150.27 391.85 C119.9 393.91, 85.4 393.19, 32 391.85 M150.27 391.85 C105.32 391.49, 58.37 391.94, 32 391.85 M32 391.85 C10.8 390.35, 1.03 382.96, 0 359.85 M32 391.85 C12.22 394.15, -0.89 383, 0 359.85 M0 359.85 C0.98 230.39, 1.27 102.81, 0 32 M0 359.85 C1.47 252.88, 1.23 145.23, 0 32 M0 32 C1.09 11.75, 10.66 1.89, 32 0 M0 32 C0.48 12.93, 11.08 2.24, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(301.91081427672776 339.74681853926785) rotate(0 62.4755859375 50)"><text x="62.4755859375" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">API Gateway</text><text x="62.4755859375" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- authentication</text><text x="62.4755859375" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- rate limiting</text><text x="62.4755859375" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- routing</text></g><g stroke-linecap="round"><g transform="translate(156.9605616707031 396.9823636565725) rotate(0 56.38036740573851 -0.5551085060830019)"><path d="M-0.59 1.02 C18.08 0.92, 92.89 -0.43, 111.77 -0.95 M1.3 0.5 C20.35 0.66, 95.53 0.97, 113.96 0.67" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(156.9605616707031 396.9823636565725) rotate(0 56.38036740573851 -0.5551085060830019)"><path d="M27.43 -9.69 C21.22 -8.48, 11.93 -3.96, -0.59 1.02 M27.43 -9.69 C21.21 -7.35, 15.22 -4.36, -0.59 1.02" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(156.9605616707031 396.9823636565725) rotate(0 56.38036740573851 -0.5551085060830019)"><path d="M27.76 10.82 C21.52 6.28, 12.13 5.03, -0.59 1.02 M27.76 10.82 C21.48 8.69, 15.41 7.2, -0.59 1.02" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(156.9605616707031 396.9823636565725) rotate(0 56.38036740573851 -0.5551085060830019)"><path d="M85.82 11.05 C95.44 6.62, 101.92 5.22, 113.96 0.67 M85.82 11.05 C91.87 8.43, 98.14 6.82, 113.96 0.67" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(156.9605616707031 396.9823636565725) rotate(0 56.38036740573851 -0.5551085060830019)"><path d="M85.73 -9.47 C95.32 -8.13, 101.82 -3.78, 113.96 0.67 M85.73 -9.47 C91.79 -7.61, 98.08 -4.75, 113.96 0.67" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(680.0516580664366 329.0849623405138) rotate(0 133.45758189228422 69.29831816266892)"><path d="M32 0 C83.11 1.37, 132.28 1.45, 234.92 0 M32 0 C105.8 0.74, 179.27 0.65, 234.92 0 M234.92 0 C257.29 -1.84, 266.64 9.84, 266.92 32 M234.92 0 C256.18 0.08, 265.5 9.23, 266.92 32 M266.92 32 C267.83 57.12, 266.42 80.05, 266.92 106.6 M266.92 32 C266.99 55.69, 267.12 78.6, 266.92 106.6 M266.92 106.6 C266.34 129.83, 255.64 139.35, 234.92 138.6 M266.92 106.6 C267.07 129.64, 258.52 137.27, 234.92 138.6 M234.92 138.6 C161.83 140.79, 86.53 138.52, 32 138.6 M234.92 138.6 C179.26 138.03, 123.28 138.13, 32 138.6 M32 138.6 C9.9 140.17, 1.86 127.99, 0 106.6 M32 138.6 C10.78 140.36, -1.03 130.18, 0 106.6 M0 106.6 C-0.96 82.43, 1.69 55.84, 0 32 M0 106.6 C-0.41 78.35, -0.2 49.21, 0 32 M0 32 C0.36 12.61, 10.39 0.72, 32 0 M0 32 C-1.17 9.31, 12.67 2.09, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(757.6986930837209 385.88328050318273) rotate(0 55.810546875 12.5)"><text x="55.810546875" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Event Service</text></g><g stroke-linecap="round"><g transform="translate(470.0909273878158 406.8464539599445) rotate(0 98.12245388739251 1.71820194628026)"><path d="M-0.03 0.76 C32.67 1.46, 163.41 2.69, 196.13 3.23 M-1.51 0.12 C31.03 1.09, 162.28 4.35, 195.12 4.66" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(470.0909273878158 406.8464539599445) rotate(0 98.12245388739251 1.71820194628026)"><path d="M28.28 -9.14 C21.18 -6.44, 11.27 -3.29, -0.03 0.76 M28.28 -9.14 C18.93 -6.51, 8.43 -2.56, -0.03 0.76" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(470.0909273878158 406.8464539599445) rotate(0 98.12245388739251 1.71820194628026)"><path d="M28.03 11.38 C21.17 8.07, 11.33 5.21, -0.03 0.76 M28.03 11.38 C18.83 6.87, 8.41 3.69, -0.03 0.76" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(470.0909273878158 406.8464539599445) rotate(0 98.12245388739251 1.71820194628026)"><path d="M166.74 14.4 C176.4 11.36, 183.1 8.76, 195.12 4.66 M166.74 14.4 C177.16 9.99, 186.37 7.11, 195.12 4.66" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(470.0909273878158 406.8464539599445) rotate(0 98.12245388739251 1.71820194628026)"><path d="M167.12 -6.12 C176.5 -3.15, 183.08 0.26, 195.12 4.66 M167.12 -6.12 C177.34 -3.4, 186.41 0.86, 195.12 4.66" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(1122.855603619533 283.38875988430846) rotate(0 112.92030416412285 108.78506994587957)"><path d="M114.96 0.53 C127.67 -0.94, 141.87 2.98, 154.34 7.8 C166.82 12.62, 179.74 20.56, 189.81 29.45 C199.88 38.34, 208.92 49.27, 214.77 61.12 C220.61 72.98, 223.98 87.49, 224.87 100.58 C225.77 113.66, 223.81 127.03, 220.14 139.63 C216.46 152.22, 211 165.73, 202.82 176.13 C194.64 186.53, 182.82 195.5, 171.04 202.04 C159.26 208.58, 145.68 213.04, 132.12 215.37 C118.56 217.69, 102.93 218.34, 89.7 215.96 C76.46 213.58, 63.93 208.3, 52.69 201.1 C41.46 193.9, 30.26 183.5, 22.28 172.77 C14.3 162.03, 8.36 149.29, 4.82 136.7 C1.27 124.11, -0.39 110.03, 1.03 97.22 C2.45 84.41, 7.25 71.4, 13.34 59.85 C19.42 48.31, 27.31 36.71, 37.51 27.95 C47.71 19.18, 60.49 11.75, 74.55 7.27 C88.61 2.78, 113.03 1.82, 121.86 1.05 C130.7 0.28, 127.78 0.97, 127.56 2.66 M72.61 9.05 C83.76 2.89, 98.11 1.49, 111.77 1.18 C125.43 0.88, 141.76 2.53, 154.57 7.2 C167.39 11.86, 178.9 20.16, 188.65 29.17 C198.4 38.18, 206.85 49.69, 213.07 61.27 C219.3 72.84, 224.67 85.92, 226.01 98.62 C227.35 111.32, 224.66 124.68, 221.1 137.46 C217.54 150.24, 212.58 164.51, 204.66 175.33 C196.75 186.14, 185.21 195.5, 173.61 202.35 C162.01 209.2, 148.53 213.95, 135.05 216.43 C121.57 218.91, 106.19 219.46, 92.73 217.23 C79.27 215, 65.83 209.87, 54.28 203.04 C42.73 196.21, 31.76 186.81, 23.42 176.24 C15.09 165.67, 8.22 152.6, 4.26 139.62 C0.3 126.65, -1.77 111.33, -0.33 98.41 C1.1 85.5, 6.59 73.8, 12.89 62.15 C19.2 50.5, 27.73 37.85, 37.5 28.5 C47.27 19.16, 65.44 9.01, 71.51 6.09 C77.57 3.17, 73.41 9.24, 73.9 10.99" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1180.377437163057 367.2511691796037) rotate(0 55.5517578125 25)"><text x="55.5517578125" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Database</text><text x="55.5517578125" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">(PostgreSQL)</text></g><g stroke-linecap="round"><g transform="translate(955.7234170581862 396.8944771316037) rotate(0 75.14656532720915 0.29807728076474405)"><path d="M-0.38 0.45 C24.77 0.27, 125.84 -0.45, 150.92 -0.51 M1.62 -0.36 C26.66 -0.48, 125.69 0.2, 150.3 0.45" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(955.7234170581862 396.8944771316037) rotate(0 75.14656532720915 0.29807728076474405)"><path d="M27.74 -10 C20.02 -5.88, 8.91 -4.03, -0.38 0.45 M27.74 -10 C19.84 -7.91, 13.41 -5.5, -0.38 0.45" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(955.7234170581862 396.8944771316037) rotate(0 75.14656532720915 0.29807728076474405)"><path d="M27.88 10.52 C20.02 8.43, 8.87 4.06, -0.38 0.45 M27.88 10.52 C19.95 7.3, 13.48 4.39, -0.38 0.45" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(955.7234170581862 396.8944771316037) rotate(0 75.14656532720915 0.29807728076474405)"><path d="M122.03 10.48 C131.3 8.58, 137.27 4.22, 150.3 0.45 M122.03 10.48 C128.74 7.25, 136.9 4.36, 150.3 0.45" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(955.7234170581862 396.8944771316037) rotate(0 75.14656532720915 0.29807728076474405)"><path d="M122.19 -10.04 C131.51 -5.72, 137.44 -3.87, 150.3 0.45 M122.19 -10.04 C128.85 -7.96, 136.98 -5.54, 150.3 0.45" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(1377.222077890124 248.4795822577562) rotate(0 65.74993133544922 100)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Event</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- id</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- venueId</text><text x="0" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- performerId</text><text x="0" y="100" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- tickets[]</text><text x="0" y="125" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- name</text><text x="0" y="150" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- description</text><text x="0" y="175" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- ....</text></g><g transform="translate(1547.429795159642 246.65944632439823) rotate(0 51.58995819091797 62.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Venue</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- id</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- location</text><text x="0" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- seatMap</text><text x="0" y="100" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- ...</text></g><g transform="translate(1694.455420946503 252.07797672986817) rotate(0 47.17994689941406 37.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Performer</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- id</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">...</text></g><g transform="translate(500.43034150415417 362.7018156796894) rotate(0 64.13993835449219 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">view(eventId)</text></g><g stroke-linecap="round" transform="translate(673.7122488405965 81.61372336185377) rotate(0 133.45758189228422 69.29831816266892)"><path d="M32 0 C78.71 -1.26, 130.16 0.5, 234.92 0 M32 0 C94.32 -0.92, 158.27 0.4, 234.92 0 M234.92 0 C257.61 0.93, 266.34 12.56, 266.92 32 M234.92 0 C255.54 0.87, 267.07 12.38, 266.92 32 M266.92 32 C268.21 62.73, 267.03 92.96, 266.92 106.6 M266.92 32 C266.58 48.49, 267.03 67.37, 266.92 106.6 M266.92 106.6 C268.27 129.93, 255.48 140.17, 234.92 138.6 M266.92 106.6 C269.05 128, 256.37 140.36, 234.92 138.6 M234.92 138.6 C183.62 138.75, 130.64 140.99, 32 138.6 M234.92 138.6 C155.24 140.74, 74.58 141.1, 32 138.6 M32 138.6 C11.08 140.56, 0.36 129.88, 0 106.6 M32 138.6 C10.35 139.42, -1.17 126.58, 0 106.6 M0 106.6 C-1.03 77.59, -2.62 50.79, 0 32 M0 106.6 C0.42 77.83, 0.46 48.11, 0 32 M0 32 C1.74 10.58, 12.1 -1.79, 32 0 M0 32 C1.07 8.56, 10.56 1.35, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(747.4774479203808 138.4120415245227) rotate(0 59.6923828125 12.5)"><text x="59.6923828125" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Search Service</text></g><g stroke-linecap="round"><g transform="translate(471.95087765606047 340.47306822446626) rotate(0 90.93538370750376 -87.87295048122769)"><path d="M0.61 0.12 C31.01 -29.31, 151.7 -146.16, 181.78 -175.64 M-0.52 -0.86 C29.75 -30.17, 150.1 -144.86, 180.79 -174.04" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(471.95087765606047 340.47306822446626) rotate(0 90.93538370750376 -87.87295048122769)"><path d="M13.72 -26.87 C10.82 -20.12, 7.49 -14.42, 0.61 0.12 M13.72 -26.87 C11.72 -20.49, 7.92 -14.18, 0.61 0.12" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(471.95087765606047 340.47306822446626) rotate(0 90.93538370750376 -87.87295048122769)"><path d="M28 -12.13 C21.37 -9.03, 14.43 -7.06, 0.61 0.12 M28 -12.13 C22.83 -8.85, 15.95 -5.72, 0.61 0.12" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(471.95087765606047 340.47306822446626) rotate(0 90.93538370750376 -87.87295048122769)"><path d="M167.45 -147.17 C170.81 -154.18, 174.17 -162.1, 180.79 -174.04 M167.45 -147.17 C170.87 -152.59, 172.78 -157.91, 180.79 -174.04" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(471.95087765606047 340.47306822446626) rotate(0 90.93538370750376 -87.87295048122769)"><path d="M153.3 -162.03 C160.36 -165.35, 167.3 -169.52, 180.79 -174.04 M153.3 -162.03 C159.85 -164.33, 164.82 -166.44, 180.79 -174.04" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(164.10218856898575 10) rotate(0 468.1796569824219 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">GET /search?term={term}&amp;location={location}&amp;type={type}&amp;date={date} -&gt; Partial&lt;Event&gt;[]</text></g><g stroke-linecap="round"><g transform="translate(953.5581413863454 155.685936333899) rotate(0 94.64702248989141 70.92741489771151)"><path d="M-0.76 -1.01 C30.91 22.74, 158.14 118.71, 189.95 142.61 M1.04 1.08 C32.62 24.48, 157.9 117.67, 189.35 140.88" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(953.5581413863454 155.685936333899) rotate(0 94.64702248989141 70.92741489771151)"><path d="M27.93 7.75 C17.84 6.11, 12.37 3.8, -0.76 -1.01 M27.93 7.75 C17.71 5.37, 8.14 2.7, -0.76 -1.01" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(953.5581413863454 155.685936333899) rotate(0 94.64702248989141 70.92741489771151)"><path d="M15.58 24.15 C9.09 17.78, 7.24 10.67, -0.76 -1.01 M15.58 24.15 C9.69 15.97, 4.4 7.62, -0.76 -1.01" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(953.5581413863454 155.685936333899) rotate(0 94.64702248989141 70.92741489771151)"><path d="M160.6 132.34 C167.34 136.12, 178.71 138.88, 189.35 140.88 M160.6 132.34 C170.23 135.4, 180.56 138.73, 189.35 140.88" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(953.5581413863454 155.685936333899) rotate(0 94.64702248989141 70.92741489771151)"><path d="M172.82 115.85 C176 124.39, 183.78 131.98, 189.35 140.88 M172.82 115.85 C178.17 124.74, 184.27 133.78, 189.35 140.88" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(1019.4699252994563 153.8242919347158) rotate(0 129.81988525390625 25)"><text x="129.81988525390625" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Query event table directly</text><text x="129.81988525390625" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">for search</text></g><g stroke-linecap="round" transform="translate(691.3079702354096 613.8894445030364) rotate(0 132.1456120008337 76.0151989733738)"><path d="M32 0 C103.95 -1.74, 175.94 -1.77, 232.29 0 M32 0 C100.55 -1.86, 167.88 -0.56, 232.29 0 M232.29 0 C254.6 0.55, 265.75 9.29, 264.29 32 M232.29 0 C252.38 -0.54, 264.45 8.94, 264.29 32 M264.29 32 C267.07 62.19, 266.65 95.79, 264.29 120.03 M264.29 32 C263.89 59.67, 264.81 85.66, 264.29 120.03 M264.29 120.03 C263.51 140.61, 255.34 153.93, 232.29 152.03 M264.29 120.03 C265.45 143.46, 254.88 153.28, 232.29 152.03 M232.29 152.03 C174.03 152.73, 113.98 152.16, 32 152.03 M232.29 152.03 C165.8 151.79, 98.39 150.81, 32 152.03 M32 152.03 C10.55 150.08, 1.97 143.25, 0 120.03 M32 152.03 C8.64 150.34, -0.54 142.84, 0 120.03 M0 120.03 C-0.38 96.84, -2.09 71.7, 0 32 M0 120.03 C-0.91 101.06, 0.98 83.3, 0 32 M0 32 C-1.08 9.32, 11.52 1.13, 32 0 M0 32 C2.08 12.06, 11.92 -0.27, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(756.5199884862434 677.4046434764102) rotate(0 66.93359375 12.5)"><text x="66.93359375" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Booking Service</text></g><g stroke-linecap="round"><g transform="translate(972.9638959666908 674.6686083836321) rotate(0 103.18857837129764 -85.73502393749277)"><path d="M-0.37 0.45 C34.1 -28.17, 171.8 -141.81, 206.46 -170.58 M1.64 -0.35 C35.99 -28.79, 171.26 -143.76, 205.55 -172.23" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(972.9638959666908 674.6686083836321) rotate(0 103.18857837129764 -85.73502393749277)"><path d="M190.59 -146.23 C195.15 -153.1, 199.94 -158.31, 205.55 -172.23 M190.59 -146.23 C194.54 -152.39, 198.4 -159.65, 205.55 -172.23" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(972.9638959666908 674.6686083836321) rotate(0 103.18857837129764 -85.73502393749277)"><path d="M177.38 -161.94 C185.67 -164.51, 194.04 -165.46, 205.55 -172.23 M177.38 -161.94 C184.62 -164.4, 191.69 -167.86, 205.55 -172.23" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(697.9943755026302 860.1277425167518) rotate(0 132.6881140308376 43.62736410518937)"><path d="M21.81 0 C82.82 1.58, 140.27 0.95, 243.56 0 M21.81 0 C108.09 -1.12, 192.64 -0.73, 243.56 0 M243.56 0 C258.24 -1.5, 266.41 9.05, 265.38 21.81 M243.56 0 C259.66 2.3, 264.49 9.08, 265.38 21.81 M265.38 21.81 C266.92 38.06, 267.34 57.04, 265.38 65.44 M265.38 21.81 C266.06 37.09, 265.71 51.37, 265.38 65.44 M265.38 65.44 C266.47 81.07, 258.1 89.14, 243.56 87.25 M265.38 65.44 C265.86 82.25, 258.52 89.49, 243.56 87.25 M243.56 87.25 C179.05 87.79, 118.13 87.52, 21.81 87.25 M243.56 87.25 C181.74 86.2, 117.46 84.76, 21.81 87.25 M21.81 87.25 C6.8 88.54, -0.4 80.66, 0 65.44 M21.81 87.25 C9.27 87.16, 1.65 77.92, 0 65.44 M0 65.44 C1.57 48.42, -0.86 37.09, 0 21.81 M0 65.44 C0.66 53.08, 1.14 40.21, 0 21.81 M0 21.81 C1.09 7.04, 9.08 0.06, 21.81 0 M0 21.81 C1.7 6.27, 5.75 -0.98, 21.81 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(806.7957707834678 891.2551066219412) rotate(0 23.88671875 12.5)"><text x="23.88671875" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Stripe</text></g><g stroke-linecap="round"><g transform="translate(777.7883709218485 849.5280874689815) rotate(0 -0.0951187552088868 -36.923922624306954)"><path d="M0.75 1.03 C0.62 -11.1, 0.41 -60.9, 0.4 -73.52 M-0.31 0.53 C-0.66 -11.92, -0.36 -63.08, -0.25 -75.47" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(777.7883709218485 849.5280874689815) rotate(0 -0.0951187552088868 -36.923922624306954)"><path d="M-9.66 -27.1 C-3.95 -14.97, -0.97 -3.27, 0.75 1.03 M-9.66 -27.1 C-7.34 -21.32, -4.48 -13.18, 0.75 1.03" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(777.7883709218485 849.5280874689815) rotate(0 -0.0951187552088868 -36.923922624306954)"><path d="M10.86 -27.21 C8.39 -14.91, 3.18 -3.16, 0.75 1.03 M10.86 -27.21 C8.44 -21.46, 6.55 -13.29, 0.75 1.03" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(877.8704912097671 854.4987043592737) rotate(0 -0.587293208775435 -40.253123116126005)"><path d="M0.59 0.33 C0.41 -13.4, 0.1 -67.81, -0.3 -81.33 M-0.57 -0.55 C-0.89 -13.62, -0.4 -67.05, -0.79 -80.23" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(877.8704912097671 854.4987043592737) rotate(0 -0.587293208775435 -40.253123116126005)"><path d="M9.69 -52.12 C6.2 -60.8, 0.47 -73.53, -0.79 -80.23 M9.69 -52.12 C7.29 -59.08, 4.55 -66.75, -0.79 -80.23" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(877.8704912097671 854.4987043592737) rotate(0 -0.587293208775435 -40.253123116126005)"><path d="M-10.83 -51.96 C-6.89 -60.8, -5.17 -73.59, -0.79 -80.23 M-10.83 -51.96 C-7.55 -58.81, -4.62 -66.52, -0.79 -80.23" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(472.792096794106 530.6228330156737) rotate(0 103.31966170318998 73.45913294030242)"><path d="M0.87 -0.83 C35.11 23.56, 171.68 122.16, 205.99 146.64 M-0.13 1.35 C34.45 25.89, 174.01 123.77, 208.36 148.03" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(472.792096794106 530.6228330156737) rotate(0 103.31966170318998 73.45913294030242)"><path d="M29.75 7.3 C18.28 3.6, 9.12 1.98, 0.87 -0.83 M29.75 7.3 C23.89 6.73, 16.33 4.69, 0.87 -0.83" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(472.792096794106 530.6228330156737) rotate(0 103.31966170318998 73.45913294030242)"><path d="M17.77 23.96 C10.43 14.36, 5.45 6.93, 0.87 -0.83 M17.77 23.96 C14.51 19.53, 9.65 13.74, 0.87 -0.83" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(472.792096794106 530.6228330156737) rotate(0 103.31966170318998 73.45913294030242)"><path d="M179.4 140.2 C188.15 141.64, 199.16 145.58, 208.36 148.03 M179.4 140.2 C186.64 142.7, 192.09 144.25, 208.36 148.03" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(472.792096794106 530.6228330156737) rotate(0 103.31966170318998 73.45913294030242)"><path d="M191.21 123.41 C195.88 130.8, 202.78 140.59, 208.36 148.03 M191.21 123.41 C195.87 129.8, 198.67 135.13, 208.36 148.03" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(1373.076281767333 488.93251171886004) rotate(0 134.03988647460932 87.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Ticket</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- id</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- eventId</text><text x="0" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- seat</text><text x="0" y="100" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- price</text><text x="0" y="125" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- status: available, booked</text><text x="0" y="150" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- userId</text></g><g transform="translate(1673.2581223875193 490.06405698375784) rotate(0 43.38995361328125 50)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Booking</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- id</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- userId</text><text x="0" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- tickets</text></g><g transform="translate(548.7767418033012 527.7275184742994) rotate(0 201.83981323242188 25)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">reserve(ticketId, userId)</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">confirm(ticketId, userId, paymentDetails)</text></g><g stroke-linecap="round" transform="translate(1133.453691668826 626.6461230082577) rotate(0 62.59547628591781 59.93944973184932)"><path d="M50.63 1.16 C59.49 -1.63, 71.85 -0.67, 81.29 2.06 C90.74 4.79, 100.47 11.04, 107.32 17.54 C114.17 24.04, 119.65 32.16, 122.42 41.06 C125.19 49.95, 125.44 61.62, 123.92 70.92 C122.39 80.22, 118.94 89.54, 113.26 96.86 C107.59 104.19, 98.72 111.03, 89.86 114.86 C80.99 118.68, 69.76 120.31, 60.08 119.8 C50.4 119.29, 40.06 116.48, 31.78 111.8 C23.5 107.12, 15.5 99.67, 10.39 91.72 C5.28 83.77, 1.94 73.49, 1.13 64.11 C0.33 54.74, 1.96 43.81, 5.58 35.46 C9.2 27.12, 12.92 19.85, 22.84 14.06 C32.75 8.27, 56.02 2.6, 65.09 0.74 C74.15 -1.13, 77.54 1.83, 77.2 2.87 M90.66 7.49 C99.46 10.98, 107.49 18.4, 113.37 25.8 C119.26 33.21, 124.43 43.04, 125.94 51.93 C127.46 60.83, 125.89 70.67, 122.46 79.17 C119.03 87.68, 112.73 96.34, 105.36 102.95 C97.99 109.56, 87.98 116.44, 78.24 118.84 C68.5 121.24, 56.11 119.63, 46.92 117.36 C37.72 115.09, 30.29 111.31, 23.06 105.22 C15.83 99.14, 7.21 89.35, 3.53 80.86 C-0.14 72.36, -0.4 63.19, 1.01 54.28 C2.43 45.37, 6.57 35.27, 12.01 27.39 C17.45 19.52, 25.13 11.59, 33.66 7.03 C42.19 2.47, 53.45 0.24, 63.2 0.05 C72.94 -0.14, 87.75 4.73, 92.13 5.88 C96.5 7.03, 90.16 6.11, 89.46 6.96" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1166.8490056388696 649.2019813741263) rotate(0 29.4384765625 37.5)"><text x="29.4384765625" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Ticket </text><text x="29.4384765625" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Lock</text><text x="29.4384765625" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">(Redis)</text></g><g stroke-linecap="round"><g transform="translate(977.0851088394139 696.2566184409652) rotate(0 69.08745180587596 0.12502253312686662)"><path d="M1.12 0.04 C24.23 0.08, 115.48 0.94, 138.24 1.17 M0.24 -0.99 C23.25 -1.36, 114.6 -0.58, 137.32 -0.47" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(977.0851088394139 696.2566184409652) rotate(0 69.08745180587596 0.12502253312686662)"><path d="M29.39 -10 C22.14 -7.01, 16.22 -5.38, 1.12 0.04 M29.39 -10 C17.8 -6.31, 7.8 -0.98, 1.12 0.04" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(977.0851088394139 696.2566184409652) rotate(0 69.08745180587596 0.12502253312686662)"><path d="M29.23 10.52 C21.86 8.14, 15.98 4.4, 1.12 0.04 M29.23 10.52 C17.6 6.05, 7.67 3.21, 1.12 0.04" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(977.0851088394139 696.2566184409652) rotate(0 69.08745180587596 0.12502253312686662)"><path d="M109.06 9.61 C116.43 6.81, 125.29 3.18, 137.32 -0.47 M109.06 9.61 C119.86 5.14, 132.35 2.46, 137.32 -0.47" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(977.0851088394139 696.2566184409652) rotate(0 69.08745180587596 0.12502253312686662)"><path d="M109.2 -10.92 C116.7 -8.34, 125.52 -6.61, 137.32 -0.47 M109.2 -10.92 C120.04 -7.22, 132.48 -1.73, 137.32 -0.47" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(1049.7607073460294 761.6225661774333) rotate(0 149.9698944091797 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">{ticketId: userId} TTL 10 min</text></g></svg></span></span></div></div><div class="MuiGrid-root MuiGrid-item mui-1wxaqej"><span class="MuiTypography-root MuiTypography-caption mui-17cupi8">Booking Flow</span></div></div></div></div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Now, when a user wants to book a ticket:</div>
<ol style="list-style: outside decimal;">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">A user will select a seat from the interactive seat map. This will trigger a POST <span class="MuiBox-root mui-1vu004u">/bookings</span> with the ticketId associated with that seat.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">The request will be forwarded from our API gateway onto the Booking Service.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">The Booking Service will lock that ticket by adding it to our Redis Distributed Lock with a TTL of 10 minutes (this is how long we will hold the ticket for).</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">The Booking Service will also write a new booking entry in the DB with a status of in-progress.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">We will then respond to the user with their newly created <span class="MuiBox-root mui-1vu004u">bookingId</span> and route the client to a the payment page.
<ol style="list-style: outside decimal;">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">If the user stops here, then after 10 minutes the lock is auto-released and the ticket is available for another user to purchase.</div></li>
</ol>
</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">The user will fill out their payment details and click ‚ÄúPurchase.‚Äù In doing so, the payment (along with the <span class="MuiBox-root mui-1vu004u">bookingId</span>) gets sent to Stripe for processing and Stripe responds via webhook that the payment was successful.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Upon successful payment confirmation from Stripe, our system's webhook retrieves the <span class="MuiBox-root mui-1vu004u">bookingId</span> embedded within the Stripe metadata. With this <span class="MuiBox-root mui-1vu004u">bookingId</span>, the webhook initiates a database transaction to concurrently update the Ticket and Booking tables. Specifically, the status of the ticket linked to the booking is changed to "sold" in the Ticket table. Simultaneously, the corresponding booking entry in the Booking table is marked as "confirmed."</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Now the ticket is booked!</div></li>
</ol>
<h3 class="MuiTypography-root MuiTypography-h4 mui-hkpafq" id="2-how-is-the-view-api-going-to-scale-to-support-10s-of-millions-of-concurrent-requests-during-popular-events">2) How is the view API going to scale to support 10s of millions of concurrent requests during popular events?</h3>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">In our non-functional requirements we mentioned that our view and search paths need to be highly available, including during peak traffic scenarios. To accomplish this, we need a combination of load balancing, horizontal scaling, and caching.</div>
<div class="my-6 flex flex-col gap-4"><div class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation0 MuiAccordion-root MuiAccordion-rounded MuiAccordion-gutters mui-11r69q9"><div class="MuiButtonBase-root MuiAccordionSummary-root MuiAccordionSummary-gutters mui-3ujfba" tabindex="0" role="button" aria-expanded="false" aria-controls="panel1bh-content" id="panel1bh-header"><div class="MuiAccordionSummary-content MuiAccordionSummary-contentGutters mui-l0jafl"><p class="MuiTypography-root MuiTypography-body1 mui-h8owmt">Great Solution: Caching, Load Balancing, and Horizontal Scaling</p></div><div class="MuiAccordionSummary-expandIconWrapper mui-awtdfi"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ExpandMoreIcon"><path d="M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"></path></svg></div></div><div class="MuiCollapse-root MuiCollapse-vertical MuiCollapse-hidden mui-a0y2e3" style="min-height: 0px;"><div class="MuiCollapse-wrapper MuiCollapse-vertical mui-hboir5"><div class="MuiCollapse-wrapperInner MuiCollapse-vertical mui-8atqhb"><div aria-labelledby="panel1bh-header" id="panel1bh-content" role="region" class="MuiAccordion-region"><div class="MuiAccordionDetails-root mui-u7qq7e"><h6 class="MuiTypography-root MuiTypography-body1 mui-1quhbks" id="approach-4">Approach</h6><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Caching</div><ul class="MuiList-root MuiList-padding mui-sedpvs">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Prioritize caching for data with high read rates and low update frequency, such as event details (names, dates, venue information), performer bios, and static venue details like location and capacity. Because this data does not change frequently, we can cache it like crazy to heavily minimize the load of our SQL DB and meet our high availability requirements.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://www.hellointerview.com/learn/system-design/in-a-hurry/key-technologies#distributed-cache" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Cache</a> key-value pairs like <span class="MuiBox-root mui-1vu004u">eventId:eventObject</span> to efficiently serve frequently accessed data.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Utilize Redis or Memcached as in-memory data stores, leveraging their speed for handling large volumes of read operations. A read-through cache strategy ensures data availability, with cache misses triggering a database read and subsequent cache update.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Cache Invalidation and Consistency:
<ul class="MuiList-root MuiList-padding mui-sedpvs">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Set up database triggers to notify the caching system of data changes, such as updates in event dates or performer lineups, to invalidate relevant cache entries.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Implement a Time-to-Live policy for cache entries, ensuring periodic refreshes. These TTLs can be long for static data like venue information and short for frequently updated data like event availability.</div></li>
</ul>
</div></li>
</ul><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Load Balancing</div><ul class="MuiList-root MuiList-padding mui-sedpvs">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Use algorithms like Round Robin or Least Connections for even traffic distribution across server instances. Implement load balancing for all horizontally scaled services and databases. You typically don't need to show this in your design, but it's good to mention it.</div></li>
</ul><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Horizontal Scaling</div><ul class="MuiList-root MuiList-padding mui-sedpvs">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">The Event Service is stateless which allows us to horizontally scale it to meet demand. We can do this by adding more instances of the service and load balancing between them.</div></li>
</ul><h6 class="MuiTypography-root MuiTypography-body1 mui-1quhbks" id="challenges-4">Challenges</h6><ul class="MuiList-root MuiList-padding mui-sedpvs">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">One of the primary challenges is maintaining consistency between the cache and the database. This is particularly challenging with frequent updates to event details (but we don't expect this)</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Managing a large number of instances presents complexities. Ensuring smooth deployment and effective rollback procedures adds to the operational challenges.</div></li>
</ul></div></div></div></div></div></div></div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><div class="MuiBox-root mui-10khgmf" style="cursor: pointer;"><div class="MuiGrid-root MuiGrid-container MuiGrid-direction-xs-column mui-1tdxmx0"><div class="MuiGrid-root MuiGrid-item mui-tolxbf"><div class="relative w-full"><button class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall mui-wksd04" tabindex="0" type="button" aria-label="zoom-in"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ZoomInIcon"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"></path><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"></path></svg><span class="MuiTouchRipple-root mui-w0pj6f"></span></button><span class="w-full h-full"><span class="block"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1798.8153147453309 957.3824707271324">
  <!-- svg-source:excalidraw -->
  <!-- payload-type:application/vnd.excalidraw+json --><!-- payload-version:2 -->
  <defs>
    <style class="style-fonts">
      
      
      
    </style>
    
  </defs>
  <rect x="0" y="0" width="1798.8153147453309" height="957.3824707271324" fill="#ffffff"></rect><g stroke-linecap="round" transform="translate(10 342.80869222417095) rotate(0 66.41791896430016 54.30053481342259)"><path d="M27.15 0 C56.92 0.65, 83.18 -2.11, 105.69 0 M27.15 0 C53.05 -0.07, 77.51 -0.05, 105.69 0 M105.69 0 C121.95 -1.84, 130.88 9.74, 132.84 27.15 M105.69 0 C121.97 -0.88, 130.55 7.18, 132.84 27.15 M132.84 27.15 C134.14 39.1, 134.17 54.11, 132.84 81.45 M132.84 27.15 C133.12 48.44, 133.72 67.61, 132.84 81.45 M132.84 81.45 C133.49 101.51, 123.81 108.88, 105.69 108.6 M132.84 81.45 C130.94 98.81, 122.11 106.49, 105.69 108.6 M105.69 108.6 C89.16 107.26, 74.24 108.66, 27.15 108.6 M105.69 108.6 C75.13 109.02, 44.61 109.53, 27.15 108.6 M27.15 108.6 C9 106.96, 1.15 99.45, 0 81.45 M27.15 108.6 C9.55 107.63, 0.73 98.04, 0 81.45 M0 81.45 C-0.47 63.21, 2.02 45.17, 0 27.15 M0 81.45 C-0.94 68.78, 0.01 53.98, 0 27.15 M0 27.15 C1.67 9.83, 10.74 -1.37, 27.15 0 M0 27.15 C-0.62 7.24, 8.6 1.73, 27.15 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(51.974559589300156 384.60922703759354) rotate(0 24.443359375 12.5)"><text x="24.443359375" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Client</text></g><g stroke-linecap="round" transform="translate(273.2528845617528 193.82069936825428) rotate(0 91.13351565247496 195.92611917101357)"><path d="M32 0 C74.43 2.07, 114.46 1.86, 150.27 0 M32 0 C59.07 -0.2, 87 1.07, 150.27 0 M150.27 0 C170.02 -0.76, 180.28 9.04, 182.27 32 M150.27 0 C170.16 -1.02, 182.3 12.44, 182.27 32 M182.27 32 C185.11 115.22, 183.4 198.54, 182.27 359.85 M182.27 32 C184.37 155.29, 184.15 277.33, 182.27 359.85 M182.27 359.85 C180.62 380.54, 170.14 390.02, 150.27 391.85 M182.27 359.85 C180.05 380.8, 173.18 391.23, 150.27 391.85 M150.27 391.85 C127.79 392.24, 102.81 392.39, 32 391.85 M150.27 391.85 C115.71 391.54, 81.78 392.31, 32 391.85 M32 391.85 C11.1 391.01, 0.63 379.87, 0 359.85 M32 391.85 C11.41 390.21, 1.98 380.2, 0 359.85 M0 359.85 C-2.61 264.79, -1.84 168.49, 0 32 M0 359.85 C0.58 243.4, 0.58 125.94, 0 32 M0 32 C-0.54 9.09, 10.28 1.5, 32 0 M0 32 C-2.05 8.67, 9.74 1.07, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(301.91081427672776 339.74681853926785) rotate(0 62.4755859375 50)"><text x="62.4755859375" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">API Gateway</text><text x="62.4755859375" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- authentication</text><text x="62.4755859375" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- rate limiting</text><text x="62.4755859375" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- routing</text></g><g stroke-linecap="round"><g transform="translate(156.9605616707031 396.9823636565743) rotate(0 56.38036740573851 -0.5551085060830019)"><path d="M0.53 -0.76 C19.1 -0.92, 93.57 -1.6, 112.09 -1.84 M-0.65 1.46 C18.26 1.51, 95.34 -0.2, 114.45 -0.69" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(156.9605616707031 396.9823636565743) rotate(0 56.38036740573851 -0.5551085060830019)"><path d="M28.62 -11.28 C17.33 -8.55, 7.42 -5.55, 0.53 -0.76 M28.62 -11.28 C21.89 -9.38, 15.85 -7.63, 0.53 -0.76" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(156.9605616707031 396.9823636565743) rotate(0 56.38036740573851 -0.5551085060830019)"><path d="M28.81 9.24 C17.6 4.7, 7.62 0.44, 0.53 -0.76 M28.81 9.24 C22.24 6.87, 16.16 4.37, 0.53 -0.76" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(156.9605616707031 396.9823636565743) rotate(0 56.38036740573851 -0.5551085060830019)"><path d="M86.5 10.22 C95.21 5.11, 105.15 0.53, 114.45 -0.69 M86.5 10.22 C91.62 7.47, 97.23 4.77, 114.45 -0.69" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(156.9605616707031 396.9823636565743) rotate(0 56.38036740573851 -0.5551085060830019)"><path d="M86.02 -10.3 C94.76 -8.14, 104.87 -5.46, 114.45 -0.69 M86.02 -10.3 C91.05 -8.78, 96.75 -7.22, 114.45 -0.69" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(680.0516580664366 329.08496234051563) rotate(0 133.45758189228422 69.29831816266892)"><path d="M32 0 C100.71 -0.63, 169.96 -0.73, 234.92 0 M32 0 C99 -0.03, 167.21 0.3, 234.92 0 M234.92 0 C256.28 1.54, 265.98 12.24, 266.92 32 M234.92 0 C257.63 1.8, 267.11 9.6, 266.92 32 M266.92 32 C266.19 56.81, 269.43 80.34, 266.92 106.6 M266.92 32 C265.57 54.51, 265.34 78.68, 266.92 106.6 M266.92 106.6 C268.29 127.39, 254.37 139.13, 234.92 138.6 M266.92 106.6 C266.37 130.1, 257.02 140.06, 234.92 138.6 M234.92 138.6 C166.5 140.12, 95.08 141.19, 32 138.6 M234.92 138.6 C175.37 137.24, 115.54 137.19, 32 138.6 M32 138.6 C12.39 137.74, -0.2 129.56, 0 106.6 M32 138.6 C10.43 137.3, -0.06 127.93, 0 106.6 M0 106.6 C-2.41 93.02, 0.37 77.77, 0 32 M0 106.6 C0 90.09, -0.69 71.22, 0 32 M0 32 C-0.8 11.6, 11.22 -1.83, 32 0 M0 32 C-1.47 10.5, 9.4 -0.37, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(757.6986930837209 385.88328050318455) rotate(0 55.810546875 12.5)"><text x="55.810546875" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Event Service</text></g><g stroke-linecap="round"><g transform="translate(470.0909273878158 406.8464539599445) rotate(0 98.12245388739251 1.71820194628026)"><path d="M-1.17 0.41 C31.56 1.1, 162.59 2.64, 195.3 2.98 M0.41 -0.41 C33.61 0.53, 164.69 3.66, 197.51 4.27" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(470.0909273878158 406.8464539599445) rotate(0 98.12245388739251 1.71820194628026)"><path d="M27.16 -9.46 C21.86 -9.26, 14.52 -7.62, -1.17 0.41 M27.16 -9.46 C20.91 -6.66, 14.24 -4.48, -1.17 0.41" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(470.0909273878158 406.8464539599445) rotate(0 98.12245388739251 1.71820194628026)"><path d="M26.88 11.06 C21.83 6.99, 14.54 4.37, -1.17 0.41 M26.88 11.06 C20.82 9.38, 14.21 7.06, -1.17 0.41" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(470.0909273878158 406.8464539599445) rotate(0 98.12245388739251 1.71820194628026)"><path d="M169.1 13.92 C175.79 10.61, 180.24 8.2, 197.51 4.27 M169.1 13.92 C175.39 12.71, 181.13 10.61, 197.51 4.27" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(470.0909273878158 406.8464539599445) rotate(0 98.12245388739251 1.71820194628026)"><path d="M169.55 -6.6 C175.96 -5.64, 180.32 -3.79, 197.51 4.27 M169.55 -6.6 C175.61 -3.32, 181.25 -0.93, 197.51 4.27" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(1122.855603619533 283.3887598843103) rotate(0 112.92030416412285 108.78506994587957)"><path d="M58.61 13.19 C69.39 5.79, 85.63 1.99, 99.32 0.42 C113.01 -1.15, 127.56 0.54, 140.76 3.77 C153.97 7, 167.61 12.34, 178.54 19.8 C189.46 27.26, 198.76 37.52, 206.31 48.53 C213.86 59.54, 220.92 73.08, 223.86 85.87 C226.8 98.67, 225.93 112.5, 223.94 125.32 C221.96 138.14, 218.56 151.59, 211.94 162.77 C205.33 173.95, 195.02 184.28, 184.24 192.41 C173.47 200.55, 160.42 207.57, 147.31 211.57 C134.19 215.58, 119.1 216.94, 105.55 216.43 C92 215.92, 78.28 213.92, 66.01 208.5 C53.74 203.08, 41.37 193.44, 31.93 183.92 C22.5 174.4, 14.55 163.22, 9.39 151.39 C4.24 139.57, 1.43 125.94, 1.01 112.95 C0.6 99.97, 2.6 85.78, 6.89 73.5 C11.18 61.21, 17.34 49.62, 26.76 39.24 C36.18 28.85, 56.69 15.73, 63.41 11.19 C70.13 6.64, 66.34 10.3, 67.09 11.97 M89.71 1.35 C102.11 -2.85, 118.68 -1.73, 132 0.72 C145.32 3.16, 158.13 9.47, 169.64 16.03 C181.15 22.59, 192.54 30.06, 201.04 40.1 C209.54 50.13, 216.78 63.46, 220.63 76.24 C224.48 89.02, 225.05 103.96, 224.16 116.78 C223.28 129.6, 220.59 141.34, 215.3 153.17 C210.01 165.01, 202.03 178.63, 192.44 187.79 C182.85 196.95, 170.58 203.35, 157.76 208.11 C144.94 212.87, 129.37 215.64, 115.52 216.35 C101.67 217.06, 87.61 216.79, 74.65 212.36 C61.69 207.93, 48.1 198.43, 37.76 189.8 C27.42 181.16, 18.7 172.12, 12.61 160.54 C6.52 148.96, 2.88 133.47, 1.21 120.33 C-0.46 107.19, -0.6 94.2, 2.57 81.7 C5.73 69.2, 12.23 55.97, 20.2 45.32 C28.18 34.66, 38.73 24.67, 50.42 17.77 C62.12 10.86, 83.98 6.19, 90.39 3.89 C96.8 1.6, 88.85 2.51, 88.89 4.02" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1180.377437163057 367.25116917960554) rotate(0 55.5517578125 25)"><text x="55.5517578125" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Database</text><text x="55.5517578125" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">(PostgreSQL)</text></g><g stroke-linecap="round"><g transform="translate(955.7234170581862 396.8944771316055) rotate(0 75.14656532720915 0.29807728076474405)"><path d="M-0.75 -0.53 C24.5 -0.12, 125.23 1.18, 150.31 1.52 M1.05 1.8 C26.25 1.98, 124.77 0.24, 149.37 -0.11" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(955.7234170581862 396.8944771316055) rotate(0 75.14656532720915 0.29807728076474405)"><path d="M27.58 -10.41 C20.92 -8.58, 17.68 -7.56, -0.75 -0.53 M27.58 -10.41 C16.99 -6.91, 6.42 -1.97, -0.75 -0.53" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(955.7234170581862 396.8944771316055) rotate(0 75.14656532720915 0.29807728076474405)"><path d="M27.29 10.11 C20.86 7.83, 17.67 4.74, -0.75 -0.53 M27.29 10.11 C16.7 5.84, 6.23 3.01, -0.75 -0.53" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(955.7234170581862 396.8944771316055) rotate(0 75.14656532720915 0.29807728076474405)"><path d="M121.34 10.59 C126.16 8.65, 134.22 5.54, 149.37 -0.11 M121.34 10.59 C131.98 5.85, 142.74 3.01, 149.37 -0.11" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(955.7234170581862 396.8944771316055) rotate(0 75.14656532720915 0.29807728076474405)"><path d="M121.02 -9.93 C125.74 -7.76, 133.85 -6.74, 149.37 -0.11 M121.02 -9.93 C131.9 -6.9, 142.78 -1.98, 149.37 -0.11" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(1377.222077890124 248.479582257758) rotate(0 65.74993133544922 100)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Event</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- id</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- venueId</text><text x="0" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- performerId</text><text x="0" y="100" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- tickets[]</text><text x="0" y="125" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- name</text><text x="0" y="150" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- description</text><text x="0" y="175" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- ....</text></g><g transform="translate(1547.4297951596418 246.65944632440005) rotate(0 51.58995819091797 62.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Venue</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- id</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- location</text><text x="0" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- seatMap</text><text x="0" y="100" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- ...</text></g><g transform="translate(1694.4554209465027 252.07797672987) rotate(0 47.17994689941406 37.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Performer</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- id</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">...</text></g><g transform="translate(500.43034150415417 362.7018156796912) rotate(0 64.13993835449219 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">view(eventId)</text></g><g stroke-linecap="round" transform="translate(673.7122488405965 81.61372336185377) rotate(0 133.45758189228422 69.29831816266892)"><path d="M32 0 C95.93 1.06, 156.06 0.15, 234.92 0 M32 0 C112.05 -0.54, 192.92 -1.07, 234.92 0 M234.92 0 C254.32 -0.34, 268.29 10.13, 266.92 32 M234.92 0 C254.09 0.61, 266.37 12.84, 266.92 32 M266.92 32 C267.23 58.6, 268.24 81.69, 266.92 106.6 M266.92 32 C267.56 47.85, 267.66 63.88, 266.92 106.6 M266.92 106.6 C267.56 126.5, 257.97 137.74, 234.92 138.6 M266.92 106.6 C266.68 129.81, 256.01 137.3, 234.92 138.6 M234.92 138.6 C175.58 136.86, 112.46 138.36, 32 138.6 M234.92 138.6 C165.84 136.65, 97.07 138.02, 32 138.6 M32 138.6 C8.89 136.86, -0.8 128.86, 0 106.6 M32 138.6 C11.3 136.5, -1.47 127.76, 0 106.6 M0 106.6 C0.01 89.89, 2.08 68.98, 0 32 M0 106.6 C-0.32 86.35, 0.59 68.07, 0 32 M0 32 C-0.73 11.21, 12.63 0.21, 32 0 M0 32 C-2.11 10.9, 10.26 0.68, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(747.4774479203808 138.4120415245227) rotate(0 59.6923828125 12.5)"><text x="59.6923828125" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Search Service</text></g><g stroke-linecap="round"><g transform="translate(471.95087765606047 340.47306822446626) rotate(0 90.93538370750377 -87.87295048122769)"><path d="M0.39 1.18 C30.54 -27.96, 151.8 -146.03, 181.88 -175.58 M-0.86 0.75 C29.04 -28.1, 150.25 -144.66, 180.94 -173.95" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(471.95087765606047 340.47306822446626) rotate(0 90.93538370750377 -87.87295048122769)"><path d="M13.44 -25.83 C10.23 -15.42, 3.54 -6.73, 0.39 1.18 M13.44 -25.83 C8.79 -18.89, 6.94 -11.75, 0.39 1.18" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(471.95087765606047 340.47306822446626) rotate(0 90.93538370750377 -87.87295048122769)"><path d="M27.75 -11.12 C19.15 -6.3, 6.98 -3.25, 0.39 1.18 M27.75 -11.12 C19.37 -8.25, 13.69 -5.06, 0.39 1.18" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(471.95087765606047 340.47306822446626) rotate(0 90.93538370750377 -87.87295048122769)"><path d="M167.69 -147.04 C174.9 -157.38, 178.3 -169.36, 180.94 -173.95 M167.69 -147.04 C170.47 -154.29, 175.67 -161.6, 180.94 -173.95" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(471.95087765606047 340.47306822446626) rotate(0 90.93538370750377 -87.87295048122769)"><path d="M153.49 -161.85 C166.05 -166.56, 174.89 -172.86, 180.94 -173.95 M153.49 -161.85 C159.97 -165.01, 168.97 -168.35, 180.94 -173.95" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(164.10218856898575 10) rotate(0 468.1796569824219 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">GET /search?term={term}&amp;location={location}&amp;type={type}&amp;date={date} -&gt; Partial&lt;Event&gt;[]</text></g><g stroke-linecap="round"><g transform="translate(953.5581413863454 155.685936333899) rotate(0 94.64702248989141 70.92741489771151)"><path d="M-0.99 -0.39 C30.41 23.05, 156.9 117.08, 188.42 140.75 M0.7 -1.63 C32.47 21.89, 159.05 117.63, 190.67 141.71" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(953.5581413863454 155.685936333899) rotate(0 94.64702248989141 70.92741489771151)"><path d="M27.75 8.22 C18.45 3.93, 8.61 0.87, -0.99 -0.39 M27.75 8.22 C18.62 5.97, 11.18 4.21, -0.99 -0.39" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(953.5581413863454 155.685936333899) rotate(0 94.64702248989141 70.92741489771151)"><path d="M15.5 24.68 C9.86 15.54, 3.7 7.53, -0.99 -0.39 M15.5 24.68 C9.72 17.81, 5.75 11.39, -0.99 -0.39" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(953.5581413863454 155.685936333899) rotate(0 94.64702248989141 70.92741489771151)"><path d="M162.01 132.86 C170 134.3, 177.44 136.5, 190.67 141.71 M162.01 132.86 C169.24 135.71, 178.06 138.89, 190.67 141.71" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(953.5581413863454 155.685936333899) rotate(0 94.64702248989141 70.92741489771151)"><path d="M174.41 116.51 C178.69 122.77, 182.4 129.89, 190.67 141.71 M174.41 116.51 C178.24 123.95, 183.55 131.77, 190.67 141.71" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(1019.4699252994563 153.82429193471762) rotate(0 129.81988525390625 25)"><text x="129.81988525390625" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Query event table directly</text><text x="129.81988525390625" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">for search</text></g><g stroke-linecap="round" transform="translate(691.3079702354096 613.8894445030382) rotate(0 132.14561200083367 76.0151989733738)"><path d="M32 0 C77.16 2.97, 122.44 0.05, 232.29 0 M32 0 C97.69 -1.13, 163.15 -1.77, 232.29 0 M232.29 0 C255.35 0.85, 264.24 9.03, 264.29 32 M232.29 0 C254.95 -0.12, 264.79 9.69, 264.29 32 M264.29 32 C262.29 62.92, 262.86 90.19, 264.29 120.03 M264.29 32 C264.18 65.6, 263.25 99.75, 264.29 120.03 M264.29 120.03 C264.29 139.37, 255.3 152.81, 232.29 152.03 M264.29 120.03 C266.23 139.78, 253.01 150.22, 232.29 152.03 M232.29 152.03 C174.55 149.71, 120.76 150.92, 32 152.03 M232.29 152.03 C190 151.75, 148.38 151.85, 32 152.03 M32 152.03 C12.22 153.99, -1.09 140.66, 0 120.03 M32 152.03 C9.12 151.88, -1.9 140.2, 0 120.03 M0 120.03 C-0.29 94.77, -0.63 63.75, 0 32 M0 120.03 C0.34 92.15, -0.46 65.68, 0 32 M0 32 C-1.93 10.69, 11.32 -0.85, 32 0 M0 32 C0.34 10.58, 11.26 -0.9, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(756.5199884862434 677.404643476412) rotate(0 66.93359375000003 12.5)"><text x="66.93359375" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Booking Service</text></g><g stroke-linecap="round"><g transform="translate(972.9638959666908 674.6686083836321) rotate(0 103.18857837129764 -85.73502393749277)"><path d="M-1.13 0.32 C33.08 -28.02, 171.44 -141.83, 206.09 -170.34 M0.48 -0.56 C34.44 -29.17, 170.7 -143.18, 204.99 -171.87" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(972.9638959666908 674.6686083836321) rotate(0 103.18857837129764 -85.73502393749277)"><path d="M189.96 -145.91 C196.1 -155.82, 203 -164.24, 204.99 -171.87 M189.96 -145.91 C196.18 -154.91, 200.76 -165.59, 204.99 -171.87" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(972.9638959666908 674.6686083836321) rotate(0 103.18857837129764 -85.73502393749277)"><path d="M176.79 -161.65 C187.75 -165.63, 199.5 -168.25, 204.99 -171.87 M176.79 -161.65 C187.86 -164.91, 197.23 -169.87, 204.99 -171.87" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(697.9943755026302 860.1277425167536) rotate(0 132.68811403083757 43.62736410518937)"><path d="M21.81 0 C69.12 1.03, 114.27 1.16, 243.56 0 M21.81 0 C86.54 -1.52, 151.81 -0.86, 243.56 0 M243.56 0 C258.54 -0.85, 266.01 5.95, 265.38 21.81 M243.56 0 C258.85 -1.64, 267.36 6.29, 265.38 21.81 M265.38 21.81 C264.61 34.41, 265.73 45.19, 265.38 65.44 M265.38 21.81 C266.21 37.74, 266.22 52.19, 265.38 65.44 M265.38 65.44 C264.84 78.41, 257.71 88.76, 243.56 87.25 M265.38 65.44 C263.33 77.99, 257.18 88.32, 243.56 87.25 M243.56 87.25 C170.82 85.08, 98.05 85.43, 21.81 87.25 M243.56 87.25 C177.81 88.83, 112.41 89.08, 21.81 87.25 M21.81 87.25 C5.62 86.24, 0.18 81.89, 0 65.44 M21.81 87.25 C6.43 87.88, 2.25 80.22, 0 65.44 M0 65.44 C0.55 56.73, -1.2 46.05, 0 21.81 M0 65.44 C0.75 50.76, 0.57 36.9, 0 21.81 M0 21.81 C0.52 6.48, 6.18 1.42, 21.81 0 M0 21.81 C1.61 8.61, 5.69 0.01, 21.81 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(806.7957707834678 891.255106621943) rotate(0 23.88671874999997 12.5)"><text x="23.88671875" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Stripe</text></g><g stroke-linecap="round"><g transform="translate(777.7883709218485 849.5280874689815) rotate(0 -0.0951187552088868 -36.923922624306954)"><path d="M0.49 -0.1 C0.57 -12.45, 0.96 -60.88, 0.85 -73.34 M-0.71 -1.19 C-0.74 -13.97, 0.49 -63.05, 0.44 -75.19" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(777.7883709218485 849.5280874689815) rotate(0 -0.0951187552088868 -36.923922624306954)"><path d="M-9.59 -28.35 C-6.21 -17.25, -1.83 -9.6, 0.49 -0.1 M-9.59 -28.35 C-7.01 -22.61, -4.71 -16.68, 0.49 -0.1" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(777.7883709218485 849.5280874689815) rotate(0 -0.0951187552088868 -36.923922624306954)"><path d="M10.93 -28.22 C7.47 -17.07, 5 -9.48, 0.49 -0.1 M10.93 -28.22 C9.03 -22.51, 6.86 -16.62, 0.49 -0.1" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(877.8704912097671 854.4987043592737) rotate(0 -0.5872932087754634 -40.253123116126005)"><path d="M1.04 0.51 C0.75 -13.05, -0.95 -67.98, -1.21 -81.49 M0.12 -0.27 C-0.37 -13.7, -2 -67.3, -2.17 -80.47" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(877.8704912097671 854.4987043592737) rotate(0 -0.5872932087754634 -40.253123116126005)"><path d="M8.74 -52.52 C5.9 -62.01, -0.32 -70.33, -2.17 -80.47 M8.74 -52.52 C5.78 -61.47, 2.57 -69.76, -2.17 -80.47" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(877.8704912097671 854.4987043592737) rotate(0 -0.5872932087754634 -40.253123116126005)"><path d="M-11.78 -52.05 C-7.63 -61.87, -6.84 -70.36, -2.17 -80.47 M-11.78 -52.05 C-8.69 -61.04, -5.85 -69.48, -2.17 -80.47" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(472.792096794106 530.6228330156737) rotate(0 103.31966170318998 73.45913294030242)"><path d="M-0.03 -0.98 C34.35 23.41, 172.84 122.29, 207.33 146.86 M-1.51 1.12 C32.69 25.66, 172.11 123.97, 206.74 148.36" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(472.792096794106 530.6228330156737) rotate(0 103.31966170318998 73.45913294030242)"><path d="M28.88 7.03 C16.04 5.07, 6.4 1.26, -0.03 -0.98 M28.88 7.03 C21.72 4.06, 14.81 2.28, -0.03 -0.98" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(472.792096794106 530.6228330156737) rotate(0 103.31966170318998 73.45913294030242)"><path d="M16.97 23.74 C8.66 15.33, 3.62 5.06, -0.03 -0.98 M16.97 23.74 C12.83 16.54, 8.99 10.46, -0.03 -0.98" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(472.792096794106 530.6228330156737) rotate(0 103.31966170318998 73.45913294030242)"><path d="M177.79 140.5 C187.37 144.7, 200.09 147.02, 206.74 148.36 M177.79 140.5 C185.6 142.01, 193.6 144.32, 206.74 148.36" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(472.792096794106 530.6228330156737) rotate(0 103.31966170318998 73.45913294030242)"><path d="M189.61 123.73 C194.7 134.4, 202.85 143.2, 206.74 148.36 M189.61 123.73 C194.43 129.48, 199.38 136.11, 206.74 148.36" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(1373.076281767333 488.93251171886004) rotate(0 134.03988647460938 87.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Ticket</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- id</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- eventId</text><text x="0" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- seat</text><text x="0" y="100" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- price</text><text x="0" y="125" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- status: available, booked</text><text x="0" y="150" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- userId</text></g><g transform="translate(1673.258122387519 490.06405698375966) rotate(0 43.38995361328125 50)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Booking</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- id</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- userId</text><text x="0" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- tickets</text></g><g transform="translate(548.7767418033012 527.7275184743012) rotate(0 201.83981323242188 25)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">reserve(ticketId, userId)</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">confirm(ticketId, userId, paymentDetails)</text></g><g stroke-linecap="round" transform="translate(1133.453691668826 626.6461230082587) rotate(0 62.59547628591781 59.93944973184932)"><path d="M89.52 5.36 C98.25 8.25, 105.8 16.08, 111.59 23.29 C117.37 30.5, 122.38 39.46, 124.25 48.61 C126.11 57.76, 125.9 69.04, 122.78 78.18 C119.66 87.33, 112.47 96.81, 105.54 103.47 C98.6 110.13, 90.4 115.62, 81.18 118.14 C71.95 120.65, 59.9 120.46, 50.18 118.55 C40.46 116.64, 30.2 112.54, 22.85 106.66 C15.5 100.78, 10.01 91.78, 6.08 83.25 C2.15 74.72, -1.33 64.55, -0.72 55.48 C-0.12 46.41, 4.66 36.78, 9.73 28.83 C14.8 20.88, 21.44 12.67, 29.69 7.78 C37.93 2.9, 48.94 -0.23, 59.2 -0.47 C69.46 -0.7, 85.56 4.65, 91.25 6.39 C96.95 8.12, 93.67 9.09, 93.38 9.94 M50.35 0.17 C59.45 -1.99, 72.26 1.22, 81.62 4.22 C90.98 7.22, 99.46 11.77, 106.5 18.15 C113.55 24.54, 121.2 33.68, 123.91 42.52 C126.61 51.35, 124.82 61.98, 122.74 71.16 C120.66 80.33, 117.17 90.45, 111.43 97.56 C105.7 104.67, 97.28 110.08, 88.31 113.84 C79.34 117.61, 67.57 120.61, 57.61 120.15 C47.65 119.7, 36.57 116.12, 28.53 111.11 C20.49 106.1, 14.07 98.06, 9.37 90.08 C4.67 82.1, 0.88 72.5, 0.32 63.24 C-0.24 53.97, 2.17 42.77, 6.02 34.51 C9.86 26.24, 15.62 19.11, 23.39 13.66 C31.16 8.21, 48.07 3.73, 52.64 1.81 C57.2 -0.11, 50.74 1.15, 50.77 2.12" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1166.8490056388696 649.2019813741272) rotate(0 29.4384765625 37.5)"><text x="29.4384765625" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Ticket </text><text x="29.4384765625" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Lock</text><text x="29.4384765625" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">(Redis)</text></g><g stroke-linecap="round"><g transform="translate(977.0851088394139 696.2566184409661) rotate(0 69.08745180587596 0.12502253312686662)"><path d="M-0.12 0.98 C22.71 0.99, 115.01 -0.3, 138.05 -0.42 M-1.65 0.45 C20.93 0.65, 113.87 0.57, 137.04 0.76" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(977.0851088394139 696.2566184409661) rotate(0 69.08745180587596 0.12502253312686662)"><path d="M27.96 -9.57 C18.71 -5.73, 5.11 -1.51, -0.12 0.98 M27.96 -9.57 C19.43 -7.24, 11.84 -2.69, -0.12 0.98" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(977.0851088394139 696.2566184409661) rotate(0 69.08745180587596 0.12502253312686662)"><path d="M28.17 10.95 C18.92 6.87, 5.24 3.17, -0.12 0.98 M28.17 10.95 C19.77 7.12, 12.12 5.52, -0.12 0.98" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(977.0851088394139 696.2566184409661) rotate(0 69.08745180587596 0.12502253312686662)"><path d="M108.82 10.93 C121.39 6.83, 129.53 3.05, 137.04 0.76 M108.82 10.93 C117.38 6.72, 126.69 5.06, 137.04 0.76" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(977.0851088394139 696.2566184409661) rotate(0 69.08745180587596 0.12502253312686662)"><path d="M108.88 -9.59 C121.34 -5.77, 129.45 -1.62, 137.04 0.76 M108.88 -9.59 C117.23 -7.64, 126.52 -3.14, 137.04 0.76" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(1049.7607073460294 761.6225661774333) rotate(0 149.9698944091797 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">{ticketId: userId} TTL 10 min</text></g><g stroke-linecap="round" transform="translate(974.9311850673867 256.7288420540808) rotate(0 56.58724715460437 49.969668064270536)"><path d="M29.58 6.43 C37.14 2.29, 50.11 0.7, 59.59 0.9 C69.06 1.1, 78.68 3.3, 86.42 7.62 C94.17 11.94, 101.48 19.52, 106.06 26.81 C110.63 34.1, 114.31 43.1, 113.87 51.38 C113.42 59.67, 108.51 69.31, 103.37 76.52 C98.24 83.73, 91.44 90.84, 83.06 94.62 C74.67 98.41, 62.58 99.77, 53.07 99.25 C43.56 98.73, 33.81 95.94, 25.99 91.5 C18.18 87.05, 10.5 79.76, 6.17 72.59 C1.84 65.41, -0.62 56.8, 0 48.45 C0.63 40.09, 3.99 30.09, 9.92 22.48 C15.85 14.86, 30.27 6.2, 35.57 2.78 C40.87 -0.64, 41.41 1.05, 41.73 1.95 M83.96 5.7 C92.16 8.63, 97.98 16.03, 102.79 23.08 C107.61 30.13, 112.11 39.86, 112.84 48.01 C113.57 56.16, 111.6 64.58, 107.17 71.98 C102.75 79.37, 94.5 87.74, 86.28 92.39 C78.06 97.05, 67.05 99.67, 57.86 99.9 C48.68 100.12, 39.28 97.58, 31.17 93.76 C23.07 89.93, 14.34 83.95, 9.22 76.95 C4.1 69.96, 1.08 59.92, 0.45 51.79 C-0.17 43.65, 1.03 35.32, 5.45 28.16 C9.88 21, 19.12 13.51, 27.02 8.82 C34.91 4.14, 43.56 0.47, 52.83 0.07 C62.1 -0.34, 77.9 5.07, 82.63 6.37 C87.36 7.66, 81.48 7.14, 81.22 7.83" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1008.7268857177911 294.3646189764648) rotate(0 22.7783203125 12.5)"><text x="22.7783203125" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Redis</text></g><g stroke-linecap="round"><g transform="translate(969.1015672766069 300.4438938162093) rotate(0 -52.62610139680169 8.454302325060326)"><path d="M0 -1.2 C-10.98 -0.77, -49.63 0.33, -67.01 3.21 C-84.38 6.09, -97.81 13.96, -104.24 16.08 M-1.46 0.79 C-12.41 0.79, -50.26 -1.36, -67.43 1.34 C-84.59 4.04, -98.13 14.43, -104.47 16.97" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(969.1015672766069 300.4438938162093) rotate(0 -52.62610139680169 8.454302325060326)"><path d="M-18.37 6.51 C-16.65 6.6, -10.12 5.04, 0 -1.2 M-18.37 6.51 C-14.3 5.62, -10.74 2.23, 0 -1.2" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(969.1015672766069 300.4438938162093) rotate(0 -52.62610139680169 8.454302325060326)"><path d="M-19.03 -7.1 C-17.09 -4.22, -10.43 -3, 0 -1.2 M-19.03 -7.1 C-14.84 -4.84, -11.13 -5.08, 0 -1.2" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(969.1015672766069 300.4438938162093) rotate(0 -52.62610139680169 8.454302325060326)"><path d="M-91.1 2.21 C-95.74 6.89, -95.7 9.92, -104.47 16.97 M-91.1 2.21 C-94.42 6.26, -98.21 8.07, -104.47 16.97" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(969.1015672766069 300.4438938162093) rotate(0 -52.62610139680169 8.454302325060326)"><path d="M-84.74 14.26 C-90.74 16.48, -92.01 17.05, -104.47 16.97 M-84.74 14.26 C-89.5 15.48, -94.76 14.49, -104.47 16.97" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(843.4105770652836 260.7613255584247) rotate(0 59.87995910644531 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Event cache</text></g></svg></span></span></div></div><div class="MuiGrid-root MuiGrid-item mui-1wxaqej"><span class="MuiTypography-root MuiTypography-caption mui-17cupi8">Caching</span></div></div></div></div>
<h3 class="MuiTypography-root MuiTypography-h4 mui-hkpafq" id="3-how-will-the-system-ensure-a-good-user-experience-during-high-demand-events-with-millions-simultaneously-booking-tickets">3) How will the system ensure a good user experience during high-demand events with millions simultaneously booking tickets?</h3>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">With popular events, the loaded seat map will go stale quickly. Users will grow frustrated as they repeatedly click on a seat, only to find out it has already been booked. We need to ensure that the seat map is always up to date and that users are notified of changes in real-time.</div>
<div class="my-6"><div class="MuiBox-root mui-1147lff"><div class="MuiBox-root mui-zvu67g"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-6 h-6 heroicon-sw-2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"></path></svg></div><div class="MuiBox-root mui-79elbk"><div style="overflow: hidden; max-height: 300px;"><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Sometimes the best solution is actually not technically more challenging. The mark of a senior/staff engineer is their ability to solve business problems and sometimes that means thinking outside the box of presumed constraints. The below Good and Great solutions are illustrative of a common delta between senior and staff candidates.</div></div></div></div></div>
<div class="my-6 flex flex-col gap-4"><div class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation0 MuiAccordion-root MuiAccordion-rounded MuiAccordion-gutters mui-nhbct3"><div class="MuiButtonBase-root MuiAccordionSummary-root MuiAccordionSummary-gutters mui-guv1gb" tabindex="0" role="button" aria-expanded="false" aria-controls="panel1bh-content" id="panel1bh-header"><div class="MuiAccordionSummary-content MuiAccordionSummary-contentGutters mui-l0jafl"><p class="MuiTypography-root MuiTypography-body1 mui-h8owmt">Good Solution: SSE for Real-Time Seat Updates</p></div><div class="MuiAccordionSummary-expandIconWrapper mui-awtdfi"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ExpandMoreIcon"><path d="M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"></path></svg></div></div><div class="MuiCollapse-root MuiCollapse-vertical MuiCollapse-hidden mui-a0y2e3" style="min-height: 0px;"><div class="MuiCollapse-wrapper MuiCollapse-vertical mui-hboir5"><div class="MuiCollapse-wrapperInner MuiCollapse-vertical mui-8atqhb"><div aria-labelledby="panel1bh-header" id="panel1bh-content" role="region" class="MuiAccordion-region"><div class="MuiAccordionDetails-root mui-u7qq7e"><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><strong>Approach</strong></div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">To ensure that the seat map is always up to date, we can use <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Server-Sent Events (SSE)</a> to push updates to the client in real-time. This will allow us to update the seat map as soon as a seat is booked (or reserved) by another user without needing to refresh the page. SSE is a unidirectional communication channel between the server and the client. It allows the server to push data to the client without the client having to request it.</div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><strong>Challenges</strong></div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">While this approach works well for moderately popular events, the user experience will still suffer during extremely popular events. In the "Taylor Swift case," for example, the seat map will immediately fill up, and users will be left with a disorienting and overwhelming experience as available seats disappear in an instant.</div></div></div></div></div></div></div><div class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation0 MuiAccordion-root MuiAccordion-rounded MuiAccordion-gutters mui-11r69q9"><div class="MuiButtonBase-root MuiAccordionSummary-root MuiAccordionSummary-gutters mui-3ujfba" tabindex="0" role="button" aria-expanded="false" aria-controls="panel1bh-content" id="panel1bh-header"><div class="MuiAccordionSummary-content MuiAccordionSummary-contentGutters mui-l0jafl"><p class="MuiTypography-root MuiTypography-body1 mui-h8owmt">Great Solution: Virtual Waiting Queue for Extremely Popular Events</p></div><div class="MuiAccordionSummary-expandIconWrapper mui-awtdfi"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ExpandMoreIcon"><path d="M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"></path></svg></div></div><div class="MuiCollapse-root MuiCollapse-vertical MuiCollapse-hidden mui-a0y2e3" style="min-height: 0px;"><div class="MuiCollapse-wrapper MuiCollapse-vertical mui-hboir5"><div class="MuiCollapse-wrapperInner MuiCollapse-vertical mui-8atqhb"><div aria-labelledby="panel1bh-header" id="panel1bh-content" role="region" class="MuiAccordion-region"><div class="MuiAccordionDetails-root mui-u7qq7e"><h6 class="MuiTypography-root MuiTypography-body1 mui-1quhbks" id="approach-5">Approach</h6><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">For extremely popular events, we can implement an admin enabled virtual waiting queue system to manage user access during times of exceptionally high demand. Users are placed in this queue before even being able to see the booking page (seat map selected). It is designed to control the flow of users accessing the booking interface, thereby preventing system overload and enhancing the user experience. Here is how it would work at a high level:</div><ol style="list-style: outside decimal;">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">When a user requests to view the booking page, they are placed in a virtual queue. We establish a WebSocket connection with their client and add the user to the queue using their unique WebSocket connection.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Periodically or based on certain criteria (like tickets booked), dequeue users from the front of the queue. Notify these users via their WebSocket connection that they can proceed to purchase tickets.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">At the same time, update the database to reflect that this user is now allowed to access the ticket purchasing system.</div></li>
</ol><h6 class="MuiTypography-root MuiTypography-body1 mui-1quhbks" id="challenges-5">Challenges</h6><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Long wait times in the queue might lead to user frustration, especially if the estimated wait times are not accurate or if the queue moves slower than expected. By pushing updates to the client in real-time, we can mitigate this risk by providing users with constant feedback on their queue position and estimated wait time.</div></div></div></div></div></div></div></div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><div class="MuiBox-root mui-10khgmf" style="cursor: pointer;"><div class="MuiGrid-root MuiGrid-container MuiGrid-direction-xs-column mui-1tdxmx0"><div class="MuiGrid-root MuiGrid-item mui-tolxbf"><div class="relative w-full"><button class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall mui-wksd04" tabindex="0" type="button" aria-label="zoom-in"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ZoomInIcon"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"></path><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"></path></svg><span class="MuiTouchRipple-root mui-w0pj6f"></span></button><span class="w-full h-full"><span class="block"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1798.8153147453309 957.7119562049638">
  <!-- svg-source:excalidraw -->
  <!-- payload-type:application/vnd.excalidraw+json --><!-- payload-version:2 -->
  <defs>
    <style class="style-fonts">
      
      
      
    </style>
    
  </defs>
  <rect x="0" y="0" width="1798.8153147453309" height="957.7119562049638" fill="#ffffff"></rect><g stroke-linecap="round" transform="translate(10 342.80869222417186) rotate(0 66.41791896430016 54.30053481342259)"><path d="M27.15 0 C56.04 -1.14, 88.58 -1.17, 105.69 0 M27.15 0 C51.07 -0.62, 77.24 1.16, 105.69 0 M105.69 0 C124.64 1.93, 133.64 8.27, 132.84 27.15 M105.69 0 C122.99 1.12, 132.77 7.37, 132.84 27.15 M132.84 27.15 C134.31 41.83, 132.72 59.87, 132.84 81.45 M132.84 27.15 C133.33 44.89, 133.24 60.67, 132.84 81.45 M132.84 81.45 C131.94 100.17, 122.14 109.46, 105.69 108.6 M132.84 81.45 C131.98 97.61, 123.16 109.74, 105.69 108.6 M105.69 108.6 C82.89 109.23, 58.01 107.77, 27.15 108.6 M105.69 108.6 C86.06 107.51, 64.7 108.2, 27.15 108.6 M27.15 108.6 C9.98 107.55, -0.75 98.82, 0 81.45 M27.15 108.6 C9.55 109.01, 1.01 100.91, 0 81.45 M0 81.45 C-0.03 61.87, 1.94 45.49, 0 27.15 M0 81.45 C0.52 67.18, -1.18 51.78, 0 27.15 M0 27.15 C1.05 10.09, 10.24 -1.41, 27.15 0 M0 27.15 C1.21 7.55, 7.31 -0.45, 27.15 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(49.36794643012047 384.60922703759445) rotate(0 27.049972534179688 12.5)"><text x="27.049972534179688" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Client</text></g><g stroke-linecap="round" transform="translate(273.2528845617528 193.8206993682552) rotate(0 91.13351565247496 195.92611917101357)"><path d="M32 0 C59.13 0.9, 84.81 -0.8, 150.27 0 M32 0 C56.67 -0.02, 80.89 -1.38, 150.27 0 M150.27 0 C170.91 0.97, 182.21 9.21, 182.27 32 M150.27 0 C171.29 2.29, 181.47 11.74, 182.27 32 M182.27 32 C181.74 115.38, 182.19 200.6, 182.27 359.85 M182.27 32 C183.29 149.91, 183.03 267.68, 182.27 359.85 M182.27 359.85 C181.52 379.5, 171.06 392.84, 150.27 391.85 M182.27 359.85 C182.38 379.52, 173.89 393.17, 150.27 391.85 M150.27 391.85 C114.96 389.52, 79.88 392.86, 32 391.85 M150.27 391.85 C122.27 391.45, 92.97 391.61, 32 391.85 M32 391.85 C11.1 392.21, 0.88 382.37, 0 359.85 M32 391.85 C11.27 391.08, 1.23 380.94, 0 359.85 M0 359.85 C-2.32 292.8, -1.21 225.32, 0 32 M0 359.85 C2.33 239.08, 2.37 117.1, 0 32 M0 32 C1.06 9.36, 9.16 -0.39, 32 0 M0 32 C1.08 11.99, 12.56 -0.64, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(284.61647223571214 339.74681853926876) rotate(0 79.76992797851562 50.00000000000003)"><text x="79.76992797851562" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">API Gateway</text><text x="79.76992797851562" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- authentication</text><text x="79.76992797851562" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- rate limiting</text><text x="79.76992797851562" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- routing</text></g><g stroke-linecap="round"><g transform="translate(156.9605616707031 396.9823636565752) rotate(0 56.380367405738525 -0.5551085060830019)"><path d="M-1.01 -1.14 C17.89 -1.08, 94.39 -0.31, 113.43 -0.11 M0.66 0.88 C19.46 0.67, 94.15 -1.28, 112.84 -1.7" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(156.9605616707031 396.9823636565752) rotate(0 56.380367405738525 -0.5551085060830019)"><path d="M27.27 -11.16 C16.81 -7.26, 11.88 -4.51, -1.01 -1.14 M27.27 -11.16 C15.74 -6.81, 4.85 -4.05, -1.01 -1.14" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(156.9605616707031 396.9823636565752) rotate(0 56.380367405738525 -0.5551085060830019)"><path d="M27.09 9.36 C16.78 7.09, 11.89 3.66, -1.01 -1.14 M27.09 9.36 C15.55 5.58, 4.73 0.19, -1.01 -1.14" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(156.9605616707031 396.9823636565752) rotate(0 56.380367405738525 -0.5551085060830019)"><path d="M84.91 9.24 C91.46 7.3, 103.43 3.75, 112.84 -1.7 M84.91 9.24 C95.59 5.5, 106.99 -0.06, 112.84 -1.7" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(156.9605616707031 396.9823636565752) rotate(0 56.380367405738525 -0.5551085060830019)"><path d="M84.41 -11.27 C91.02 -7.03, 103.15 -4.42, 112.84 -1.7 M84.41 -11.27 C95.38 -6.88, 106.97 -4.3, 112.84 -1.7" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(680.0516580664366 329.08496234051654) rotate(0 133.45758189228422 69.29831816266892)"><path d="M32 0 C77.25 -0.25, 121.23 -0.3, 234.92 0 M32 0 C84.95 -1.54, 137.84 0.01, 234.92 0 M234.92 0 C255.56 0.94, 266.03 10.01, 266.92 32 M234.92 0 C258.07 0.37, 266.15 11.78, 266.92 32 M266.92 32 C265.79 58.53, 267.97 85.19, 266.92 106.6 M266.92 32 C266.36 58.07, 266.68 82.43, 266.92 106.6 M266.92 106.6 C268.91 129.07, 256.09 138.8, 234.92 138.6 M266.92 106.6 C265.06 127.06, 254.66 137.14, 234.92 138.6 M234.92 138.6 C154.37 139.83, 72.52 138.33, 32 138.6 M234.92 138.6 C181.83 139.45, 128.2 138.62, 32 138.6 M32 138.6 C11.74 138.38, -1.86 129.69, 0 106.6 M32 138.6 C10.06 138.03, 1.3 129.23, 0 106.6 M0 106.6 C0 79.13, 0.53 50.74, 0 32 M0 106.6 C-1.15 89.28, 0.07 72.93, 0 32 M0 32 C1.65 10.11, 12.54 -0.19, 32 0 M0 32 C-1.1 10.13, 11.76 0.79, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(746.9892967214162 385.88328050318546) rotate(0 66.51994323730469 12.5)"><text x="66.51994323730469" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Event Service</text></g><g stroke-linecap="round"><g transform="translate(470.0909273878158 406.8464539599454) rotate(0 98.12245388739251 1.71820194628026)"><path d="M0.48 -0.47 C33.04 0.01, 163.21 3.52, 195.83 4.02 M-0.72 -1.76 C31.59 -1.13, 161.97 1.34, 194.66 2.21" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(470.0909273878158 406.8464539599454) rotate(0 98.12245388739251 1.71820194628026)"><path d="M28.91 -10.07 C18.48 -7.35, 10.48 -3.42, 0.48 -0.47 M28.91 -10.07 C22.1 -7.14, 15.55 -5.76, 0.48 -0.47" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(470.0909273878158 406.8464539599454) rotate(0 98.12245388739251 1.71820194628026)"><path d="M28.43 10.45 C17.96 6.13, 10.13 3.02, 0.48 -0.47 M28.43 10.45 C21.75 8.72, 15.31 5.44, 0.48 -0.47" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(470.0909273878158 406.8464539599454) rotate(0 98.12245388739251 1.71820194628026)"><path d="M166.25 11.84 C175.12 7.73, 186.62 5.06, 194.66 2.21 M166.25 11.84 C172.37 9.84, 178.72 6.85, 194.66 2.21" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(470.0909273878158 406.8464539599454) rotate(0 98.12245388739251 1.71820194628026)"><path d="M166.71 -8.68 C175.62 -5.75, 186.96 -1.38, 194.66 2.21 M166.71 -8.68 C172.69 -6.02, 178.94 -4.34, 194.66 2.21" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(1122.855603619533 283.3887598843112) rotate(0 112.92030416412285 108.78506994587957)"><path d="M112.37 -0.33 C125.46 -2.25, 140.21 1.62, 152.73 6.37 C165.26 11.13, 177.39 19.48, 187.51 28.19 C197.63 36.9, 207.1 47.01, 213.46 58.63 C219.83 70.26, 224.18 84.76, 225.69 97.94 C227.2 111.12, 226.29 125.25, 222.53 137.71 C218.78 150.17, 211.26 162.38, 203.17 172.7 C195.08 183.03, 185.24 192.6, 173.98 199.66 C162.72 206.72, 149.14 212.39, 135.62 215.06 C122.09 217.74, 106.24 217.87, 92.85 215.71 C79.46 213.55, 66.93 208.63, 55.29 202.1 C43.65 195.57, 31.35 186.89, 23.02 176.52 C14.69 166.16, 9.08 152.76, 5.32 139.91 C1.55 127.06, -0.46 112.59, 0.45 99.43 C1.36 86.27, 5.01 72.45, 10.78 60.94 C16.55 49.44, 25.19 39.19, 35.07 30.38 C44.96 21.58, 55.73 13.05, 70.1 8.12 C84.46 3.18, 111.27 1.58, 121.25 0.75 C131.24 -0.07, 130.2 1.39, 129.99 3.16 M123.37 -0.07 C136.42 -0.82, 151.84 4.98, 163.73 11.09 C175.63 17.2, 185.74 26.95, 194.73 36.56 C203.72 46.18, 212.36 56.68, 217.69 68.8 C223.02 80.92, 226.37 95.95, 226.69 109.29 C227 122.62, 224.81 136.65, 219.58 148.8 C214.35 160.95, 204.51 172.54, 195.3 182.21 C186.1 191.87, 176.15 201.16, 164.36 206.79 C152.58 212.43, 138.12 215.06, 124.59 216.02 C111.05 216.97, 96.58 215.95, 83.16 212.53 C69.73 209.12, 54.92 203.07, 44.03 195.52 C33.13 187.96, 24.61 178.34, 17.81 167.21 C11.01 156.07, 5.65 141.73, 3.23 128.7 C0.8 115.66, 1.13 101.87, 3.26 89 C5.39 76.12, 9 62.51, 16.01 51.46 C23.01 40.41, 34.11 30.45, 45.3 22.7 C56.49 14.94, 70.05 8.86, 83.14 4.95 C96.24 1.03, 117.43 -0.19, 123.86 -0.8 C130.29 -1.41, 121.87 -0.46, 121.74 1.3" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1171.2692599779984 367.25116917960645) rotate(0 64.6599349975586 25)"><text x="64.6599349975586" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Database</text><text x="64.6599349975586" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">(PostgreSQL)</text></g><g stroke-linecap="round"><g transform="translate(955.7234170581862 396.89447713160644) rotate(0 75.14656532720915 0.29807728076474405)"><path d="M-0.16 1.19 C24.83 1.53, 124.89 1.32, 149.88 1.16 M-1.7 0.78 C23.09 0.84, 123.64 -0.76, 148.71 -0.67" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(955.7234170581862 396.89447713160644) rotate(0 75.14656532720915 0.29807728076474405)"><path d="M28.04 -9.04 C21.57 -6.72, 12.14 -3.88, -0.16 1.19 M28.04 -9.04 C20.26 -5.78, 13.74 -2.94, -0.16 1.19" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(955.7234170581862 396.89447713160644) rotate(0 75.14656532720915 0.29807728076474405)"><path d="M28.02 11.48 C21.71 7.7, 12.28 4.44, -0.16 1.19 M28.02 11.48 C20.08 9.27, 13.57 6.62, -0.16 1.19" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(955.7234170581862 396.89447713160644) rotate(0 75.14656532720915 0.29807728076474405)"><path d="M120.6 9.8 C131.02 6.03, 138.33 2.73, 148.71 -0.67 M120.6 9.8 C127.69 7.44, 136.2 4.75, 148.71 -0.67" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(955.7234170581862 396.89447713160644) rotate(0 75.14656532720915 0.29807728076474405)"><path d="M120.45 -10.72 C130.77 -8.39, 138.12 -5.59, 148.71 -0.67 M120.45 -10.72 C127.74 -7.6, 136.29 -4.81, 148.71 -0.67" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(1377.222077890124 248.47958225775892) rotate(0 65.74993133544922 100)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Event</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- id</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- venueId</text><text x="0" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- performerId</text><text x="0" y="100" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- tickets[]</text><text x="0" y="125" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- name</text><text x="0" y="150" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- description</text><text x="0" y="175" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- ....</text></g><g transform="translate(1547.4297951596418 246.65944632440096) rotate(0 51.59996551275253 62.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Venue</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- id</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- location</text><text x="0" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- seatMap</text><text x="0" y="100" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- ...</text></g><g transform="translate(1694.4554209465027 252.0779767298709) rotate(0 47.17994689941406 37.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Performer</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- id</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">...</text></g><g transform="translate(500.43034150415417 362.7018156796921) rotate(0 64.2699395865202 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">view(eventId)</text></g><g stroke-linecap="round" transform="translate(673.7122488405965 81.61372336185377) rotate(0 133.45758189228422 69.29831816266892)"><path d="M32 0 C87.16 -0.17, 138.81 -2.03, 234.92 0 M32 0 C98.79 -1.53, 166 -0.34, 234.92 0 M234.92 0 C256.34 -1.45, 268.91 11.81, 266.92 32 M234.92 0 C256.07 0.23, 265.06 9.8, 266.92 32 M266.92 32 C265.25 49.67, 266.64 67.38, 266.92 106.6 M266.92 32 C266.86 50.64, 267.08 69.51, 266.92 106.6 M266.92 106.6 C267.44 127.26, 257.32 138.38, 234.92 138.6 M266.92 106.6 C264.77 129.96, 255.64 138.03, 234.92 138.6 M234.92 138.6 C163.84 138.53, 90.74 141.03, 32 138.6 M234.92 138.6 C163.92 136.73, 91.3 137.14, 32 138.6 M32 138.6 C11.6 139.74, 1.65 127.37, 0 106.6 M32 138.6 C12.82 138.38, -1.1 127.39, 0 106.6 M0 106.6 C0.68 81.83, -1.9 53.34, 0 32 M0 106.6 C-0.49 91.56, -1.27 75.46, 0 32 M0 32 C-1.61 9.98, 11.85 1.01, 32 0 M0 32 C0.52 8.66, 10.68 1.93, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(735.9298939042675 138.4120415245227) rotate(0 71.23993682861328 12.5)"><text x="71.23993682861328" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Search Service</text></g><g stroke-linecap="round"><g transform="translate(471.95087765606047 340.47306822446717) rotate(0 90.93538370750376 -87.87295048122769)"><path d="M-0.54 0.37 C29.49 -28.68, 150.56 -145.71, 180.88 -175.23 M1.38 -0.48 C31.72 -29.81, 153.24 -147.84, 183.08 -177.08" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(471.95087765606047 340.47306822446717) rotate(0 90.93538370750376 -87.87295048122769)"><path d="M12.59 -26.61 C8.28 -18.63, 3.81 -8.04, -0.54 0.37 M12.59 -26.61 C9.74 -21.45, 7.86 -14.34, -0.54 0.37" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(471.95087765606047 340.47306822446717) rotate(0 90.93538370750376 -87.87295048122769)"><path d="M26.86 -11.86 C17.55 -9.24, 7.95 -3.95, -0.54 0.37 M26.86 -11.86 C20.97 -9.81, 16.01 -5.88, -0.54 0.37" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(471.95087765606047 340.47306822446717) rotate(0 90.93538370750376 -87.87295048122769)"><path d="M170.05 -150.06 C175.56 -161.35, 180.47 -170.15, 183.08 -177.08 M170.05 -150.06 C172.98 -156.67, 176.74 -161.21, 183.08 -177.08" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(471.95087765606047 340.47306822446717) rotate(0 90.93538370750376 -87.87295048122769)"><path d="M155.73 -164.75 C166.26 -170.7, 176.32 -174.23, 183.08 -177.08 M155.73 -164.75 C161.71 -168.27, 168.55 -169.63, 183.08 -177.08" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(164.10218856898575 10) rotate(0 468.1796569824219 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">GET /search?term={term}&amp;location={location}&amp;type={type}&amp;date={date} -&gt; Partial&lt;Event&gt;[]</text></g><g stroke-linecap="round"><g transform="translate(953.5581413863454 155.68593633389992) rotate(0 94.64702248989141 70.92741489771151)"><path d="M-0.45 -1.01 C31.21 22.64, 157.33 118.78, 188.97 142.45 M1.52 1.07 C33.08 24.33, 156.66 117.17, 187.85 140.63" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(953.5581413863454 155.68593633389992) rotate(0 94.64702248989141 70.92741489771151)"><path d="M28.22 7.84 C20.25 5.26, 16.69 3.97, -0.45 -1.01 M28.22 7.84 C21.53 6.09, 14.28 3.6, -0.45 -1.01" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(953.5581413863454 155.68593633389992) rotate(0 94.64702248989141 70.92741489771151)"><path d="M15.82 24.19 C10.49 18.1, 9.62 13.25, -0.45 -1.01 M15.82 24.19 C11.79 18.65, 7.36 12.44, -0.45 -1.01" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(953.5581413863454 155.68593633389992) rotate(0 94.64702248989141 70.92741489771151)"><path d="M159.15 131.9 C163.74 133.36, 172.67 135.91, 187.85 140.63 M159.15 131.9 C165.68 133.82, 171.48 135.33, 187.85 140.63" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(953.5581413863454 155.68593633389992) rotate(0 94.64702248989141 70.92741489771151)"><path d="M171.48 115.5 C173.46 120.48, 179.7 126.6, 187.85 140.63 M171.48 115.5 C175.37 121.22, 178.37 126.46, 187.85 140.63" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(1019.0899234713819 153.82429193471853) rotate(0 130.1998870819807 25)"><text x="130.1998870819807" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Query event table directly</text><text x="130.1998870819807" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">for search</text></g><g stroke-linecap="round" transform="translate(714.340067992064 609.7336760568678) rotate(0 132.1456120008337 76.0151989733738)"><path d="M32 0 C85.33 1.71, 142.29 -0.23, 232.29 0 M32 0 C93.46 0.11, 157.03 0.14, 232.29 0 M232.29 0 C254.07 0.2, 265.22 9.62, 264.29 32 M232.29 0 C252.76 -0.84, 264.79 11.08, 264.29 32 M264.29 32 C264.14 63.35, 264.6 90.7, 264.29 120.03 M264.29 32 C264.62 66.73, 264.88 101.03, 264.29 120.03 M264.29 120.03 C262.55 141.88, 254.68 153.07, 232.29 152.03 M264.29 120.03 C265.65 139.74, 254.84 150.53, 232.29 152.03 M232.29 152.03 C188.35 154.36, 141.85 154.56, 32 152.03 M232.29 152.03 C174.52 151.92, 116.78 152.03, 32 152.03 M32 152.03 C11.84 150.39, -1.39 139.63, 0 120.03 M32 152.03 C12.31 149.75, 0.09 143.42, 0 120.03 M0 120.03 C-1.32 101.3, 0.37 80.65, 0 32 M0 120.03 C-0.96 101.12, 0.76 82.07, 0 32 M0 32 C-1.98 10.74, 8.86 1.19, 32 0 M0 32 C-0.12 12.68, 8.74 -1.24, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(772.6357501833274 673.2488750302416) rotate(0 73.84992980957031 12.5)"><text x="73.84992980957031" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Booking Service</text></g><g stroke-linecap="round"><g transform="translate(995.9959937233451 667.4172997886226) rotate(0 93.13683258314887 -81.43537361839753)"><path d="M-0.09 0.12 C30.59 -27.22, 154.38 -136.03, 185.31 -163.32 M-1.6 -0.86 C29.35 -28.09, 155.93 -135.05, 187.51 -162.02" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(995.9959937233451 667.4172997886226) rotate(0 93.13683258314887 -81.43537361839753)"><path d="M172.67 -135.95 C178.65 -147.97, 183.63 -158.17, 187.51 -162.02 M172.67 -135.95 C176.14 -141.93, 179.9 -148.72, 187.51 -162.02" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(995.9959937233451 667.4172997886226) rotate(0 93.13683258314887 -81.43537361839753)"><path d="M159.38 -151.59 C170.77 -157.35, 181.06 -161.29, 187.51 -162.02 M159.38 -151.59 C166.15 -153.79, 173.05 -156.88, 187.51 -162.02" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(718.092989650223 860.4572279945851) rotate(0 132.6881140308376 43.62736410518937)"><path d="M21.81 0 C85.96 0.35, 150.3 3.23, 243.56 0 M21.81 0 C75.58 -0.65, 128.22 -0.51, 243.56 0 M243.56 0 C258.54 0.36, 266.26 8.46, 265.38 21.81 M243.56 0 C258.71 -0.77, 266.61 7.03, 265.38 21.81 M265.38 21.81 C265.27 31.97, 266.89 41.51, 265.38 65.44 M265.38 21.81 C265.52 38.45, 265.59 53.35, 265.38 65.44 M265.38 65.44 C266.43 78.68, 256.6 86.87, 243.56 87.25 M265.38 65.44 C266.45 81.3, 260 86.61, 243.56 87.25 M243.56 87.25 C155.87 87.16, 69.58 88.03, 21.81 87.25 M243.56 87.25 C166.12 84.93, 90.5 84.82, 21.81 87.25 M21.81 87.25 C7.35 89.04, -1.48 81.43, 0 65.44 M21.81 87.25 C5.42 86.46, 1.36 81.14, 0 65.44 M0 65.44 C2.06 49.46, 0.02 38.84, 0 21.81 M0 65.44 C-0.47 55.08, 0.38 44.4, 0 21.81 M0 21.81 C-1.68 6.2, 5.51 -1.52, 21.81 0 M0 21.81 C0.18 6.78, 7.86 1.88, 21.81 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(822.1611390814512 891.5845920997745) rotate(0 28.619964599609375 12.5)"><text x="28.619964599609375" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Stripe</text></g><g stroke-linecap="round"><g transform="translate(798.5416175919074 849.8575729468148) rotate(0 0.39784809959675727 -39.166549586309884)"><path d="M1.17 -0.71 C1.49 -13.62, 1.03 -65.17, 1.06 -78.21 M0.33 1.53 C0.58 -11.1, 0.16 -63.36, 0.25 -76.61" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(798.5416175919074 849.8575729468148) rotate(0 0.39784809959675727 -39.166549586309884)"><path d="M-9.11 -28.9 C-8.1 -22.04, -4.34 -15.05, 1.17 -0.71 M-9.11 -28.9 C-6.45 -21.71, -3.68 -14.32, 1.17 -0.71" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(798.5416175919074 849.8575729468148) rotate(0 0.39784809959675727 -39.166549586309884)"><path d="M11.41 -28.91 C7.68 -21.85, 6.71 -14.86, 1.17 -0.71 M11.41 -28.91 C8.99 -21.79, 6.68 -14.4, 1.17 -0.71" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(898.4760993981602 854.828189837107) rotate(0 -0.08720523290409687 -42.49575007812837)"><path d="M0.27 0.12 C0.13 -14.03, 0.53 -71.36, 0.38 -85.62 M-1.05 -0.86 C-1.4 -14.8, -0.18 -70.5, -0.27 -84.42" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(898.4760993981602 854.828189837107) rotate(0 -0.08720523290409687 -42.49575007812837)"><path d="M9.74 -56.13 C6.12 -66.44, 0.89 -79.36, -0.27 -84.42 M9.74 -56.13 C7.48 -62.98, 4.66 -71.36, -0.27 -84.42" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(898.4760993981602 854.828189837107) rotate(0 -0.08720523290409687 -42.49575007812837)"><path d="M-10.78 -56.32 C-6.23 -66.59, -3.3 -79.45, -0.27 -84.42 M-10.78 -56.32 C-7.64 -63.15, -5.04 -71.48, -0.27 -84.42" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(472.792096794106 524.5698121500145) rotate(0 114.83571058151716 76.17224648972388)"><path d="M0.56 -0.63 C38.72 24.67, 190.99 126.38, 229.22 151.91 M-0.61 1.65 C37.33 27.11, 189.72 127.83, 228.04 153.21" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(472.792096794106 524.5698121500145) rotate(0 114.83571058151716 76.17224648972388)"><path d="M29.7 6.47 C19.25 3.57, 10.18 2.47, 0.56 -0.63 M29.7 6.47 C20.67 4.05, 11.68 2.02, 0.56 -0.63" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(472.792096794106 524.5698121500145) rotate(0 114.83571058151716 76.17224648972388)"><path d="M18.32 23.55 C11.52 15.09, 6.12 8.49, 0.56 -0.63 M18.32 23.55 C12.83 15.63, 7.46 8.18, 0.56 -0.63" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(472.792096794106 524.5698121500145) rotate(0 114.83571058151716 76.17224648972388)"><path d="M198.87 146.21 C207.22 147.59, 216.94 151.03, 228.04 153.21 M198.87 146.21 C208.43 147.93, 217.98 150.38, 228.04 153.21" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(472.792096794106 524.5698121500145) rotate(0 114.83571058151716 76.17224648972388)"><path d="M210.19 129.1 C214.92 136.04, 220.99 144.99, 228.04 153.21 M210.19 129.1 C216.23 136.32, 222.18 144.22, 228.04 153.21" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(1373.076281767333 488.93251171886095) rotate(0 134.05988830327988 87.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Ticket</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- id</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- eventId</text><text x="0" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- seat</text><text x="0" y="100" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- price</text><text x="0" y="125" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- status: available, booked</text><text x="0" y="150" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- userId</text></g><g transform="translate(1673.258122387519 490.06405698376057) rotate(0 43.489961087703705 50)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Booking</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- id</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- userId</text><text x="0" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- tickets</text></g><g transform="translate(548.7767418033012 527.7275184743021) rotate(0 201.8998144492507 25)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">reserve(ticketId, userId)</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">confirm(ticketId, userId, paymentDetails)</text></g><g stroke-linecap="round" transform="translate(1133.453691668826 626.6461230082577) rotate(0 62.59547628591781 59.93944973184932)"><path d="M80.02 1.87 C89.13 3.6, 98.02 10.16, 105.05 16.68 C112.09 23.19, 118.88 32.44, 122.24 40.96 C125.6 49.49, 126.68 58.69, 125.21 67.83 C123.75 76.96, 119.18 88.03, 113.44 95.78 C107.69 103.52, 99.63 110.21, 90.77 114.31 C81.91 118.41, 70.16 120.85, 60.28 120.39 C50.39 119.92, 39.81 116.06, 31.43 111.52 C23.05 106.99, 15.08 100.68, 9.99 93.17 C4.89 85.66, 1.79 75.62, 0.86 66.45 C-0.08 57.29, 0.82 46.99, 4.38 38.18 C7.94 29.37, 14.79 19.64, 22.22 13.58 C29.64 7.53, 38.63 3.38, 48.96 1.87 C59.28 0.36, 77.61 3.68, 84.18 4.54 C90.75 5.4, 88.9 6.35, 88.36 7.01 M36.43 6.86 C44.04 2.79, 55.2 1, 64.68 1.16 C74.15 1.32, 84.58 3.16, 93.26 7.84 C101.94 12.51, 111.39 21.43, 116.74 29.2 C122.09 36.97, 124.85 45.1, 125.38 54.45 C125.91 63.79, 124.11 76.61, 119.92 85.28 C115.73 93.96, 107.61 101.04, 100.23 106.5 C92.84 111.96, 85.14 116.25, 75.61 118.06 C66.09 119.87, 52.76 119.79, 43.06 117.39 C33.35 114.98, 24.09 109.91, 17.4 103.61 C10.71 97.32, 5.89 88.75, 2.93 79.63 C-0.02 70.51, -1.79 58.45, -0.34 48.89 C1.11 39.33, 5.5 29.56, 11.64 22.28 C17.78 15, 32.21 7.61, 36.49 5.2 C40.76 2.79, 36.63 6.73, 37.28 7.83" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1160.0475148551782 649.2019813741263) rotate(0 36.239967346191406 37.5)"><text x="36.239967346191406" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Ticket </text><text x="36.239967346191406" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Lock</text><text x="36.239967346191406" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">(Redis)</text></g><g stroke-linecap="round"><g transform="translate(1000.1172065960683 694.0822929717351) rotate(0 57.51430583474911 0.7548427886058562)"><path d="M-1.12 1.06 C17.89 1.28, 95.24 1.03, 114.71 1.22 M0.5 0.57 C19.27 0.98, 94.47 2.66, 113.6 2.6" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1000.1172065960683 694.0822929717351) rotate(0 57.51430583474911 0.7548427886058562)"><path d="M27.08 -9.18 C18.87 -6.35, 6.65 -1.08, -1.12 1.06 M27.08 -9.18 C16.24 -5.07, 7.58 -1.16, -1.12 1.06" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1000.1172065960683 694.0822929717351) rotate(0 57.51430583474911 0.7548427886058562)"><path d="M27.06 11.35 C18.88 6.92, 6.66 4.94, -1.12 1.06 M27.06 11.35 C16.06 8.13, 7.4 4.73, -1.12 1.06" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1000.1172065960683 694.0822929717351) rotate(0 57.51430583474911 0.7548427886058562)"><path d="M85.29 12.54 C97.07 8.76, 104.83 6.9, 113.6 2.6 M85.29 12.54 C94.43 9.06, 105.93 5.78, 113.6 2.6" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1000.1172065960683 694.0822929717351) rotate(0 57.51430583474911 0.7548427886058562)"><path d="M85.53 -7.98 C97.2 -4.51, 104.87 0.89, 113.6 2.6 M85.53 -7.98 C94.75 -4.14, 106.16 -0.11, 113.6 2.6" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(1049.7607073460294 761.6225661774342) rotate(0 150.40988647937775 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">{ticketId: userId} TTL 10 min</text></g><g stroke-linecap="round" transform="translate(974.9311850673867 256.7288420540799) rotate(0 56.58724715460437 49.969668064270536)"><path d="M79.49 4.7 C88 7.45, 97.21 14.2, 102.65 20.9 C108.08 27.6, 111.26 36.86, 112.12 44.91 C112.97 52.97, 111.48 61.58, 107.79 69.21 C104.11 76.83, 97.37 85.44, 89.99 90.65 C82.6 95.86, 72.87 99.44, 63.48 100.45 C54.1 101.46, 42.42 100.25, 33.67 96.7 C24.91 93.15, 16.55 85.93, 10.96 79.15 C5.36 72.38, 1.1 64.06, 0.12 56.03 C-0.86 48, 1.18 38.57, 5.07 30.96 C8.96 23.34, 16.06 15.57, 23.46 10.34 C30.86 5.12, 38.77 -0.21, 49.44 -0.38 C60.11 -0.55, 79.94 6.72, 87.46 9.31 C94.99 11.91, 94.81 14.73, 94.57 15.18 M77.44 3.97 C86.37 5.96, 94.86 10.46, 100.69 16.99 C106.52 23.51, 111.2 34.73, 112.43 43.12 C113.66 51.51, 111.24 59.87, 108.1 67.33 C104.96 74.79, 100.91 82.55, 93.61 87.89 C86.31 93.22, 74.01 97.71, 64.28 99.33 C54.56 100.95, 43.86 100.35, 35.27 97.62 C26.68 94.89, 18.7 89.68, 12.74 82.96 C6.78 76.23, 1.23 65.9, -0.51 57.27 C-2.25 48.64, -1.24 38.91, 2.32 31.19 C5.88 23.48, 13.26 15.89, 20.84 11 C28.42 6.12, 38.27 3.05, 47.79 1.89 C57.31 0.72, 73.09 3.87, 77.95 4.02 C82.81 4.17, 77.58 1.91, 76.95 2.8" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1005.945231359881 294.3646189764639) rotate(0 25.559974670410156 12.5)"><text x="25.559974670410156" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Redis</text></g><g stroke-linecap="round"><g transform="translate(969.1015672766069 300.4438938162102) rotate(0 -52.62610139680169 8.454302325060326)"><path d="M-1.05 0.31 C-12.44 0.73, -50.13 0.74, -67.38 3.37 C-84.63 6, -98.33 13.94, -104.54 16.06 M0.6 -0.57 C-10.98 -0.57, -50.41 -1.34, -68 1.58 C-85.59 4.49, -98.93 14.4, -104.93 16.94" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(969.1015672766069 300.4438938162102) rotate(0 -52.62610139680169 8.454302325060326)"><path d="M-19.57 7.65 C-12.02 6.05, -4.42 3.38, -1.05 0.31 M-19.57 7.65 C-16.11 5.9, -10.64 4.98, -1.05 0.31" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(969.1015672766069 300.4438938162102) rotate(0 -52.62610139680169 8.454302325060326)"><path d="M-19.95 -5.97 C-12.16 -2.36, -4.41 0.18, -1.05 0.31 M-19.95 -5.97 C-16.33 -4.6, -10.77 -2.39, -1.05 0.31" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(969.1015672766069 300.4438938162102) rotate(0 -52.62610139680169 8.454302325060326)"><path d="M-91.61 2.13 C-96.08 8.72, -100.65 14.52, -104.93 16.94 M-91.61 2.13 C-95.34 5.25, -97.18 9.41, -104.93 16.94" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(969.1015672766069 300.4438938162102) rotate(0 -52.62610139680169 8.454302325060326)"><path d="M-85.21 14.16 C-92.21 16.09, -99.23 17.29, -104.93 16.94 M-85.21 14.16 C-90.47 14.47, -93.78 15.88, -104.93 16.94" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(843.4105770652836 260.76132555842287) rotate(0 60.319965824484825 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Event cache</text></g><g stroke-linecap="round" transform="translate(459.2770680490164 664.5881348343091) rotate(0 85.59164819917294 33.367475980854465)"><path d="M16.68 0 C63.86 0.24, 112.55 -2.33, 154.5 0 M16.68 0 C56.19 -1.07, 94.98 -0.88, 154.5 0 M154.5 0 C164.66 -0.47, 172.14 6.24, 171.18 16.68 M154.5 0 C167.88 1.07, 172.53 3.67, 171.18 16.68 M171.18 16.68 C168.91 24.45, 172.68 30.58, 171.18 50.05 M171.18 16.68 C171.5 29.6, 171.14 40.65, 171.18 50.05 M171.18 50.05 C171.19 62.86, 163.71 66.38, 154.5 66.73 M171.18 50.05 C172.95 60.05, 163.35 66.82, 154.5 66.73 M154.5 66.73 C127.34 64.98, 95.61 64.9, 16.68 66.73 M154.5 66.73 C123.92 67.26, 93.75 66.98, 16.68 66.73 M16.68 66.73 C6.62 64.94, -0.52 63.13, 0 50.05 M16.68 66.73 C4.58 67.62, 1.12 60.42, 0 50.05 M0 50.05 C-1.3 39.98, -2.1 25.91, 0 16.68 M0 50.05 C0.68 37.56, 0.07 25.55, 0 16.68 M0 16.68 C1.74 4.72, 3.68 -0.78, 16.68 0 M0 16.68 C-1.39 4.06, 6.26 -1.04, 16.68 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(470.0487775885214 672.9556108151636) rotate(0 74.81993865966797 25)"><text x="74.81993865966797" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">virtual waiting </text><text x="74.81993865966797" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">queue</text></g><g stroke-linecap="round"><g transform="translate(639.553065281962 703.2060851282849) rotate(0 30.41810512492907 -0.13031178960045509)"><path d="M-0.91 -0.23 C9.22 -0.03, 50.94 0.49, 61.4 0.43 M0.82 -1.4 C10.78 -1.47, 50.62 -1.66, 60.74 -1.33" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(639.553065281962 703.2060851282849) rotate(0 30.41810512492907 -0.13031178960045509)"><path d="M32.44 8.62 C42.11 6.26, 53.62 3.46, 60.74 -1.33 M32.44 8.62 C39.57 5.7, 48.23 3.57, 60.74 -1.33" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(639.553065281962 703.2060851282849) rotate(0 30.41810512492907 -0.13031178960045509)"><path d="M32.67 -11.9 C42.12 -7.03, 53.56 -2.59, 60.74 -1.33 M32.67 -11.9 C39.93 -9.23, 48.53 -5.78, 60.74 -1.33" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(424.7060655642292 597.7370673963842) rotate(0 12.491219607064124 47.049994805847746)"><path d="M0.56 0.69 C5.04 16.35, 21.71 78.22, 25.97 93.77 M-0.6 0 C3.88 15.87, 21.12 79.25, 25.54 95.13" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(424.7060655642292 597.7370673963842) rotate(0 12.491219607064124 47.049994805847746)"><path d="M8.18 70.67 C13.17 77.72, 15.37 83.44, 25.54 95.13 M8.18 70.67 C13.58 78.16, 19.13 85.39, 25.54 95.13" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(424.7060655642292 597.7370673963842) rotate(0 12.491219607064124 47.049994805847746)"><path d="M27.96 65.23 C28.51 73.6, 26.26 80.54, 25.54 95.13 M27.96 65.23 C27.59 74.25, 27.39 83.06, 25.54 95.13" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask></svg></span></span></div></div><div class="MuiGrid-root MuiGrid-item mui-1wxaqej"><span class="MuiTypography-root MuiTypography-caption mui-17cupi8">Virtual Waiting Room</span></div></div></div></div>
<h3 class="MuiTypography-root MuiTypography-h4 mui-hkpafq" id="4-how-can-you-improve-search-to-ensure-we-meet-our-low-latency-requirements">4) How can you improve search to ensure we meet our low latency requirements?</h3>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Our current search implementation is not going to cut it. Queries to search for events based on keywords in the name, description, or other fields will require a full table scan because of the wildcard in the <span class="MuiBox-root mui-1vu004u">LIKE</span> clause. This can be very slow, especially as the number of events grows.</div>
<pre><div class="MuiBox-root mui-xnilmx"><div class="MuiBox-root mui-v2ritd"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-4 h-4  cursor-pointer" aria-label="Copy"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg></div><div style="background: rgb(250, 250, 250); color: rgb(56, 58, 66); font-family: &quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; line-height: 1.5; tab-size: 2; hyphens: none; padding: 1em; margin: 0px; overflow: auto; border-radius: 0.375rem; border: none;"><code font-size="18" style="white-space: pre;"><span class="token" style="color: rgb(160, 161, 167); font-style: italic;">-- slow query</span><span>
</span><span></span><span class="token" style="color: rgb(166, 38, 164);">SELECT</span><span> </span><span class="token" style="color: rgb(64, 120, 242);">*</span><span> 
</span><span></span><span class="token" style="color: rgb(166, 38, 164);">FROM</span><span> Events
</span><span></span><span class="token" style="color: rgb(166, 38, 164);">WHERE</span><span> name </span><span class="token" style="color: rgb(64, 120, 242);">LIKE</span><span> </span><span class="token" style="color: rgb(80, 161, 79);">'%Taylor%'</span><span> 
</span><span>  </span><span class="token" style="color: rgb(64, 120, 242);">OR</span><span> description </span><span class="token" style="color: rgb(64, 120, 242);">LIKE</span><span> </span><span class="token" style="color: rgb(80, 161, 79);">'%Taylor%'</span></code></div></div></pre>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Let's look at some strategies to improve search performance and ensure we meet our low latency requirements.</div>
<div class="my-6 flex flex-col gap-4"><div class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation0 MuiAccordion-root MuiAccordion-rounded MuiAccordion-gutters mui-nhbct3"><div class="MuiButtonBase-root MuiAccordionSummary-root MuiAccordionSummary-gutters mui-guv1gb" tabindex="0" role="button" aria-expanded="false" aria-controls="panel1bh-content" id="panel1bh-header"><div class="MuiAccordionSummary-content MuiAccordionSummary-contentGutters mui-l0jafl"><p class="MuiTypography-root MuiTypography-body1 mui-h8owmt">Good Solution: Indexing &amp; SQL Query Optimization</p></div><div class="MuiAccordionSummary-expandIconWrapper mui-awtdfi"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ExpandMoreIcon"><path d="M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"></path></svg></div></div><div class="MuiCollapse-root MuiCollapse-vertical MuiCollapse-hidden mui-a0y2e3" style="min-height: 0px;"><div class="MuiCollapse-wrapper MuiCollapse-vertical mui-hboir5"><div class="MuiCollapse-wrapperInner MuiCollapse-vertical mui-8atqhb"><div aria-labelledby="panel1bh-header" id="panel1bh-content" role="region" class="MuiAccordion-region"><div class="MuiAccordionDetails-root mui-u7qq7e"><h6 class="MuiTypography-root MuiTypography-body1 mui-1quhbks" id="approach-6">Approach</h6><ul class="MuiList-root MuiList-padding mui-sedpvs">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Create indexes on the Event, Performer, and Venues tables to improve query performance. Indexes allow for faster data retrieval by mapping the values in specific columns to their corresponding rows in the table. This speeds up search queries by reducing the number of rows that need to be scanned. We want to index the columns that are frequently used in search queries, such as event name, event date, performer name, and venue location.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Optimize queries to improve performance. This includes techniques like using <span class="MuiBox-root mui-1vu004u">EXPLAIN</span> to analyze query execution plans, avoiding <span class="MuiBox-root mui-1vu004u">SELECT *</span> queries, and using <span class="MuiBox-root mui-1vu004u">LIMIT</span> to restrict the number of rows returned. Additionally, using <span class="MuiBox-root mui-1vu004u">UNION</span> instead of <span class="MuiBox-root mui-1vu004u">OR</span> for combining multiple queries can improve performance.</div></li>
</ul><h6 class="MuiTypography-root MuiTypography-body1 mui-1quhbks" id="challenges-6">Challenges</h6><ul class="MuiList-root MuiList-padding mui-sedpvs">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Standard indexes are less effective for queries involving partial string matches (e.g., searching for "Taylor" instead of the full "Taylor Swift"). This requires additional considerations, like implementing full-text search capabilities or using LIKE operators, which can be less efficient.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">While indexes improve query performance, they can also increase storage requirements and slow down write operations, as each insert or update may necessitate an index update.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Finding the right balance between the number of indexes and overall database performance, especially considering the diverse and complex query patterns in a ticketing system.</div></li>
</ul></div></div></div></div></div></div><div class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation0 MuiAccordion-root MuiAccordion-rounded MuiAccordion-gutters mui-11r69q9"><div class="MuiButtonBase-root MuiAccordionSummary-root MuiAccordionSummary-gutters mui-3ujfba" tabindex="0" role="button" aria-expanded="false" aria-controls="panel1bh-content" id="panel1bh-header"><div class="MuiAccordionSummary-content MuiAccordionSummary-contentGutters mui-l0jafl"><p class="MuiTypography-root MuiTypography-body1 mui-h8owmt">Great Solution: Full-text Indexes in the DB</p></div><div class="MuiAccordionSummary-expandIconWrapper mui-awtdfi"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ExpandMoreIcon"><path d="M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"></path></svg></div></div><div class="MuiCollapse-root MuiCollapse-vertical MuiCollapse-hidden mui-a0y2e3" style="min-height: 0px;"><div class="MuiCollapse-wrapper MuiCollapse-vertical mui-hboir5"><div class="MuiCollapse-wrapperInner MuiCollapse-vertical mui-8atqhb"><div aria-labelledby="panel1bh-header" id="panel1bh-content" role="region" class="MuiAccordion-region"><div class="MuiAccordionDetails-root mui-u7qq7e"><h6 class="MuiTypography-root MuiTypography-body1 mui-1quhbks" id="approach-7">Approach</h6><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">We can extend the basic indexing strategy above to utilize full-text indexes in our database, if available. For popular SQL databases like MySQL or Postgres, full text extensions are available which utilize search engines like Lucene under the covers. These make queries for specific strings like "Taylor" or "Swift" much faster than doing a full table scan using LIKE.</div><h6 class="MuiTypography-root MuiTypography-body1 mui-1quhbks" id="challenges-7">Challenges</h6><ul class="MuiList-root MuiList-padding mui-sedpvs">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Full text indexes require additional storage space and can be slower to query than standard indexes.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Full text indexes can be more difficult to maintain, as they require special handling in both queries and in maintaining the database.</div></li>
</ul></div></div></div></div></div></div><div class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation0 MuiAccordion-root MuiAccordion-rounded MuiAccordion-gutters mui-11r69q9"><div class="MuiButtonBase-root MuiAccordionSummary-root MuiAccordionSummary-gutters mui-3ujfba" tabindex="0" role="button" aria-expanded="false" aria-controls="panel1bh-content" id="panel1bh-header"><div class="MuiAccordionSummary-content MuiAccordionSummary-contentGutters mui-l0jafl"><p class="MuiTypography-root MuiTypography-body1 mui-h8owmt">Great Solution: Use a Full-text Search Engine like Elasticsearch</p></div><div class="MuiAccordionSummary-expandIconWrapper mui-awtdfi"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ExpandMoreIcon"><path d="M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"></path></svg></div></div><div class="MuiCollapse-root MuiCollapse-vertical MuiCollapse-hidden mui-a0y2e3" style="min-height: 0px;"><div class="MuiCollapse-wrapper MuiCollapse-vertical mui-hboir5"><div class="MuiCollapse-wrapperInner MuiCollapse-vertical mui-8atqhb"><div aria-labelledby="panel1bh-header" id="panel1bh-content" role="region" class="MuiAccordion-region"><div class="MuiAccordionDetails-root mui-u7qq7e"><h6 class="MuiTypography-root MuiTypography-body1 mui-1quhbks" id="approach-8">Approach</h6><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Add <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="/learn/system-design/deep-dives/elasticsearch" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Elasticsearch</a> or a similar <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://www.hellointerview.com/learn/system-design/in-a-hurry/key-technologies#search-optimized-database" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">full-text search engine</a>. Elasticsearch is a powerful search engine that excels in full-text search, complex query execution, and handling high-volume traffic efficiently. At its core, Elasticsearch operates using inverted indexes, a key feature that makes it highly efficient for search operations. Inverted indexes allow Elasticsearch to quickly locate and retrieve data by mapping each unique word to the documents or records it appears in, significantly speeding up search queries.</div><ul class="MuiList-root MuiList-padding mui-sedpvs">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">To make sure the data in Elasticsearch is always in sync with the data in our SQL DB, we can use change data capture (CDC) for real-time or near-real-time data synchronization from PostgreSQL to Elasticsearch. This setup captures changes in the PostgreSQL database, such as inserts, updates, and deletes, and replicates them to the Elasticsearch index.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">We can enable fuzzy search functionality with Elasticsearch, which allows for error tolerance in search queries. This is way we can handle typos and slight variations in spellings such as "Taylor Swift" vs "Tayler Swift". This is something that would be very difficult to do with SQL alone.</div></li>
</ul><h6 class="MuiTypography-root MuiTypography-body1 mui-1quhbks" id="challenges-8">Challenges</h6><ul class="MuiList-root MuiList-padding mui-sedpvs">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Keeping the Elasticsearch index synchronized with PostgreSQL can be complex and requires a reliable mechanism to ensure data consistency.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Maintaining an Elasticsearch cluster adds additional infrastructure complexity and cost.</div></li>
</ul></div></div></div></div></div></div></div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><div class="MuiBox-root mui-10khgmf" style="cursor: pointer;"><div class="MuiGrid-root MuiGrid-container MuiGrid-direction-xs-column mui-1tdxmx0"><div class="MuiGrid-root MuiGrid-item mui-tolxbf"><div class="relative w-full"><button class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall mui-wksd04" tabindex="0" type="button" aria-label="zoom-in"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ZoomInIcon"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"></path><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"></path></svg><span class="MuiTouchRipple-root mui-w0pj6f"></span></button><span class="w-full h-full"><span class="block"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1798.8153147453309 1034.578488466641">
  <!-- svg-source:excalidraw -->
  <!-- payload-type:application/vnd.excalidraw+json --><!-- payload-version:2 -->
  <defs>
    <style class="style-fonts">
      
      
      
    </style>
    
  </defs>
  <rect x="0" y="0" width="1798.8153147453309" height="1034.578488466641" fill="#ffffff"></rect><g stroke-linecap="round" transform="translate(10 419.67522448584896) rotate(0 66.41791896430016 54.30053481342259)"><path d="M27.15 0 C44.58 -1.47, 60.6 0.54, 105.69 0 M27.15 0 C52.36 0.73, 75.77 0.08, 105.69 0 M105.69 0 C123.44 0.66, 131.72 7.97, 132.84 27.15 M105.69 0 C122.79 -0.07, 134.57 10.6, 132.84 27.15 M132.84 27.15 C133.97 48.71, 135.09 67.86, 132.84 81.45 M132.84 27.15 C133.49 46.69, 132.44 67.93, 132.84 81.45 M132.84 81.45 C132.79 97.63, 124.43 109.7, 105.69 108.6 M132.84 81.45 C134.92 99.51, 125.41 109.01, 105.69 108.6 M105.69 108.6 C79.64 109.69, 55.56 107.39, 27.15 108.6 M105.69 108.6 C83.31 107.27, 60 107.72, 27.15 108.6 M27.15 108.6 C10.71 108.13, -1.89 99.3, 0 81.45 M27.15 108.6 C8.69 107.06, -1.44 101.22, 0 81.45 M0 81.45 C1.36 61.67, 1.83 43.02, 0 27.15 M0 81.45 C0.92 64.15, -0.49 45.91, 0 27.15 M0 27.15 C1.82 7.24, 10.52 -1.46, 27.15 0 M0 27.15 C-0.84 6.77, 10.87 -1.45, 27.15 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(51.974559589300156 461.47575929927154) rotate(0 24.443359375 12.5)"><text x="24.443359375" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Client</text></g><g stroke-linecap="round" transform="translate(273.2528845617528 270.68723162993047) rotate(0 91.13351565247496 195.92611917101357)"><path d="M32 0 C59.02 0.25, 83.99 0.79, 150.27 0 M32 0 C68.94 0.93, 105.67 0.06, 150.27 0 M150.27 0 C170.73 -0.06, 183.78 12.01, 182.27 32 M150.27 0 C173.24 1.35, 180.71 11.6, 182.27 32 M182.27 32 C185.42 153.93, 184.66 275.18, 182.27 359.85 M182.27 32 C180.81 109.82, 181.05 189.34, 182.27 359.85 M182.27 359.85 C184.08 381.15, 173.01 392.21, 150.27 391.85 M182.27 359.85 C182.7 379.67, 170.14 390.7, 150.27 391.85 M150.27 391.85 C105.16 392.8, 59.59 392.15, 32 391.85 M150.27 391.85 C127.31 390.98, 101.74 391.09, 32 391.85 M32 391.85 C10.35 390.51, -1.25 382.64, 0 359.85 M32 391.85 C12.23 392.22, 1.49 382.84, 0 359.85 M0 359.85 C-1.7 257.46, -2.56 157.64, 0 32 M0 359.85 C2.54 235.02, 2.42 110.93, 0 32 M0 32 C-0.73 8.69, 12.25 -1.26, 32 0 M0 32 C1.28 10.83, 11.83 -0.05, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(301.91081427672776 416.61335080094403) rotate(0 62.4755859375 50)"><text x="62.4755859375" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">API Gateway</text><text x="62.4755859375" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- authentication</text><text x="62.4755859375" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- rate limiting</text><text x="62.4755859375" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- routing</text></g><g stroke-linecap="round"><g transform="translate(156.9605616707031 473.8488959182523) rotate(0 56.38036740573851 -0.5551085060830019)"><path d="M0.66 0.17 C19.26 0.03, 93.28 -1.57, 111.93 -1.72 M-0.45 -0.79 C18.5 -0.7, 95.52 -0.16, 114.21 -0.5" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(156.9605616707031 473.8488959182523) rotate(0 56.38036740573851 -0.5551085060830019)"><path d="M28.67 -10.58 C19.67 -8.28, 9.18 -3.71, 0.66 0.17 M28.67 -10.58 C18.85 -7.18, 10.71 -2.9, 0.66 0.17" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(156.9605616707031 473.8488959182523) rotate(0 56.38036740573851 -0.5551085060830019)"><path d="M29.03 9.93 C20.06 5.5, 9.46 3.33, 0.66 0.17 M29.03 9.93 C19.2 6.5, 10.95 3.95, 0.66 0.17" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(156.9605616707031 473.8488959182523) rotate(0 56.38036740573851 -0.5551085060830019)"><path d="M86.06 9.86 C95.65 4.92, 103.6 2.56, 114.21 -0.5 M86.06 9.86 C95.05 6.53, 105.62 3.79, 114.21 -0.5" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(156.9605616707031 473.8488959182523) rotate(0 56.38036740573851 -0.5551085060830019)"><path d="M85.98 -10.66 C95.45 -8.86, 103.42 -4.49, 114.21 -0.5 M85.98 -10.66 C94.89 -7.15, 105.48 -3.07, 114.21 -0.5" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(680.0516580664366 405.95149460219363) rotate(0 133.45758189228422 69.29831816266892)"><path d="M32 0 C103.14 0.95, 176.69 0.25, 234.92 0 M32 0 C82.64 0.65, 132.56 0.58, 234.92 0 M234.92 0 C254.9 0.81, 268.32 12.6, 266.92 32 M234.92 0 C256.7 1.63, 267.95 11.04, 266.92 32 M266.92 32 C267.45 57.36, 264.54 83.46, 266.92 106.6 M266.92 32 C268.3 58.66, 267.78 84.31, 266.92 106.6 M266.92 106.6 C265.64 126.93, 257.84 138.57, 234.92 138.6 M266.92 106.6 C266.09 127.69, 257.82 137.58, 234.92 138.6 M234.92 138.6 C165.75 139.71, 98.09 136.54, 32 138.6 M234.92 138.6 C176.05 138.03, 118.92 137.52, 32 138.6 M32 138.6 C11.97 140.04, 0.19 129.84, 0 106.6 M32 138.6 C12.41 139.36, -1.51 127.25, 0 106.6 M0 106.6 C0.69 81.85, -2.4 54.93, 0 32 M0 106.6 C1.06 89.04, 0.83 72.82, 0 32 M0 32 C1.01 10.63, 11.61 1.14, 32 0 M0 32 C1.27 11.59, 11.05 1.32, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(757.6986930837209 462.74981276486255) rotate(0 55.810546875 12.5)"><text x="55.810546875" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Event Service</text></g><g stroke-linecap="round"><g transform="translate(470.0909273878158 483.7129862216225) rotate(0 98.12245388739251 1.71820194628026)"><path d="M-0.67 -0.65 C31.98 -0.14, 162.75 2.59, 195.72 3.4 M1.18 1.63 C33.65 2.3, 161.89 4.81, 194.5 4.92" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(470.0909273878158 483.7129862216225) rotate(0 98.12245388739251 1.71820194628026)"><path d="M27.72 -10.34 C18.64 -8.62, 11.63 -3.5, -0.67 -0.65 M27.72 -10.34 C16.68 -6.21, 7.63 -2.08, -0.67 -0.65" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(470.0909273878158 483.7129862216225) rotate(0 98.12245388739251 1.71820194628026)"><path d="M27.31 10.18 C18.28 6.09, 11.38 5.41, -0.67 -0.65 M27.31 10.18 C16.28 6.77, 7.38 3.36, -0.67 -0.65" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(470.0909273878158 483.7129862216225) rotate(0 98.12245388739251 1.71820194628026)"><path d="M166.18 14.82 C173.09 11.31, 182.12 10.89, 194.5 4.92 M166.18 14.82 C175.84 11.43, 187.62 8.35, 194.5 4.92" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(470.0909273878158 483.7129862216225) rotate(0 98.12245388739251 1.71820194628026)"><path d="M166.45 -5.7 C173.34 -3.4, 182.3 1.98, 194.5 4.92 M166.45 -5.7 C176.15 -1.55, 187.83 2.91, 194.5 4.92" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(1122.855603619533 360.2552921459883) rotate(0 112.92030416412285 108.78506994587957)"><path d="M155.18 7 C167.79 10.02, 180.07 20.66, 190.1 29.71 C200.14 38.76, 209.38 49.58, 215.39 61.31 C221.4 73.05, 225.15 87.02, 226.15 100.11 C227.16 113.2, 225.48 127.45, 221.43 139.84 C217.38 152.23, 210.08 164.12, 201.85 174.43 C193.62 184.75, 183.73 194.77, 172.05 201.73 C160.37 208.69, 145.15 213.75, 131.77 216.2 C118.39 218.66, 104.97 218.9, 91.79 216.45 C78.6 214, 64.21 208.6, 52.65 201.5 C41.09 194.39, 30.63 184.54, 22.42 173.8 C14.21 163.06, 7.12 149.57, 3.4 137.04 C-0.33 124.51, -1.4 111.62, 0.07 98.63 C1.55 85.65, 6.02 70.81, 12.25 59.12 C18.48 47.42, 27.39 37.09, 37.45 28.46 C47.5 19.84, 60 12.16, 72.58 7.38 C85.15 2.6, 98.25 -0.83, 112.88 -0.2 C127.51 0.42, 151.55 8.72, 160.35 11.13 C169.15 13.54, 166.41 12.77, 165.68 14.25 M76.87 6.27 C88.82 0.58, 104.42 0.49, 117.86 1.15 C131.31 1.81, 145 5.16, 157.53 10.22 C170.06 15.29, 183.48 22.67, 193.02 31.51 C202.55 40.36, 209.14 51.26, 214.72 63.3 C220.3 75.34, 225.77 90.43, 226.5 103.74 C227.23 117.05, 223.19 131.13, 219.1 143.17 C215.01 155.21, 210.13 166.17, 201.95 175.99 C193.78 185.82, 182.18 195.65, 170.05 202.13 C157.93 208.61, 142.64 212.89, 129.21 214.87 C115.78 216.85, 102.51 216.6, 89.47 214 C76.43 211.41, 62.35 206.44, 50.97 199.31 C39.6 192.18, 29.06 181.82, 21.23 171.22 C13.4 160.62, 7.25 148.33, 4 135.72 C0.75 123.11, 0.09 108.54, 1.74 95.55 C3.4 82.56, 7.55 69.58, 13.92 57.77 C20.28 45.96, 29.76 33.08, 39.94 24.68 C50.11 16.28, 68.93 10.35, 74.97 7.39 C81.01 4.43, 75.41 5.41, 76.16 6.94" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1180.377437163057 444.11770144128354) rotate(0 55.5517578125 25)"><text x="55.5517578125" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Database</text><text x="55.5517578125" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">(PostgreSQL)</text></g><g stroke-linecap="round"><g transform="translate(955.7234170581862 473.76100939328353) rotate(0 75.14656532720915 0.29807728076474405)"><path d="M0.85 0.71 C25.62 0.75, 124.44 0.91, 149.48 1.08 M-0.16 0.03 C24.91 -0.36, 126.61 -0.78, 151.77 -0.78" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(955.7234170581862 473.76100939328353) rotate(0 75.14656532720915 0.29807728076474405)"><path d="M29.07 -9.5 C19.71 -6.82, 8.76 -0.23, 0.85 0.71 M29.07 -9.5 C18.35 -5.09, 7.11 -1.81, 0.85 0.71" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(955.7234170581862 473.76100939328353) rotate(0 75.14656532720915 0.29807728076474405)"><path d="M29.02 11.02 C19.55 6, 8.61 4.87, 0.85 0.71 M29.02 11.02 C18.28 7.29, 7.07 2.43, 0.85 0.71" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(955.7234170581862 473.76100939328353) rotate(0 75.14656532720915 0.29807728076474405)"><path d="M123.6 9.55 C135.29 4.12, 145.51 2.99, 151.77 -0.78 M123.6 9.55 C135.2 5.42, 146.33 0.55, 151.77 -0.78" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(955.7234170581862 473.76100939328353) rotate(0 75.14656532720915 0.29807728076474405)"><path d="M123.55 -10.97 C135.39 -8.69, 145.63 -2.12, 151.77 -0.78 M123.55 -10.97 C135.21 -6.97, 146.36 -3.69, 151.77 -0.78" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(1377.222077890124 325.346114519436) rotate(0 65.74993133544922 100)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Event</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- id</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- venueId</text><text x="0" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- performerId</text><text x="0" y="100" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- tickets[]</text><text x="0" y="125" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- name</text><text x="0" y="150" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- description</text><text x="0" y="175" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- ....</text></g><g transform="translate(1547.4297951596418 323.52597858607805) rotate(0 51.58995819091797 62.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Venue</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- id</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- location</text><text x="0" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- seatMap</text><text x="0" y="100" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- ...</text></g><g transform="translate(1694.4554209465027 328.944508991548) rotate(0 47.17994689941406 37.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Performer</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- id</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">...</text></g><g transform="translate(500.43034150415417 439.5683479413692) rotate(0 64.13993835449219 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">view(eventId)</text></g><g stroke-linecap="round" transform="translate(673.7122488405965 158.48025562352996) rotate(0 133.45758189228422 69.29831816266892)"><path d="M32 0 C100.89 -1.88, 172.84 -0.78, 234.92 0 M32 0 C74.15 -1.01, 115.31 -0.84, 234.92 0 M234.92 0 C256.63 -1.32, 265.64 9.67, 266.92 32 M234.92 0 C258.08 -0.03, 266.09 10.43, 266.92 32 M266.92 32 C264.61 59.08, 265.51 88.63, 266.92 106.6 M266.92 32 C266.05 51.95, 265.59 73.96, 266.92 106.6 M266.92 106.6 C268.27 128.25, 257.55 140.04, 234.92 138.6 M266.92 106.6 C267.14 130.13, 257.99 139.36, 234.92 138.6 M234.92 138.6 C188.79 138.09, 140.98 141.25, 32 138.6 M234.92 138.6 C192.12 136.38, 150.68 136.7, 32 138.6 M32 138.6 C11.78 138.74, 1.01 127.89, 0 106.6 M32 138.6 C11.75 139.91, 1.27 128.86, 0 106.6 M0 106.6 C-2.01 81.8, 1.39 58.8, 0 32 M0 106.6 C0.62 90.51, 0.58 72.96, 0 32 M0 32 C-1.38 9.89, 10.48 1.31, 32 0 M0 32 C2.22 10.59, 10.06 2.08, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(747.4774479203808 215.27857378619888) rotate(0 59.6923828125 12.5)"><text x="59.6923828125" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Search Service</text></g><g stroke-linecap="round"><g transform="translate(471.95087765606047 417.33960048614426) rotate(0 90.93538370750377 -87.87295048122769)"><path d="M-0.03 -1.16 C30.47 -30.44, 151.76 -145.98, 182.26 -175.09 M-1.5 0.85 C28.94 -28.83, 150.8 -147.64, 181.51 -176.86" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(471.95087765606047 417.33960048614426) rotate(0 90.93538370750377 -87.87295048122769)"><path d="M13.28 -28.04 C8.35 -21.06, 8.23 -13.54, -0.03 -1.16 M13.28 -28.04 C9.69 -20.65, 4.89 -12.47, -0.03 -1.16" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(471.95087765606047 417.33960048614426) rotate(0 90.93538370750377 -87.87295048122769)"><path d="M27.45 -13.2 C19.1 -9.72, 15.64 -5.71, -0.03 -1.16 M27.45 -13.2 C19.52 -10.21, 10.5 -6.46, -0.03 -1.16" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(471.95087765606047 417.33960048614426) rotate(0 90.93538370750377 -87.87295048122769)"><path d="M168.35 -149.9 C169.4 -155.62, 175.53 -160.81, 181.51 -176.86 M168.35 -149.9 C172.28 -158.63, 175.38 -166.51, 181.51 -176.86" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(471.95087765606047 417.33960048614426) rotate(0 90.93538370750377 -87.87295048122769)"><path d="M154.1 -164.67 C158.58 -166.9, 168.08 -168.6, 181.51 -176.86 M154.1 -164.67 C162.38 -169.02, 169.74 -172.49, 181.51 -176.86" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(164.10218856898575 86.86653226167618) rotate(0 468.1796569824219 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">GET /search?term={term}&amp;location={location}&amp;type={type}&amp;date={date} -&gt; Partial&lt;Event&gt;[]</text></g><g stroke-linecap="round"><g transform="translate(953.5581413863454 232.5524685955752) rotate(0 94.64702248989141 70.92741489771151)"><path d="M1.09 -0.02 C32.71 23.55, 158.73 118.56, 190.14 142.07 M0.2 -1.08 C31.71 22.05, 158.19 116.22, 189.64 140.06" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(953.5581413863454 232.5524685955752) rotate(0 94.64702248989141 70.92741489771151)"><path d="M29.79 8.72 C20.17 7.48, 11.03 3.55, 1.09 -0.02 M29.79 8.72 C23.92 6.51, 16.04 4.38, 1.09 -0.02" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(953.5581413863454 232.5524685955752) rotate(0 94.64702248989141 70.92741489771151)"><path d="M17.46 25.12 C11.85 18.33, 6.8 8.95, 1.09 -0.02 M17.46 25.12 C14.58 19.14, 9.59 13.16, 1.09 -0.02" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(953.5581413863454 232.5524685955752) rotate(0 94.64702248989141 70.92741489771151)"><path d="M160.93 131.35 C170.48 135.4, 180.41 137.26, 189.64 140.06 M160.93 131.35 C168.39 133.52, 173.96 135.47, 189.64 140.06" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(953.5581413863454 232.5524685955752) rotate(0 94.64702248989141 70.92741489771151)"><path d="M173.24 114.94 C178.79 124.54, 184.63 131.86, 189.64 140.06 M173.24 114.94 C177.72 120.89, 180.4 126.68, 189.64 140.06" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(714.340067992064 686.6002083185449) rotate(0 132.14561200083367 76.0151989733738)"><path d="M32 0 C110.57 -0.93, 187.31 -2.41, 232.29 0 M32 0 C81.77 -0.07, 132.79 -0.37, 232.29 0 M232.29 0 C254.35 -1.98, 263.88 9.59, 264.29 32 M232.29 0 C255.53 -0.54, 262.12 10.38, 264.29 32 M264.29 32 C265.15 58.39, 264.02 83.36, 264.29 120.03 M264.29 32 C265.13 65.09, 263.72 97.22, 264.29 120.03 M264.29 120.03 C265.41 142.94, 251.93 153.3, 232.29 152.03 M264.29 120.03 C266.38 139.28, 255.31 150.35, 232.29 152.03 M232.29 152.03 C178.36 154.46, 126.82 154.37, 32 152.03 M232.29 152.03 C173.1 153.42, 113.07 153.58, 32 152.03 M32 152.03 C10.81 150.45, -1.18 143.18, 0 120.03 M32 152.03 C10.01 150.27, -0.1 141.75, 0 120.03 M0 120.03 C-1.09 87.05, -1.28 56.64, 0 32 M0 120.03 C-1.11 88.74, -0.72 55.18, 0 32 M0 32 C-0.54 10.88, 10.38 -1.02, 32 0 M0 32 C1.3 12.23, 12.27 -1.72, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(779.5520862428978 750.1154072919187) rotate(0 66.93359375 12.5)"><text x="66.93359375" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Booking Service</text></g><g stroke-linecap="round"><g transform="translate(995.9959937233451 744.2838320502997) rotate(0 93.13683258314887 -81.43537361839753)"><path d="M-0.76 -0.6 C30.4 -27.62, 156.13 -135.82, 187.23 -162.89 M1.04 1.7 C32.11 -25.04, 156.15 -134.12, 186.78 -161.36" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(995.9959937233451 744.2838320502997) rotate(0 93.13683258314887 -81.43537361839753)"><path d="M172.45 -135.01 C176.19 -141.73, 181.74 -152.44, 186.78 -161.36 M172.45 -135.01 C176.78 -143.56, 180.36 -150.74, 186.78 -161.36" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(995.9959937233451 744.2838320502997) rotate(0 93.13683258314887 -81.43537361839753)"><path d="M158.86 -150.39 C166.84 -152.12, 176.72 -157.92, 186.78 -161.36 M158.86 -150.39 C167.23 -154.43, 174.75 -157.15, 186.78 -161.36" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(718.092989650223 937.3237602562622) rotate(0 132.68811403083762 43.62736410518937)"><path d="M21.81 0 C74.23 -2.14, 126.51 -0.34, 243.56 0 M21.81 0 C78.37 1.43, 136 1.69, 243.56 0 M243.56 0 C256.22 -0.25, 265.06 5.93, 265.38 21.81 M243.56 0 C256.67 1.67, 266.94 7.64, 265.38 21.81 M265.38 21.81 C267.6 39.25, 266.35 52.34, 265.38 65.44 M265.38 21.81 C264.77 34.24, 266.53 44.49, 265.38 65.44 M265.38 65.44 C266.84 78.52, 257.38 85.28, 243.56 87.25 M265.38 65.44 C267.2 78.53, 259.38 87.42, 243.56 87.25 M243.56 87.25 C166.77 89.11, 88.7 88.44, 21.81 87.25 M243.56 87.25 C163.76 86.53, 84.73 85.08, 21.81 87.25 M21.81 87.25 C7.19 87.59, 1.18 81.14, 0 65.44 M21.81 87.25 C8.54 86.58, -1.59 79.09, 0 65.44 M0 65.44 C-0.35 52.23, 1.52 40.33, 0 21.81 M0 65.44 C-0.03 53.86, 0.68 43.99, 0 21.81 M0 21.81 C1.39 5.78, 9.07 1.64, 21.81 0 M0 21.81 C-0.75 6.17, 8.15 -1.2, 21.81 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(826.8943849310606 968.4511243614515) rotate(0 23.88671875 12.5)"><text x="23.88671875" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Stripe</text></g><g stroke-linecap="round"><g transform="translate(798.5416175919074 926.7241052084919) rotate(0 0.3978480995967857 -39.166549586309884)"><path d="M0.82 -0.53 C1.1 -13.76, 1.27 -66.44, 1.23 -79.52 M-0.21 1.81 C-0.01 -11.31, 0.53 -65.3, 0.51 -78.6" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(798.5416175919074 926.7241052084919) rotate(0 0.3978480995967857 -39.166549586309884)"><path d="M-9.25 -28.79 C-7.5 -20.67, -5.93 -14.33, 0.82 -0.53 M-9.25 -28.79 C-7.48 -21.93, -4.21 -15.51, 0.82 -0.53" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(798.5416175919074 926.7241052084919) rotate(0 0.3978480995967857 -39.166549586309884)"><path d="M11.27 -28.65 C7.6 -20.43, 3.74 -14.13, 0.82 -0.53 M11.27 -28.65 C7.99 -21.88, 6.2 -15.49, 0.82 -0.53" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(898.4760993981602 931.694722098784) rotate(0 -0.0872052329041253 -42.49575007812837)"><path d="M0.43 -1.19 C0.23 -15.37, -0.48 -71.62, -0.42 -85.64 M-0.8 0.81 C-1.26 -13.18, -1.73 -70.28, -1.5 -84.44" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(898.4760993981602 931.694722098784) rotate(0 -0.0872052329041253 -42.49575007812837)"><path d="M8.72 -56.23 C3.1 -66.99, 0.24 -75.32, -1.5 -84.44 M8.72 -56.23 C6 -64.71, 2.71 -71.11, -1.5 -84.44" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(898.4760993981602 931.694722098784) rotate(0 -0.0872052329041253 -42.49575007812837)"><path d="M-11.8 -56.26 C-9.86 -67.09, -5.16 -75.4, -1.5 -84.44 M-11.8 -56.26 C-8.85 -64.71, -6.46 -71.1, -1.5 -84.44" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(472.792096794106 601.4363444116916) rotate(0 114.83571058151716 76.17224648972388)"><path d="M-0.25 -0.64 C38.13 24.9, 192.54 126.59, 230.67 152.06 M1.83 1.63 C40.09 27.46, 192.07 128.15, 230.24 153.45" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(472.792096794106 601.4363444116916) rotate(0 114.83571058151716 76.17224648972388)"><path d="M28.93 6.34 C18.12 5.59, 8.92 -0.3, -0.25 -0.64 M28.93 6.34 C19.93 4.86, 12.85 2.29, -0.25 -0.64" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(472.792096794106 601.4363444116916) rotate(0 114.83571058151716 76.17224648972388)"><path d="M17.62 23.46 C10.78 16.98, 5.38 5.33, -0.25 -0.64 M17.62 23.46 C11.9 17.14, 8.07 9.65, -0.25 -0.64" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(472.792096794106 601.4363444116916) rotate(0 114.83571058151716 76.17224648972388)"><path d="M201.08 146.43 C209.74 150.51, 220.14 149.32, 230.24 153.45 M201.08 146.43 C208.82 149.36, 218.5 150.82, 230.24 153.45" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(472.792096794106 601.4363444116916) rotate(0 114.83571058151716 76.17224648972388)"><path d="M212.42 129.32 C217.1 139.13, 223.69 143.69, 230.24 153.45 M212.42 129.32 C216.88 137.1, 223.3 143.46, 230.24 153.45" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(1373.076281767333 565.799043980538) rotate(0 134.03988647460938 87.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Ticket</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- id</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- eventId</text><text x="0" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- seat</text><text x="0" y="100" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- price</text><text x="0" y="125" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- status: available, booked</text><text x="0" y="150" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- userId</text></g><g transform="translate(1673.258122387519 566.9305892454377) rotate(0 43.38995361328125 50)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Booking</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- id</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- userId</text><text x="0" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- tickets</text></g><g transform="translate(548.7767418033012 604.5940507359792) rotate(0 201.83981323242188 25)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">reserve(ticketId, userId)</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">confirm(ticketId, userId, paymentDetails)</text></g><g stroke-linecap="round" transform="translate(1133.453691668826 703.5126552699348) rotate(0 62.59547628591781 59.93944973184932)"><path d="M84.13 3.51 C93.26 5.62, 102.88 13.23, 109.42 19.91 C115.95 26.58, 121 34.65, 123.33 43.57 C125.67 52.5, 125.43 64.44, 123.41 73.47 C121.39 82.51, 117.3 90.62, 111.2 97.77 C105.1 104.92, 96.06 112.62, 86.8 116.38 C77.53 120.14, 65.49 121.44, 55.61 120.33 C45.73 119.21, 35.65 114.78, 27.53 109.69 C19.41 104.61, 11.57 97.79, 6.88 89.83 C2.19 81.86, -0.56 71.23, -0.61 61.9 C-0.66 52.57, 2.17 42.18, 6.57 33.85 C10.98 25.51, 17.88 17.34, 25.82 11.89 C33.75 6.45, 43.44 2.14, 54.16 1.17 C64.89 0.21, 83.25 4.6, 90.18 6.11 C97.11 7.62, 96.37 9.45, 95.72 10.22 M90.03 6.34 C98.93 9.76, 108.08 18, 113.96 25.37 C119.84 32.74, 124.2 41.64, 125.32 50.58 C126.44 59.52, 124.04 70, 120.7 79.01 C117.36 88.02, 111.94 98.2, 105.28 104.64 C98.62 111.08, 90.14 115.11, 80.75 117.65 C71.36 120.19, 58.64 121.95, 48.96 119.88 C39.27 117.81, 30.07 111.38, 22.63 105.22 C15.19 99.07, 8.08 91.54, 4.32 82.94 C0.56 74.34, -1.05 62.75, 0.05 53.65 C1.15 44.55, 5.45 36.18, 10.93 28.33 C16.42 20.48, 24.44 11.07, 32.98 6.56 C41.52 2.05, 52.72 1.45, 62.16 1.26 C71.6 1.06, 84.94 4.52, 89.6 5.38 C94.26 6.23, 90.67 5.55, 90.12 6.39" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1166.8490056388696 726.0685136358034) rotate(0 29.4384765625 37.5)"><text x="29.4384765625" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Ticket </text><text x="29.4384765625" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Lock</text><text x="29.4384765625" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">(Redis)</text></g><g stroke-linecap="round"><g transform="translate(1000.1172065960683 770.9488252334122) rotate(0 57.51430583474911 0.7548427886058562)"><path d="M0.78 0.87 C19.83 1.28, 95.95 2.48, 115.14 2.66 M-0.27 0.27 C18.57 0.36, 94.94 1.22, 114.26 1.14" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1000.1172065960683 770.9488252334122) rotate(0 57.51430583474911 0.7548427886058562)"><path d="M29.14 -8.93 C20.17 -4.95, 10.21 -0.03, 0.78 0.87 M29.14 -8.93 C20.19 -4.96, 9.33 -1.85, 0.78 0.87" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1000.1172065960683 770.9488252334122) rotate(0 57.51430583474911 0.7548427886058562)"><path d="M28.8 11.59 C19.92 8.02, 10.08 5.4, 0.78 0.87 M28.8 11.59 C20.09 8.72, 9.35 5, 0.78 0.87" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1000.1172065960683 770.9488252334122) rotate(0 57.51430583474911 0.7548427886058562)"><path d="M86.02 11.27 C97.83 7.55, 108.69 5.15, 114.26 1.14 M86.02 11.27 C96.05 8.77, 104.05 5.24, 114.26 1.14" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1000.1172065960683 770.9488252334122) rotate(0 57.51430583474911 0.7548427886058562)"><path d="M86.11 -9.25 C97.92 -5.42, 108.74 -0.28, 114.26 1.14 M86.11 -9.25 C95.98 -4.92, 103.94 -1.61, 114.26 1.14" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(1049.7607073460294 838.4890984391113) rotate(0 149.96989440917974 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">{ticketId: userId} TTL 10 min</text></g><g stroke-linecap="round" transform="translate(974.9311850673867 333.595374315757) rotate(0 56.58724715460437 49.969668064270536)"><path d="M39.11 1.82 C47.49 -1.35, 59.22 -0.02, 68.19 1.86 C77.16 3.74, 86.06 7.82, 92.93 13.09 C99.81 18.36, 106.39 25.59, 109.42 33.48 C112.45 41.37, 112.92 52.12, 111.11 60.44 C109.3 68.77, 104.58 77.2, 98.55 83.42 C92.52 89.64, 83.74 95.1, 74.92 97.77 C66.09 100.45, 54.77 101.07, 45.6 99.46 C36.43 97.86, 26.93 93.67, 19.91 88.13 C12.88 82.6, 6.47 74.22, 3.43 66.26 C0.39 58.3, 0.02 48.66, 1.65 40.36 C3.28 32.06, 5.38 23.15, 13.2 16.48 C21.02 9.81, 41.36 2.92, 48.58 0.34 C55.79 -2.25, 56.46 -0.01, 56.49 0.96 M71.75 1.51 C80.41 3.32, 90.7 10.5, 97.59 16.64 C104.47 22.79, 110.95 30.2, 113.09 38.37 C115.23 46.53, 113.32 57.76, 110.41 65.63 C107.5 73.5, 102.49 80.08, 95.63 85.6 C88.78 91.12, 78.51 96.83, 69.26 98.74 C60.02 100.66, 49 99.32, 40.17 97.08 C31.34 94.84, 22.56 91.42, 16.3 85.3 C10.03 79.19, 4.67 68.47, 2.58 60.4 C0.48 52.33, 1.27 44.81, 3.72 36.9 C6.16 28.98, 10.51 18.98, 17.24 12.93 C23.97 6.87, 34.99 2.56, 44.08 0.57 C53.16 -1.42, 66.84 0.73, 71.73 0.98 C76.62 1.24, 73.37 0.94, 73.42 2.1" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1008.7268857177911 371.23115123814097) rotate(0 22.7783203125 12.5)"><text x="22.7783203125" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Redis</text></g><g stroke-linecap="round"><g transform="translate(969.1015672766069 377.3104260778873) rotate(0 -52.62610139680169 8.454302325060326)"><path d="M0.67 0.95 C-10.7 1.59, -51.56 1.03, -69.03 3.51 C-86.5 5.99, -98.27 13.73, -104.16 15.82 M-0.43 0.4 C-11.37 0.73, -49.53 -0.91, -66.85 1.79 C-84.17 4.48, -98.22 14.09, -104.35 16.57" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(969.1015672766069 377.3104260778873) rotate(0 -52.62610139680169 8.454302325060326)"><path d="M-17.9 8.15 C-11.96 4.67, -7.91 6.49, 0.67 0.95 M-17.9 8.15 C-14.43 5.8, -9.39 4.64, 0.67 0.95" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(969.1015672766069 377.3104260778873) rotate(0 -52.62610139680169 8.454302325060326)"><path d="M-18.19 -5.47 C-12.22 -5.77, -8.1 -0.76, 0.67 0.95 M-18.19 -5.47 C-14.55 -4.98, -9.46 -3.27, 0.67 0.95" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(969.1015672766069 377.3104260778873) rotate(0 -52.62610139680169 8.454302325060326)"><path d="M-90.67 2.08 C-92.35 3.86, -95.86 10.76, -104.35 16.57 M-90.67 2.08 C-93.79 4.03, -95.5 7.42, -104.35 16.57" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(969.1015672766069 377.3104260778873) rotate(0 -52.62610139680169 8.454302325060326)"><path d="M-84.56 14.27 C-87.64 13.22, -92.57 17.27, -104.35 16.57 M-84.56 14.27 C-89.05 13.62, -92.04 14.46, -104.35 16.57" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(843.4105770652836 337.62785782009996) rotate(0 59.87995910644531 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Event cache</text></g><g stroke-linecap="round" transform="translate(459.2770680490164 741.4546670959862) rotate(0 85.59164819917294 33.367475980854465)"><path d="M16.68 0 C44.51 0.21, 74.49 -1.98, 154.5 0 M16.68 0 C44.95 0.94, 72.6 0.85, 154.5 0 M154.5 0 C166.56 1.14, 172.28 6.37, 171.18 16.68 M154.5 0 C166 1.32, 171.35 3.74, 171.18 16.68 M171.18 16.68 C169.96 24.64, 171.82 33.95, 171.18 50.05 M171.18 16.68 C170.68 28.24, 171.27 41.24, 171.18 50.05 M171.18 50.05 C173.11 61.11, 165.09 68.54, 154.5 66.73 M171.18 50.05 C171.48 60.11, 165 66.98, 154.5 66.73 M154.5 66.73 C116.5 68.9, 74.28 69.31, 16.68 66.73 M154.5 66.73 C102.22 65.55, 48.47 65.34, 16.68 66.73 M16.68 66.73 C6.83 65.47, 1.14 62.55, 0 50.05 M16.68 66.73 C6.21 66.68, -0.07 61.88, 0 50.05 M0 50.05 C-0.46 38.56, -1.96 31.62, 0 16.68 M0 50.05 C-0.81 42.25, -0.35 34.19, 0 16.68 M0 16.68 C0.8 5.07, 4.97 -1.33, 16.68 0 M0 16.68 C-0.92 7.8, 4.84 0.69, 16.68 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(483.77008343568934 749.8221430768407) rotate(0 61.0986328125 25)"><text x="61.0986328125" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">virtual waiting </text><text x="61.0986328125" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">queue</text></g><g stroke-linecap="round"><g transform="translate(639.553065281962 780.072617389962) rotate(0 30.41810512492907 -0.13031178960045509)"><path d="M-0.44 -1.19 C9.71 -1.21, 51.46 -1.19, 61.79 -1.02 M1.54 0.8 C11.53 1, 51.41 0.06, 61.34 0.12" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(639.553065281962 780.072617389962) rotate(0 30.41810512492907 -0.13031178960045509)"><path d="M33.25 10.67 C41.83 8.42, 53.04 4.01, 61.34 0.12 M33.25 10.67 C42.29 8.01, 51 4.6, 61.34 0.12" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(639.553065281962 780.072617389962) rotate(0 30.41810512492907 -0.13031178960045509)"><path d="M33.04 -9.85 C41.55 -4.44, 52.83 -1.19, 61.34 0.12 M33.04 -9.85 C42.25 -6.21, 51.02 -3.32, 61.34 0.12" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(424.7060655642292 674.6035996580613) rotate(0 12.491219607064124 47.049994805847746)"><path d="M0.95 -0.76 C5.3 15.14, 21.54 78.38, 25.65 94.19 M-0.01 1.46 C4.27 17.67, 20.86 80.11, 25.05 95.77" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(424.7060655642292 674.6035996580613) rotate(0 12.491219607064124 47.049994805847746)"><path d="M7.88 71.17 C10.9 78.63, 16.83 85.02, 25.05 95.77 M7.88 71.17 C13.66 78.8, 18.39 86.31, 25.05 95.77" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(424.7060655642292 674.6035996580613) rotate(0 12.491219607064124 47.049994805847746)"><path d="M27.71 65.89 C25.45 74.9, 26.15 82.68, 25.05 95.77 M27.71 65.89 C27.61 75.21, 26.43 84.29, 25.05 95.77" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(1162.0661149330012 10) rotate(0 102.01660310209377 90.50678962103291)"><path d="M128.2 3.45 C140.63 4.8, 153.48 11.55, 163.87 18.43 C174.26 25.3, 184.13 34.87, 190.53 44.7 C196.93 54.52, 200.4 66.01, 202.26 77.38 C204.12 88.75, 204.94 101.67, 201.68 112.94 C198.41 124.21, 190.65 135.62, 182.69 144.98 C174.72 154.34, 164.9 163.16, 153.9 169.11 C142.91 175.06, 129.69 179.3, 116.73 180.69 C103.76 182.08, 88.87 180.43, 76.12 177.43 C63.36 174.42, 50.41 169.34, 40.18 162.66 C29.95 155.98, 21.28 147.34, 14.74 137.36 C8.2 127.38, 2.71 114.35, 0.95 102.78 C-0.81 91.21, 0.98 79.09, 4.17 67.91 C7.37 56.74, 12.41 44.98, 20.12 35.72 C27.83 26.46, 39.19 18.06, 50.4 12.35 C61.61 6.64, 72.76 2.44, 87.37 1.44 C101.98 0.43, 128.44 4.6, 138.06 6.31 C147.69 8.02, 145.71 10.46, 145.14 11.71 M76.84 1.46 C88.55 -2.52, 105.44 -2.01, 118.62 0.12 C131.8 2.25, 144.88 8.07, 155.91 14.23 C166.94 20.38, 177.25 27.82, 184.78 37.05 C192.32 46.27, 198.11 58.2, 201.1 69.56 C204.08 80.93, 204.57 93.92, 202.69 105.22 C200.82 116.52, 196.82 127.85, 189.86 137.35 C182.89 146.86, 171.4 155.54, 160.9 162.23 C150.4 168.93, 139.44 174.72, 126.88 177.53 C114.32 180.34, 98.77 180.68, 85.53 179.1 C72.3 177.53, 58.6 173.91, 47.48 168.07 C36.37 162.23, 26.2 153.47, 18.86 144.05 C11.53 134.62, 6.51 122.94, 3.5 111.54 C0.48 100.14, -1.03 86.73, 0.76 75.63 C2.56 64.53, 7.51 54.54, 14.27 44.91 C21.03 35.29, 30.48 24.73, 41.33 17.9 C52.18 11.07, 72.96 6.24, 79.36 3.92 C85.77 1.61, 79.74 2.82, 79.75 4.03" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1211.197062750488 88.0088249365763) rotate(0 52.7490234375 12.5)"><text x="52.7490234375" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Elasticsearch</text></g><g stroke-linecap="round"><g transform="translate(958.1149560561017 200.04832416243516) rotate(0 100.54996068620676 -34.847141914719884)"><path d="M0.56 0.69 C34.09 -10.84, 168.31 -57.6, 201.76 -69.21 M-0.6 0 C32.77 -11.89, 167.62 -59.25, 201.16 -71.08" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(958.1149560561017 200.04832416243516) rotate(0 100.54996068620676 -34.847141914719884)"><path d="M23.83 -18.25 C16.81 -10.4, 8.31 -4.53, 0.56 0.69 M23.83 -18.25 C14.93 -10.76, 6.92 -5.66, 0.56 0.69" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(958.1149560561017 200.04832416243516) rotate(0 100.54996068620676 -34.847141914719884)"><path d="M30.56 1.13 C21.18 2.22, 10.33 1.29, 0.56 0.69 M30.56 1.13 C19.24 1.64, 8.82 -0.19, 0.56 0.69" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(958.1149560561017 200.04832416243516) rotate(0 100.54996068620676 -34.847141914719884)"><path d="M177.97 -52.04 C187.25 -57.73, 195.05 -65.17, 201.16 -71.08 M177.97 -52.04 C185.66 -57.76, 194.25 -66.24, 201.16 -71.08" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(958.1149560561017 200.04832416243516) rotate(0 100.54996068620676 -34.847141914719884)"><path d="M171.16 -71.4 C182.83 -70.33, 193.01 -70.99, 201.16 -71.08 M171.16 -71.4 C181.3 -70.14, 192.33 -71.7, 201.16 -71.08" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(1269.2155674766732 351.8977835294536) rotate(0 13.664035190272784 -78.77627195810919)"><path d="M0.66 0.48 C5.15 -13.35, 24.59 -55.82, 27.53 -82.32 C30.46 -108.82, 19.96 -146.14, 18.28 -158.5 M-0.45 -0.31 C3.85 -14.55, 23.68 -57.85, 26.68 -84.08 C29.69 -110.31, 19.12 -145.29, 17.56 -157.68" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1269.2155674766732 351.8977835294536) rotate(0 13.664035190272784 -78.77627195810919)"><path d="M33.07 -132 C28.34 -140.49, 23.31 -149.59, 17.56 -157.68 M33.07 -132 C29.5 -138.3, 26.33 -143.04, 17.56 -157.68" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1269.2155674766732 351.8977835294536) rotate(0 13.664035190272784 -78.77627195810919)"><path d="M12.93 -128.04 C15.17 -138.02, 17.13 -148.49, 17.56 -157.68 M12.93 -128.04 C13.84 -135.4, 15.11 -141.01, 17.56 -157.68" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(1237.7548040724187 251.01670598465353) rotate(0 20.67998504638672 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">CDC</text></g><g transform="translate(1387.7626321752916 73.51498957127114) rotate(0 157.08987426757812 25)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- index on name, description, </text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">    venue, performer, date, etc.</text></g></svg></span></span></div></div><div class="MuiGrid-root MuiGrid-item mui-1wxaqej"><span class="MuiTypography-root MuiTypography-caption mui-17cupi8">Excalidraw</span></div></div></div></div>
<h3 class="MuiTypography-root MuiTypography-h4 mui-hkpafq" id="5-how-can-you-speed-up-frequently-repeated-search-queries-and-reduce-load-on-our-search-infrastructure">5) How can you speed up frequently repeated search queries and reduce load on our search infrastructure?</h3>
<div class="my-6 flex flex-col gap-4"><div class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation0 MuiAccordion-root MuiAccordion-rounded MuiAccordion-gutters mui-nhbct3"><div class="MuiButtonBase-root MuiAccordionSummary-root MuiAccordionSummary-gutters mui-guv1gb" tabindex="0" role="button" aria-expanded="false" aria-controls="panel1bh-content" id="panel1bh-header"><div class="MuiAccordionSummary-content MuiAccordionSummary-contentGutters mui-l0jafl"><p class="MuiTypography-root MuiTypography-body1 mui-h8owmt">Good Solution: Implement Caching Strategies Using Redis or Memcached</p></div><div class="MuiAccordionSummary-expandIconWrapper mui-awtdfi"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ExpandMoreIcon"><path d="M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"></path></svg></div></div><div class="MuiCollapse-root MuiCollapse-vertical MuiCollapse-hidden mui-a0y2e3" style="min-height: 0px;"><div class="MuiCollapse-wrapper MuiCollapse-vertical mui-hboir5"><div class="MuiCollapse-wrapperInner MuiCollapse-vertical mui-8atqhb"><div aria-labelledby="panel1bh-header" id="panel1bh-content" role="region" class="MuiAccordion-region"><div class="MuiAccordionDetails-root mui-u7qq7e"><h6 class="MuiTypography-root MuiTypography-body1 mui-1quhbks" id="approach-9">Approach</h6><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Use caching mechanisms like Redis or Memcached to store the results of frequently executed search queries. This reduces the load on the search infrastructure by serving repeated queries from the cache instead of hitting the database or search engine repeatedly.</div><ul class="MuiList-root MuiList-padding mui-sedpvs">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Key Design: Construct cache keys based on search query parameters to uniquely identify each query.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Time-To-Live (TTL): Set appropriate TTLs for cached data to ensure freshness and relevance of the information.</div></li>
</ul><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">For example, a cache entry may look like:</div><pre><div class="MuiBox-root mui-xnilmx"><div class="MuiBox-root mui-v2ritd"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-4 h-4  cursor-pointer" aria-label="Copy"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg></div><div style="background: rgb(250, 250, 250); color: rgb(56, 58, 66); font-family: &quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; line-height: 1.5; tab-size: 2; hyphens: none; padding: 1em; margin: 0px; overflow: auto; border-radius: 0.375rem; border: none;"><code font-size="18" style="white-space: pre;"><span class="token" style="color: rgb(56, 58, 66);">{</span><span>
</span><span>  </span><span class="token" style="color: rgb(228, 86, 73);">"key"</span><span class="token" style="color: rgb(64, 120, 242);">:</span><span> </span><span class="token" style="color: rgb(80, 161, 79);">"search:keyword=Taylor Swift&amp;start=2021-01-01&amp;end=2021-12-31"</span><span class="token" style="color: rgb(56, 58, 66);">,</span><span>
</span><span>  </span><span class="token" style="color: rgb(228, 86, 73);">"value"</span><span class="token" style="color: rgb(64, 120, 242);">:</span><span> </span><span class="token" style="color: rgb(56, 58, 66);">[</span><span>event1</span><span class="token" style="color: rgb(56, 58, 66);">,</span><span> event2</span><span class="token" style="color: rgb(56, 58, 66);">,</span><span> event3</span><span class="token" style="color: rgb(56, 58, 66);">]</span><span class="token" style="color: rgb(56, 58, 66);">,</span><span>
</span><span>  </span><span class="token" style="color: rgb(228, 86, 73);">"ttl"</span><span class="token" style="color: rgb(64, 120, 242);">:</span><span> </span><span class="token" style="color: rgb(183, 107, 1);">60</span><span> * </span><span class="token" style="color: rgb(183, 107, 1);">60</span><span> * </span><span class="token" style="color: rgb(183, 107, 1);">24</span><span> </span><span class="token" style="color: rgb(160, 161, 167); font-style: italic;">// 24 hours</span><span>
</span><span></span><span class="token" style="color: rgb(56, 58, 66);">}</span></code></div></div></pre><h6 class="MuiTypography-root MuiTypography-body1 mui-1quhbks" id="challenges-9">Challenges</h6><ul class="MuiList-root MuiList-padding mui-sedpvs">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Efficiently managing cache invalidation can be challenging. Stale or outdated data in the cache can lead to incorrect search results being served to users. This becomes increasingly complex if you cache fuzzy search results. You can use a combination of TTLs and cache invalidation triggers built around cache tags to ensure data consistency.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Frequent cache misses can lead to increased load on the search infrastructure, especially during peak times.</div></li>
</ul></div></div></div></div></div></div><div class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation0 MuiAccordion-root MuiAccordion-rounded MuiAccordion-gutters mui-11r69q9"><div class="MuiButtonBase-root MuiAccordionSummary-root MuiAccordionSummary-gutters mui-3ujfba" tabindex="0" role="button" aria-expanded="false" aria-controls="panel1bh-content" id="panel1bh-header"><div class="MuiAccordionSummary-content MuiAccordionSummary-contentGutters mui-l0jafl"><p class="MuiTypography-root MuiTypography-body1 mui-h8owmt">Great Solution: Great Answer: Implement Query Result Caching and Edge Caching Techniques</p></div><div class="MuiAccordionSummary-expandIconWrapper mui-awtdfi"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ExpandMoreIcon"><path d="M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"></path></svg></div></div><div class="MuiCollapse-root MuiCollapse-vertical MuiCollapse-hidden mui-a0y2e3" style="min-height: 0px;"><div class="MuiCollapse-wrapper MuiCollapse-vertical mui-hboir5"><div class="MuiCollapse-wrapperInner MuiCollapse-vertical mui-8atqhb"><div aria-labelledby="panel1bh-header" id="panel1bh-content" role="region" class="MuiAccordion-region"><div class="MuiAccordionDetails-root mui-u7qq7e"><h6 class="MuiTypography-root MuiTypography-body1 mui-1quhbks" id="approach-10">Approach</h6><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Conveniently, Elasticsearch has built-in caching capabilities that can be leveraged to store results of frequent queries. This reduces the query processing load on the search engine itself. The node query cache in Elasticsearch is an LRU cache shared by all shards on a node, caching results of queries used in the filter. Additionally, Elasticsearch's shard-level request cache is used for caching search responses consisting of aggregation. This can be used for adaptive caching strategies, where the system learns and caches results of the most frequently executed queries over time.</div><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">We can also utilize CDNs to cache search results geographically closer to the user, reducing latency and improving response times. For example, this could mean integrating <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/QueryStringParameters.html" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">AWS CloudFront</a>. Note, this only makes sense if search results are not personalized, meaning that the same search query will return the same results for all users.</div><h6 class="MuiTypography-root MuiTypography-body1 mui-1quhbks" id="challenges-10">Challenges</h6><ul class="MuiList-root MuiList-padding mui-sedpvs">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Ensuring consistency between cached data and real-time data requires sophisticated synchronization mechanisms. You need to ensure you invalidate the cache whenever the underlying data changes (like when a new event is announced). Since search queries and the potential results aren't connected, this is a challenge.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">This approach demands more infrastructure support, including integration with CDNs and managing adaptive caching systems.</div></li>
</ul></div></div></div></div></div></div></div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">As you progress through the deep dives, you should be updating your design to reflect the changes you are making. After doing so, you could have a final design like looks something like this:</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><div class="MuiBox-root mui-10khgmf" style="cursor: pointer;"><div class="MuiGrid-root MuiGrid-container MuiGrid-direction-xs-column mui-1tdxmx0"><div class="MuiGrid-root MuiGrid-item mui-tolxbf"><div class="relative w-full"><button class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall mui-wksd04" tabindex="0" type="button" aria-label="zoom-in"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ZoomInIcon"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"></path><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"></path></svg><span class="MuiTouchRipple-root mui-w0pj6f"></span></button><span class="w-full h-full"><span class="block"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1929.3530852587164 1034.578488466641">
  <!-- svg-source:excalidraw -->
  <!-- payload-type:application/vnd.excalidraw+json --><!-- payload-version:2 -->
  <defs>
    <style class="style-fonts">
      
      
      
    </style>
    
  </defs>
  <rect x="0" y="0" width="1929.3530852587164" height="1034.578488466641" fill="#ffffff"></rect><g stroke-linecap="round" transform="translate(10 420.551324848715) rotate(0 66.41791896430016 54.30053481342259)"><path d="M27.15 0 C55.81 -0.33, 82.7 -0.93, 105.69 0 M27.15 0 C44.19 -1.18, 59.53 -0.9, 105.69 0 M105.69 0 C123.49 0.16, 133.84 9.59, 132.84 27.15 M105.69 0 C125.26 1.43, 132.94 10.79, 132.84 27.15 M132.84 27.15 C132.99 40.25, 131.82 54.4, 132.84 81.45 M132.84 27.15 C131.45 44.89, 132.09 60.84, 132.84 81.45 M132.84 81.45 C131.15 98.73, 122.46 107.26, 105.69 108.6 M132.84 81.45 C134.54 100.04, 125.92 106.63, 105.69 108.6 M105.69 108.6 C87.29 106.98, 69.91 108.84, 27.15 108.6 M105.69 108.6 C89.33 110.25, 71.71 110.33, 27.15 108.6 M27.15 108.6 C8.94 109.12, -1.43 100.04, 0 81.45 M27.15 108.6 C7.54 109.26, -2.1 101.71, 0 81.45 M0 81.45 C1.47 62.65, -1.58 49.27, 0 27.15 M0 81.45 C0.22 64.83, 0.63 49.61, 0 27.15 M0 27.15 C-1.77 8.16, 9.04 0.6, 27.15 0 M0 27.15 C1.65 9.18, 7.42 -1.36, 27.15 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(51.974559589300156 462.3518596621376) rotate(0 24.443359375 12.5)"><text x="24.443359375" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Client</text></g><g stroke-linecap="round" transform="translate(403.7906550751385 270.68723162993047) rotate(0 91.13351565247496 195.92611917101357)"><path d="M32 0 C63.14 2.09, 98.54 1.45, 150.27 0 M32 0 C56.79 0.8, 82.38 0.99, 150.27 0 M150.27 0 C172.88 1.24, 182.35 12.18, 182.27 32 M150.27 0 C170.09 1.45, 183.76 10.45, 182.27 32 M182.27 32 C180.86 135.4, 179.68 239.98, 182.27 359.85 M182.27 32 C181.08 162.27, 181.21 292.64, 182.27 359.85 M182.27 359.85 C183.75 381.61, 173.46 390.14, 150.27 391.85 M182.27 359.85 C180.4 382.28, 169.7 390.47, 150.27 391.85 M150.27 391.85 C118.88 393.24, 92.68 393.96, 32 391.85 M150.27 391.85 C104.1 393.27, 57.34 393.26, 32 391.85 M32 391.85 C9.35 392.43, -1.83 383.06, 0 359.85 M32 391.85 C10.88 390.31, -1.89 382.45, 0 359.85 M0 359.85 C2.04 294.96, 2.67 229.26, 0 32 M0 359.85 C-2.7 291.23, -2.1 223.42, 0 32 M0 32 C1.43 10.78, 9.25 -1.19, 32 0 M0 32 C-1.81 12.14, 10.83 -2.02, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(432.44858479011344 416.61335080094403) rotate(0 62.4755859375 50)"><text x="62.4755859375" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">API Gateway</text><text x="62.4755859375" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- authentication</text><text x="62.4755859375" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- rate limiting</text><text x="62.4755859375" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- routing</text></g><g stroke-linecap="round" transform="translate(810.5894285798223 405.95149460219363) rotate(0 133.45758189228422 69.29831816266892)"><path d="M32 0 C106.26 -2.31, 182.61 -1.03, 234.92 0 M32 0 C95.08 0.07, 157.06 0.19, 234.92 0 M234.92 0 C254.93 1.26, 268.22 10.48, 266.92 32 M234.92 0 C256.69 -1.56, 269.01 10.86, 266.92 32 M266.92 32 C268.3 47.25, 266.69 61.88, 266.92 106.6 M266.92 32 C267.17 51.52, 267.35 69.76, 266.92 106.6 M266.92 106.6 C265.29 128.88, 254.6 137.39, 234.92 138.6 M266.92 106.6 C265.8 126.34, 257.27 136.72, 234.92 138.6 M234.92 138.6 C166.94 140.61, 97.51 139.93, 32 138.6 M234.92 138.6 C168.21 139.3, 101.87 139.88, 32 138.6 M32 138.6 C10.86 137.25, -1.64 129.03, 0 106.6 M32 138.6 C8.37 136.36, 1.64 127.68, 0 106.6 M0 106.6 C-2.1 81.93, -1.1 51.78, 0 32 M0 106.6 C0.72 87.58, -0.7 67.86, 0 32 M0 32 C-1.57 11.94, 10.81 -1.76, 32 0 M0 32 C0.44 12.22, 8.95 2.22, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(888.2364635971065 462.74981276486255) rotate(0 55.810546875 12.5)"><text x="55.810546875" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Event Service</text></g><g stroke-linecap="round"><g transform="translate(600.6286979012015 483.7129862216225) rotate(0 98.12245388739251 1.71820194628026)"><path d="M-0.18 0.1 C32.8 0.85, 163.98 3.08, 196.85 3.76 M-1.73 -0.9 C31.24 -0.46, 163.16 1.29, 196.22 1.81" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(600.6286979012015 483.7129862216225) rotate(0 98.12245388739251 1.71820194628026)"><path d="M28.2 -9.64 C22.23 -6.59, 16.54 -4.23, -0.18 0.1 M28.2 -9.64 C17.27 -5.27, 8.31 -2.47, -0.18 0.1" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(600.6286979012015 483.7129862216225) rotate(0 98.12245388739251 1.71820194628026)"><path d="M27.82 10.88 C22.06 9.54, 16.45 7.51, -0.18 0.1 M27.82 10.88 C17.02 7.82, 8.19 3.19, -0.18 0.1" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(600.6286979012015 483.7129862216225) rotate(0 98.12245388739251 1.71820194628026)"><path d="M167.89 11.66 C174.17 10.61, 180.6 8.77, 196.22 1.81 M167.89 11.66 C177.48 8.51, 189.05 4.22, 196.22 1.81" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(600.6286979012015 483.7129862216225) rotate(0 98.12245388739251 1.71820194628026)"><path d="M168.18 -8.86 C174.27 -5.53, 180.65 -2.97, 196.22 1.81 M168.18 -8.86 C177.68 -4.58, 189.14 -1.44, 196.22 1.81" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(1253.3933741329188 360.2552921459883) rotate(0 112.92030416412285 108.78506994587957)"><path d="M149.31 4.9 C162.12 7.32, 175.14 17.09, 185.48 25.58 C195.82 34.07, 204.92 44.34, 211.34 55.82 C217.77 67.29, 222.1 81.62, 224.04 94.41 C225.98 107.2, 226.09 120.1, 222.99 132.56 C219.89 145.01, 212.96 158.22, 205.46 169.14 C197.95 180.07, 188.98 190.68, 177.94 198.12 C166.9 205.56, 152.67 210.81, 139.21 213.78 C125.75 216.74, 110.79 217.42, 97.17 215.9 C83.56 214.39, 69.33 210.77, 57.54 204.69 C45.74 198.61, 35.17 189.73, 26.43 179.41 C17.69 169.09, 9.39 155.49, 5.08 142.79 C0.77 130.09, -0.05 116.23, 0.58 103.19 C1.22 90.16, 3.64 76.38, 8.91 64.6 C14.18 52.81, 22.64 41.62, 32.19 32.49 C41.75 23.36, 53.55 15.06, 66.25 9.8 C78.95 4.54, 92.66 0.86, 108.4 0.92 C124.13 0.97, 150.34 7.44, 160.65 10.12 C170.96 12.8, 171.14 15.5, 170.25 16.98 M125.4 2.23 C138.62 1.84, 154.46 5.83, 166.46 11.93 C178.47 18.02, 188.85 28.95, 197.42 38.82 C206 48.69, 213.01 58.96, 217.92 71.15 C222.82 83.34, 226.88 98.53, 226.85 111.95 C226.83 125.38, 223.1 139.84, 217.75 151.7 C212.41 163.56, 204.15 173.91, 194.78 183.12 C185.41 192.34, 174.24 201.38, 161.54 206.98 C148.83 212.57, 132.38 215.71, 118.57 216.7 C104.76 217.69, 91.26 216.75, 78.7 212.91 C66.14 209.06, 53.99 202.07, 43.22 193.64 C32.45 185.2, 21.26 173.5, 14.08 162.31 C6.9 151.11, 2.05 139.47, 0.16 126.45 C-1.73 113.44, -0.44 97, 2.72 84.22 C5.87 71.43, 11.76 60.19, 19.06 49.73 C26.37 39.27, 35.26 28.98, 46.54 21.46 C57.82 13.93, 73.5 8.06, 86.73 4.57 C99.97 1.08, 119.24 0.97, 125.95 0.49 C132.67 0.02, 126.88 -0.06, 127.03 1.72" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1310.9152076764426 444.11770144128354) rotate(0 55.5517578125 25)"><text x="55.5517578125" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Database</text><text x="55.5517578125" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">(PostgreSQL)</text></g><g stroke-linecap="round"><g transform="translate(1086.261187571572 473.76100939328353) rotate(0 75.14656532720915 0.29807728076474405)"><path d="M0.05 0.91 C24.84 1.01, 124.33 1.42, 149.5 1.35 M-1.38 0.34 C23.72 0.03, 126.45 -0.61, 151.8 -0.37" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1086.261187571572 473.76100939328353) rotate(0 75.14656532720915 0.29807728076474405)"><path d="M28.28 -9.25 C19.57 -6.86, 9.04 -0.54, 0.05 0.91 M28.28 -9.25 C21.01 -6.41, 11.02 -4.32, 0.05 0.91" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1086.261187571572 473.76100939328353) rotate(0 75.14656532720915 0.29807728076474405)"><path d="M28.21 11.27 C19.4 6.19, 8.89 5.04, 0.05 0.91 M28.21 11.27 C20.92 8.15, 10.95 4.28, 0.05 0.91" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1086.261187571572 473.76100939328353) rotate(0 75.14656532720915 0.29807728076474405)"><path d="M123.61 9.88 C135.32 4.82, 145.34 3.7, 151.8 -0.37 M123.61 9.88 C132.69 7.18, 139.08 3.34, 151.8 -0.37" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1086.261187571572 473.76100939328353) rotate(0 75.14656532720915 0.29807728076474405)"><path d="M123.61 -10.64 C135.45 -8.23, 145.47 -1.87, 151.8 -0.37 M123.61 -10.64 C132.73 -7.38, 139.12 -5.26, 151.8 -0.37" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(1507.7598484035097 325.346114519436) rotate(0 65.74993133544928 100)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Event</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- id</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- venueId</text><text x="0" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- performerId</text><text x="0" y="100" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- tickets[]</text><text x="0" y="125" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- name</text><text x="0" y="150" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- description</text><text x="0" y="175" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- ....</text></g><g transform="translate(1677.9675656730274 323.52597858607805) rotate(0 51.58995819091797 62.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Venue</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- id</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- location</text><text x="0" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- seatMap</text><text x="0" y="100" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- ...</text></g><g transform="translate(1824.9931914598883 328.944508991548) rotate(0 47.17994689941406 37.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Performer</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- id</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">...</text></g><g transform="translate(630.9681120175399 439.5683479413692) rotate(0 64.13993835449219 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">view(eventId)</text></g><g stroke-linecap="round" transform="translate(804.2500193539822 158.48025562352996) rotate(0 133.45758189228422 69.29831816266892)"><path d="M32 0 C109.97 -0.02, 192.47 1.13, 234.92 0 M32 0 C95.87 0.15, 161.59 0.94, 234.92 0 M234.92 0 C258.11 -1.71, 265.29 11.62, 266.92 32 M234.92 0 C254.35 -1.38, 265.8 9.08, 266.92 32 M266.92 32 C268.22 59.28, 268.1 84.05, 266.92 106.6 M266.92 32 C266.16 61.94, 266.22 91.67, 266.92 106.6 M266.92 106.6 C265.09 129.81, 256.44 137.25, 234.92 138.6 M266.92 106.6 C265.03 129.2, 253.95 136.36, 234.92 138.6 M234.92 138.6 C160.24 140.53, 82.66 141.27, 32 138.6 M234.92 138.6 C182.52 138.06, 130.79 137.84, 32 138.6 M32 138.6 C9.25 137.41, -1.57 129.21, 0 106.6 M32 138.6 C10.83 136.57, 0.44 129.49, 0 106.6 M0 106.6 C0.98 88.7, -1.16 73.7, 0 32 M0 106.6 C-1.58 91.4, -0.92 74.63, 0 32 M0 32 C-0.76 12.09, 9.91 0.26, 32 0 M0 32 C-0.45 11.84, 10.18 -1.23, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(878.0152184337664 215.27857378619888) rotate(0 59.6923828125 12.5)"><text x="59.6923828125" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Search Service</text></g><g stroke-linecap="round"><g transform="translate(602.4886481694462 417.33960048614426) rotate(0 90.93538370750376 -87.87295048122769)"><path d="M-0.32 0.21 C30 -29.36, 150.62 -146.78, 180.86 -176.24 M1.71 -0.72 C32.49 -29.62, 152.73 -145.81, 183.04 -174.96" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(602.4886481694462 417.33960048614426) rotate(0 90.93538370750376 -87.87295048122769)"><path d="M12.71 -26.81 C10.61 -22.88, 6.7 -16.86, -0.32 0.21 M12.71 -26.81 C10.81 -21.35, 6.03 -13.72, -0.32 0.21" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(602.4886481694462 417.33960048614426) rotate(0 90.93538370750376 -87.87295048122769)"><path d="M27.03 -12.11 C21.78 -11.29, 14.88 -8.35, -0.32 0.21 M27.03 -12.11 C21.68 -10.04, 13.58 -5.84, -0.32 0.21" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(602.4886481694462 417.33960048614426) rotate(0 90.93538370750376 -87.87295048122769)"><path d="M169.86 -148.01 C172.71 -155.3, 174.29 -160.58, 183.04 -174.96 M169.86 -148.01 C173.66 -155.17, 174.98 -160.11, 183.04 -174.96" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(602.4886481694462 417.33960048614426) rotate(0 90.93538370750376 -87.87295048122769)"><path d="M155.62 -162.78 C161.59 -166.95, 166.15 -169.13, 183.04 -174.96 M155.62 -162.78 C162.84 -166.53, 167.48 -168.04, 183.04 -174.96" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(294.63995908237143 86.86653226167618) rotate(0 468.1796569824219 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">GET /search?term={term}&amp;location={location}&amp;type={type}&amp;date={date} -&gt; Partial&lt;Event&gt;[]</text></g><g stroke-linecap="round"><g transform="translate(1084.0959118997312 232.5524685955752) rotate(0 94.64702248989141 70.92741489771151)"><path d="M-0.79 -0.81 C31.07 22.96, 158.32 118.51, 190.19 142.11 M0.99 1.38 C32.87 24.81, 158.17 116.75, 189.71 140.12" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1084.0959118997312 232.5524685955752) rotate(0 94.64702248989141 70.92741489771151)"><path d="M27.92 7.88 C20.43 7.3, 16.01 5.8, -0.79 -0.81 M27.92 7.88 C21.01 5.55, 15.2 3.6, -0.79 -0.81" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1084.0959118997312 232.5524685955752) rotate(0 94.64702248989141 70.92741489771151)"><path d="M15.62 24.31 C10.84 20.27, 9.08 15.23, -0.79 -0.81 M15.62 24.31 C11.48 18.4, 8.3 12.93, -0.79 -0.81" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1084.0959118997312 232.5524685955752) rotate(0 94.64702248989141 70.92741489771151)"><path d="M160.92 131.66 C165.75 135.16, 173.72 137.35, 189.71 140.12 M160.92 131.66 C166.2 132.74, 172.71 134.46, 189.71 140.12" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1084.0959118997312 232.5524685955752) rotate(0 94.64702248989141 70.92741489771151)"><path d="M173.1 115.14 C175.23 122.12, 180.58 127.87, 189.71 140.12 M173.1 115.14 C175.63 119.81, 179.53 125.08, 189.71 140.12" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(844.8778385054497 686.6002083185449) rotate(0 132.14561200083372 76.0151989733738)"><path d="M32 0 C79.24 0.33, 124.17 -2.8, 232.29 0 M32 0 C101.18 0.46, 171.63 0.35, 232.29 0 M232.29 0 C254.48 1.92, 265.87 12.46, 264.29 32 M232.29 0 C254.37 2.25, 264.17 11.26, 264.29 32 M264.29 32 C265.08 50.31, 266.38 72.46, 264.29 120.03 M264.29 32 C262.57 51.53, 264.28 72.89, 264.29 120.03 M264.29 120.03 C265.4 142.07, 254.66 150.2, 232.29 152.03 M264.29 120.03 C266.43 140.4, 251.59 151.01, 232.29 152.03 M232.29 152.03 C172.44 152.05, 111.33 151.91, 32 152.03 M232.29 152.03 C159.58 151.05, 85.85 151.31, 32 152.03 M32 152.03 C12.5 153.73, -1.09 140.93, 0 120.03 M32 152.03 C11.48 150.1, 2.24 140.72, 0 120.03 M0 120.03 C-0.31 100.4, 0.63 81.53, 0 32 M0 120.03 C-0.04 91.96, -0.42 64.5, 0 32 M0 32 C-1.29 9.98, 10.3 0.76, 32 0 M0 32 C-2.15 9.31, 10.94 2.02, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(910.0898567562833 750.1154072919187) rotate(0 66.93359375 12.5)"><text x="66.93359375" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Booking Service</text></g><g stroke-linecap="round"><g transform="translate(1126.5337642367308 744.2838320502997) rotate(0 93.13683258314887 -81.43537361839753)"><path d="M-0.97 0.57 C29.72 -26.52, 154.17 -136.21, 185.28 -163.59 M0.72 -0.18 C31.68 -27.04, 156.83 -135.33, 187.48 -162.43" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1126.5337642367308 744.2838320502997) rotate(0 93.13683258314887 -81.43537361839753)"><path d="M172.99 -136.16 C179.86 -148.01, 183.4 -157.65, 187.48 -162.43 M172.99 -136.16 C176.65 -141.15, 180.35 -147.28, 187.48 -162.43" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1126.5337642367308 744.2838320502997) rotate(0 93.13683258314887 -81.43537361839753)"><path d="M159.49 -151.62 C171.53 -157.29, 180.37 -160.86, 187.48 -162.43 M159.49 -151.62 C166.34 -152.93, 173.16 -155.48, 187.48 -162.43" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(848.6307601636086 937.3237602562622) rotate(0 132.68811403083757 43.62736410518937)"><path d="M21.81 0 C69.33 0.74, 117.73 2.35, 243.56 0 M21.81 0 C70.92 -1.06, 118.94 -0.99, 243.56 0 M243.56 0 C258 0.52, 263.95 7.76, 265.38 21.81 M243.56 0 C256.59 0.66, 263.27 9.43, 265.38 21.81 M265.38 21.81 C266.19 33.32, 263.14 50.24, 265.38 65.44 M265.38 21.81 C266.14 33.52, 266.55 46.64, 265.38 65.44 M265.38 65.44 C263.61 79.1, 258.09 87.85, 243.56 87.25 M265.38 65.44 C267.02 80.11, 256.48 85.89, 243.56 87.25 M243.56 87.25 C192.96 87.72, 146.57 86.1, 21.81 87.25 M243.56 87.25 C155.15 88.7, 67.99 88.16, 21.81 87.25 M21.81 87.25 C9.22 86.69, -1.71 81.8, 0 65.44 M21.81 87.25 C6.82 87.81, -0.87 81.62, 0 65.44 M0 65.44 C0.97 53.59, -1.13 41.39, 0 21.81 M0 65.44 C0.1 54.7, -0.65 42.61, 0 21.81 M0 21.81 C0.24 9.03, 5.96 1.51, 21.81 0 M0 21.81 C-2.1 7.79, 7.98 -2.22, 21.81 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(957.4321554444462 968.4511243614515) rotate(0 23.88671875 12.5)"><text x="23.88671875" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Stripe</text></g><g stroke-linecap="round"><g transform="translate(929.0793881052931 926.7241052084919) rotate(0 0.39784809959675727 -39.166549586309884)"><path d="M0.53 -0.98 C0.85 -13.71, 1.11 -64.47, 1.31 -77.18 M-0.64 1.12 C-0.39 -11.84, 0.28 -65.34, 0.63 -78.7" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(929.0793881052931 926.7241052084919) rotate(0 0.39784809959675727 -39.166549586309884)"><path d="M-9.44 -29.27 C-8.76 -21.34, -2.7 -13.51, 0.53 -0.98 M-9.44 -29.27 C-5.51 -18.08, -2.28 -7.06, 0.53 -0.98" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(929.0793881052931 926.7241052084919) rotate(0 0.39784809959675727 -39.166549586309884)"><path d="M11.08 -29.06 C6.6 -21.09, 7.5 -13.31, 0.53 -0.98 M11.08 -29.06 C7.01 -17.75, 2.24 -6.82, 0.53 -0.98" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(1029.0138699115457 931.694722098784) rotate(0 -0.08720523290409687 -42.49575007812837)"><path d="M0.51 1.15 C0.55 -12.67, 0.82 -69.75, 0.77 -83.91 M-0.67 0.71 C-0.76 -13.34, 0.27 -71.09, 0.32 -85.47" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1029.0138699115457 931.694722098784) rotate(0 -0.08720523290409687 -42.49575007812837)"><path d="M10.26 -57.16 C8.98 -65.29, 5.44 -75.97, 0.32 -85.47 M10.26 -57.16 C5.61 -68.16, 1.71 -79.38, 0.32 -85.47" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1029.0138699115457 931.694722098784) rotate(0 -0.08720523290409687 -42.49575007812837)"><path d="M-10.26 -57.4 C-4.47 -65.54, -0.94 -76.13, 0.32 -85.47 M-10.26 -57.4 C-6.75 -68.35, -2.48 -79.48, 0.32 -85.47" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(603.3298673074917 601.4363444116916) rotate(0 114.83571058151716 76.17224648972388)"><path d="M0.95 1.08 C39.2 26.47, 191.95 128.26, 230.06 153.52 M-0.02 0.6 C38.07 26.2, 191.18 126.43, 229.32 152.02" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(603.3298673074917 601.4363444116916) rotate(0 114.83571058151716 76.17224648972388)"><path d="M30.1 8.16 C21.83 6.61, 12 3.42, 0.95 1.08 M30.1 8.16 C19.99 6.21, 10.24 4.55, 0.95 1.08" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(603.3298673074917 601.4363444116916) rotate(0 114.83571058151716 76.17224648972388)"><path d="M18.73 25.24 C14.2 17.75, 8.26 8.7, 0.95 1.08 M18.73 25.24 C12.45 17.7, 6.4 10.48, 0.95 1.08" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(603.3298673074917 601.4363444116916) rotate(0 114.83571058151716 76.17224648972388)"><path d="M200.15 145.01 C212.01 147.83, 222.18 149.48, 229.32 152.02 M200.15 145.01 C208.95 147.51, 218.19 150.44, 229.32 152.02" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(603.3298673074917 601.4363444116916) rotate(0 114.83571058151716 76.17224648972388)"><path d="M211.47 127.9 C219.62 136.68, 225.9 144.19, 229.32 152.02 M211.47 127.9 C216.46 136, 222.02 144.51, 229.32 152.02" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(1503.6140522807186 565.799043980538) rotate(0 134.03988647460932 87.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Ticket</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- id</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- eventId</text><text x="0" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- seat</text><text x="0" y="100" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- price</text><text x="0" y="125" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- status: available, booked</text><text x="0" y="150" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- userId</text></g><g transform="translate(1803.7958929009046 566.9305892454377) rotate(0 43.38995361328125 50)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Booking</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- id</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- userId</text><text x="0" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- tickets</text></g><g transform="translate(679.3145123166869 604.5940507359792) rotate(0 201.83981323242188 25)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">reserve(ticketId, userId)</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">confirm(ticketId, userId, paymentDetails)</text></g><g stroke-linecap="round" transform="translate(1263.9914621822118 703.5126552699348) rotate(0 62.59547628591781 59.93944973184932)"><path d="M34.3 5.33 C42.09 0.46, 55.15 -1.48, 64.79 -0.98 C74.43 -0.48, 83.8 3.54, 92.16 8.33 C100.51 13.11, 109.4 20.01, 114.92 27.75 C120.44 35.5, 124.48 45.49, 125.27 54.8 C126.05 64.1, 123.41 75.23, 119.6 83.59 C115.8 91.95, 109.79 99.13, 102.44 104.95 C95.1 110.76, 84.88 116.24, 75.53 118.49 C66.18 120.74, 55.59 121.03, 46.32 118.46 C37.06 115.88, 27.16 109.63, 19.93 103.04 C12.69 96.45, 6.01 87.57, 2.91 78.93 C-0.19 70.29, -0.06 60.25, 1.31 51.23 C2.69 42.2, 4.6 32.78, 11.15 24.8 C17.7 16.81, 34.75 6.7, 40.63 3.31 C46.5 -0.08, 46.01 3.49, 46.41 4.46 M57.23 -0.06 C65.99 -1.47, 75.45 1.98, 84.19 5.5 C92.92 9.03, 103.17 14.11, 109.63 21.08 C116.1 28.05, 120.81 38.33, 122.97 47.34 C125.14 56.35, 125.01 66.21, 122.62 75.15 C120.24 84.09, 115.14 94.26, 108.67 100.97 C102.2 107.69, 92.99 112.47, 83.79 115.43 C74.58 118.38, 63.15 119.86, 53.43 118.68 C43.72 117.5, 33.29 113.51, 25.47 108.35 C17.66 103.2, 11.04 96.08, 6.56 87.75 C2.08 79.41, -1.59 67.52, -1.4 58.36 C-1.21 49.2, 3.02 40.62, 7.69 32.79 C12.37 24.95, 18.87 16.7, 26.66 11.35 C34.44 6, 49.46 2.57, 54.41 0.69 C59.36 -1.18, 56.23 -1.06, 56.37 0.1" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1297.3867761522552 726.0685136358034) rotate(0 29.4384765625 37.5)"><text x="29.4384765625" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Ticket </text><text x="29.4384765625" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Lock</text><text x="29.4384765625" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">(Redis)</text></g><g stroke-linecap="round"><g transform="translate(1130.654977109454 770.9488252334122) rotate(0 57.51430583474911 0.7548427886058562)"><path d="M0.11 -0.81 C19.3 -0.63, 95.09 1.98, 114.04 2.17 M-1.29 1.39 C18.37 1.72, 96.67 0.45, 116.24 0.4" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1130.654977109454 770.9488252334122) rotate(0 57.51430583474911 0.7548427886058562)"><path d="M28.57 -10.3 C21.38 -9.94, 17.89 -8.31, 0.11 -0.81 M28.57 -10.3 C23.42 -8.05, 17.61 -7.4, 0.11 -0.81" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1130.654977109454 770.9488252334122) rotate(0 57.51430583474911 0.7548427886058562)"><path d="M28.02 10.21 C20.75 6.3, 17.38 3.65, 0.11 -0.81 M28.02 10.21 C22.83 8.3, 17.13 4.79, 0.11 -0.81" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1130.654977109454 770.9488252334122) rotate(0 57.51430583474911 0.7548427886058562)"><path d="M88.15 10.94 C92.57 7.07, 100.87 4.52, 116.24 0.4 M88.15 10.94 C94.33 9.18, 99.99 5.77, 116.24 0.4" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1130.654977109454 770.9488252334122) rotate(0 57.51430583474911 0.7548427886058562)"><path d="M87.95 -9.58 C92.6 -9.17, 100.94 -7.44, 116.24 0.4 M87.95 -9.58 C94.31 -7.17, 100.02 -6.42, 116.24 0.4" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(1180.2984778594152 838.4890984391113) rotate(0 149.9698944091797 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">{ticketId: userId} TTL 10 min</text></g><g stroke-linecap="round" transform="translate(1105.4689555807722 333.595374315757) rotate(0 56.58724715460437 49.969668064270536)"><path d="M76.65 3.64 C85.19 5.79, 93.37 12.85, 99.26 19.03 C105.14 25.22, 110.3 32.68, 111.96 40.73 C113.62 48.79, 112.35 59.29, 109.19 67.36 C106.02 75.44, 100.15 83.98, 92.97 89.18 C85.79 94.37, 75.55 97.39, 66.1 98.53 C56.65 99.67, 45.03 98.8, 36.29 96.03 C27.55 93.26, 19.7 88.16, 13.64 81.91 C7.58 75.66, 1.49 66.86, -0.08 58.51 C-1.65 50.17, 0.63 39.51, 4.22 31.82 C7.81 24.14, 14.17 17.68, 21.47 12.4 C28.76 7.12, 38.64 1.56, 47.98 0.16 C57.32 -1.25, 72.53 2.99, 77.51 3.97 C82.5 4.95, 78.23 5.47, 77.87 6.04 M80.78 6.11 C89.15 8.89, 97.57 15.33, 102.9 22.18 C108.23 29.03, 112.03 39.06, 112.74 47.21 C113.45 55.35, 111.38 63.78, 107.15 71.03 C102.92 78.28, 95.3 85.98, 87.38 90.69 C79.46 95.4, 68.92 98.5, 59.62 99.3 C50.31 100.09, 40.1 99.18, 31.55 95.47 C23 91.77, 13.51 83.84, 8.3 77.06 C3.1 70.29, 0.92 62.79, 0.32 54.82 C-0.28 46.85, 0.85 36.89, 4.72 29.24 C8.59 21.59, 15.48 14, 23.53 8.9 C31.59 3.81, 43.62 -0.9, 53.05 -1.32 C62.48 -1.74, 75.55 4.97, 80.12 6.41 C84.69 7.84, 80.55 6.58, 80.48 7.28" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1139.2646562311768 371.23115123814097) rotate(0 22.7783203125 12.5)"><text x="22.7783203125" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Redis</text></g><g stroke-linecap="round"><g transform="translate(1099.6393377899926 377.3104260778873) rotate(0 -52.62610139680169 8.454302325060326)"><path d="M0.67 0.43 C-10.71 0.72, -49.92 -1.02, -67.39 1.64 C-84.86 4.31, -97.65 13.95, -104.13 16.41 M-0.44 -0.4 C-11.99 0.02, -50.7 -0.37, -68.01 2.6 C-85.32 5.58, -97.88 15.03, -104.31 17.46" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1099.6393377899926 377.3104260778873) rotate(0 -52.62610139680169 8.454302325060326)"><path d="M-18.08 7.18 C-10.41 5.6, -5.98 3.92, 0.67 0.43 M-18.08 7.18 C-13.19 5.81, -7.63 3.83, 0.67 0.43" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1099.6393377899926 377.3104260778873) rotate(0 -52.62610139680169 8.454302325060326)"><path d="M-18.03 -6.45 C-10.39 -2.97, -5.98 0.4, 0.67 0.43 M-18.03 -6.45 C-13.27 -4.3, -7.72 -2.76, 0.67 0.43" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1099.6393377899926 377.3104260778873) rotate(0 -52.62610139680169 8.454302325060326)"><path d="M-90.64 2.97 C-95.02 9.45, -102.63 15.66, -104.31 17.46 M-90.64 2.97 C-94.31 6.95, -97.12 10.45, -104.31 17.46" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1099.6393377899926 377.3104260778873) rotate(0 -52.62610139680169 8.454302325060326)"><path d="M-84.53 15.15 C-91.17 17.15, -101.04 18.83, -104.31 17.46 M-84.53 15.15 C-89.66 15.96, -94.05 16.31, -104.31 17.46" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(973.9483475786693 337.62785782009996) rotate(0 59.87995910644531 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Event cache</text></g><g stroke-linecap="round" transform="translate(589.8148385624021 741.4546670959862) rotate(0 85.59164819917294 33.367475980854465)"><path d="M16.68 0 C64.31 -3.05, 112.73 -1.3, 154.5 0 M16.68 0 C61.44 -0.67, 106.81 0.56, 154.5 0 M154.5 0 C165.76 -1.76, 171.56 6.91, 171.18 16.68 M154.5 0 C163.9 2.22, 173.29 7.52, 171.18 16.68 M171.18 16.68 C169.43 26.81, 170.55 31.34, 171.18 50.05 M171.18 16.68 C170.74 30.43, 170.74 42.88, 171.18 50.05 M171.18 50.05 C170.79 62.2, 165.19 65.67, 154.5 66.73 M171.18 50.05 C169.81 60.14, 164.14 65.94, 154.5 66.73 M154.5 66.73 C114.52 65.69, 78.66 64.14, 16.68 66.73 M154.5 66.73 C103.02 66.08, 50.12 67.96, 16.68 66.73 M16.68 66.73 C5.06 68.53, 1.08 62.68, 0 50.05 M16.68 66.73 C3.65 67.44, -2.3 63.16, 0 50.05 M0 50.05 C-0.83 41.56, 0.19 33.75, 0 16.68 M0 50.05 C0.81 36.62, -0.39 24.4, 0 16.68 M0 16.68 C-0.85 6.26, 5.8 -1.67, 16.68 0 M0 16.68 C0.23 6.83, 3.62 1.37, 16.68 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(614.307853949075 749.8221430768407) rotate(0 61.0986328125 25)"><text x="61.0986328125" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">virtual waiting </text><text x="61.0986328125" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">queue</text></g><g stroke-linecap="round"><g transform="translate(770.0908357953476 780.072617389962) rotate(0 30.41810512492907 -0.13031178960045509)"><path d="M-0.01 0.36 C10.45 0.41, 51.7 0.03, 61.7 -0.19 M-1.47 -0.5 C9 -0.19, 50.55 1.3, 61.2 1.38" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(770.0908357953476 780.072617389962) rotate(0 30.41810512492907 -0.13031178960045509)"><path d="M32.78 10.98 C39.43 10.38, 44.96 5.5, 61.2 1.38 M32.78 10.98 C39.76 7.6, 46.72 6.85, 61.2 1.38" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(770.0908357953476 780.072617389962) rotate(0 30.41810512492907 -0.13031178960045509)"><path d="M33.26 -9.54 C39.72 -5.8, 45.14 -6.33, 61.2 1.38 M33.26 -9.54 C39.97 -7.97, 46.81 -3.79, 61.2 1.38" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(555.2438360776149 674.6035996580613) rotate(0 12.491219607064124 47.049994805847746)"><path d="M0.86 0.07 C4.88 15.57, 20.27 77.59, 24.13 93.39 M-0.15 -0.94 C4.25 14.67, 21.97 78.91, 26.4 94.55" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(555.2438360776149 674.6035996580613) rotate(0 12.491219607064124 47.049994805847746)"><path d="M8.94 70.16 C14.35 75.92, 18.28 83.06, 26.4 94.55 M8.94 70.16 C15.5 79.86, 20.92 89.03, 26.4 94.55" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(555.2438360776149 674.6035996580613) rotate(0 12.491219607064124 47.049994805847746)"><path d="M28.71 64.64 C28.22 72.2, 26.23 80.99, 26.4 94.55 M28.71 64.64 C28.08 76.18, 26.3 87.36, 26.4 94.55" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(1292.6038854463868 10) rotate(0 102.01660310209377 90.50678962103291)"><path d="M62.04 7.1 C72.86 1.48, 89.31 -0.86, 102.63 -0.75 C115.95 -0.63, 129.91 3.34, 141.96 7.78 C154.02 12.23, 165.95 17.86, 174.96 25.92 C183.97 33.98, 191.32 45.25, 196.02 56.17 C200.73 67.09, 203.19 80.08, 203.19 91.42 C203.19 102.76, 200.69 113.76, 196.01 124.23 C191.33 134.71, 184.21 146.02, 175.11 154.27 C166 162.51, 153.41 169.33, 141.36 173.72 C129.31 178.12, 115.83 180.59, 102.8 180.63 C89.76 180.67, 75.23 178.34, 63.17 173.95 C51.11 169.57, 39.76 162.56, 30.44 154.33 C21.12 146.11, 12.4 135.34, 7.26 124.6 C2.11 113.87, -0.47 101.4, -0.45 89.92 C-0.43 78.44, 2.28 66.46, 7.39 55.74 C12.5 45.02, 20.5 33.93, 30.21 25.62 C39.92 17.3, 58.83 9.18, 65.66 5.87 C72.48 2.55, 70.33 4.5, 71.15 5.74 M112.18 1.93 C124.5 2.24, 139.23 7.09, 150.96 12.63 C162.69 18.17, 174.59 26.3, 182.57 35.18 C190.54 44.06, 195.57 54.76, 198.79 65.88 C202.02 77, 203.21 90.37, 201.9 101.9 C200.59 113.43, 196.95 125.26, 190.93 135.07 C184.91 144.88, 175.8 153.65, 165.77 160.76 C155.75 167.87, 143.05 174.23, 130.78 177.74 C118.5 181.26, 105.26 183.4, 92.12 181.85 C78.97 180.3, 63.39 174.34, 51.91 168.45 C40.43 162.56, 31.35 155.17, 23.22 146.52 C15.1 137.87, 7.01 127.46, 3.14 116.53 C-0.73 105.6, -1.62 92.77, 0 80.93 C1.63 69.09, 6.47 55.55, 12.89 45.5 C19.31 35.44, 28.6 27.44, 38.53 20.59 C48.46 13.75, 59.96 7.95, 72.47 4.44 C84.99 0.93, 106.9 -0.14, 113.64 -0.47 C120.39 -0.8, 113.31 0.56, 112.93 2.47" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1341.7348332638735 88.0088249365763) rotate(0 52.7490234375 12.500000000000004)"><text x="52.7490234375" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Elasticsearch</text></g><g stroke-linecap="round"><g transform="translate(1088.6527265694874 200.04832416243516) rotate(0 100.54996068620676 -34.847141914719884)"><path d="M0.08 -1.06 C33.8 -12.66, 167.98 -57.64, 201.33 -68.88 M-1.33 1 C32.33 -11, 166.51 -58.7, 200.5 -70.58" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1088.6527265694874 200.04832416243516) rotate(0 100.54996068620676 -34.847141914719884)"><path d="M23.52 -19.79 C16.69 -15.25, 14.62 -12.97, 0.08 -1.06 M23.52 -19.79 C13.85 -12.38, 5.46 -5.57, 0.08 -1.06" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1088.6527265694874 200.04832416243516) rotate(0 100.54996068620676 -34.847141914719884)"><path d="M30.08 -0.34 C21.67 -0.1, 18.15 -2.13, 0.08 -1.06 M30.08 -0.34 C17.63 -0.59, 6.64 -1.49, 0.08 -1.06" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1088.6527265694874 200.04832416243516) rotate(0 100.54996068620676 -34.847141914719884)"><path d="M177.33 -51.52 C180.58 -55.37, 188.82 -61.47, 200.5 -70.58 M177.33 -51.52 C185.8 -59.49, 195.89 -67.67, 200.5 -70.58" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1088.6527265694874 200.04832416243516) rotate(0 100.54996068620676 -34.847141914719884)"><path d="M170.5 -70.87 C175.38 -70.45, 185.14 -72.26, 200.5 -70.58 M170.5 -70.87 C181.85 -71.23, 194.65 -71.74, 200.5 -70.58" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(1399.7533379900588 351.8977835294536) rotate(0 13.664035190272784 -78.77627195810919)"><path d="M0.23 0.81 C4.62 -12.65, 23.25 -55.63, 26.43 -81.85 C29.61 -108.08, 20.78 -143.87, 19.3 -156.53 M-1.11 0.19 C3.65 -13.48, 25.3 -56.94, 28.67 -83.37 C32.04 -109.79, 20.98 -146.09, 19.11 -158.34" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1399.7533379900588 351.8977835294536) rotate(0 13.664035190272784 -78.77627195810919)"><path d="M35.01 -132.89 C31.7 -142.17, 27.4 -146.65, 19.11 -158.34 M35.01 -132.89 C29.38 -143.57, 23.87 -152.81, 19.11 -158.34" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1399.7533379900588 351.8977835294536) rotate(0 13.664035190272784 -78.77627195810919)"><path d="M14.93 -128.63 C17.83 -139.25, 19.69 -145.05, 19.11 -158.34 M14.93 -128.63 C17.06 -140.9, 19.29 -151.79, 19.11 -158.34" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(1368.2925745858042 251.01670598465353) rotate(0 20.67998504638672 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">CDC</text></g><g transform="translate(1518.3004026886774 73.51498957127114) rotate(0 157.08987426757818 37.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- index on name, description, </text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">    venue, performer, date, etc.</text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- node query caching enabled</text></g><g stroke-linecap="round" transform="translate(226.99519429677775 421.32683822727085) rotate(0 49.79925739479154 53.6953153162155)"><path d="M58.28 -0.02 C66.46 0.52, 76.37 6.6, 82.81 12.45 C89.24 18.3, 94.09 26.69, 96.88 35.07 C99.67 43.46, 101.01 53.93, 99.53 62.77 C98.05 71.61, 93.38 81.24, 88 88.11 C82.62 94.98, 75.15 101.01, 67.23 103.98 C59.31 106.96, 48.83 107.6, 40.5 105.96 C32.17 104.31, 23.56 99.8, 17.25 94.1 C10.93 88.4, 5.3 80.22, 2.62 71.75 C-0.06 63.29, -0.26 52.07, 1.16 43.31 C2.58 34.55, 5.7 26, 11.14 19.2 C16.57 12.41, 25.15 5.62, 33.76 2.54 C42.36 -0.54, 57.51 0.48, 62.77 0.73 C68.02 0.98, 65.79 3.14, 65.3 4.03 M72.55 6.62 C79.8 9.52, 85.67 16.78, 89.91 24.24 C94.15 31.69, 97.28 42.38, 97.99 51.37 C98.69 60.36, 97.5 70.42, 94.12 78.16 C90.73 85.9, 84.42 92.9, 77.67 97.79 C70.93 102.69, 61.7 106.63, 53.64 107.54 C45.59 108.46, 37.02 107.51, 29.35 103.31 C21.69 99.1, 12.38 90.07, 7.66 82.33 C2.94 74.59, 1.63 65.43, 1.06 56.87 C0.49 48.31, 0.85 38.85, 4.24 30.98 C7.63 23.11, 14.35 14.99, 21.41 9.63 C28.48 4.28, 38.21 -0.58, 46.62 -1.13 C55.03 -1.69, 67.98 4.91, 71.88 6.32 C75.78 7.73, 70.38 6.85, 70.03 7.34" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(255.46777783965786 462.5538319654405) rotate(0 21.11328125 12.5)"><text x="21.11328125" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">CDN</text></g><g stroke-linecap="round"><g transform="translate(152.44464215817902 478.5719848670087) rotate(0 34.157712467217635 -0.05070650331708748)"><path d="M1.17 -0.34 C12.31 0, 56.14 0.9, 67.29 0.99 M0.32 -1.56 C11.79 -1.45, 58.32 -1.1, 69.46 -0.57" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(152.44464215817902 478.5719848670087) rotate(0 34.157712467217635 -0.05070650331708748)"><path d="M29.57 -9.99 C19.4 -8.19, 12.25 -3.63, 1.17 -0.34 M29.57 -9.99 C19.95 -6.53, 10.92 -3.01, 1.17 -0.34" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(152.44464215817902 478.5719848670087) rotate(0 34.157712467217635 -0.05070650331708748)"><path d="M29.13 10.53 C19.28 5.45, 12.28 3.12, 1.17 -0.34 M29.13 10.53 C19.72 7.33, 10.84 4.19, 1.17 -0.34" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(152.44464215817902 478.5719848670087) rotate(0 34.157712467217635 -0.05070650331708748)"><path d="M41.03 9.01 C50.08 3.81, 61.99 1.91, 69.46 -0.57 M41.03 9.01 C49.9 5.83, 59.31 3.11, 69.46 -0.57" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(152.44464215817902 478.5719848670087) rotate(0 34.157712467217635 -0.05070650331708748)"><path d="M41.53 -11.51 C50.24 -9.82, 61.98 -4.83, 69.46 -0.57 M41.53 -11.51 C50.16 -8.03, 59.41 -4.1, 69.46 -0.57" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(334.97239581877363 480.5706850437564) rotate(0 32.3581249877045 1.9117550775117707)"><path d="M-1.03 1.09 C9.52 1.83, 53.6 3.52, 64.48 4.11 M0.63 0.61 C10.91 1, 52.97 1.78, 63.41 2.15" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(334.97239581877363 480.5706850437564) rotate(0 32.3581249877045 1.9117550775117707)"><path d="M27.61 -7.86 C18.02 -4.94, 5.31 -1.75, -1.03 1.09 M27.61 -7.86 C16.75 -3.99, 6.1 -1.71, -1.03 1.09" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(334.97239581877363 480.5706850437564) rotate(0 32.3581249877045 1.9117550775117707)"><path d="M26.66 12.64 C17.5 7.42, 5.18 2.46, -1.03 1.09 M26.66 12.64 C16.23 8.9, 5.93 3.56, -1.03 1.09" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(334.97239581877363 480.5706850437564) rotate(0 32.3581249877045 1.9117550775117707)"><path d="M34.96 11.68 C48.1 7.74, 58.08 3.59, 63.41 2.15 M34.96 11.68 C45.36 8.61, 55.91 4.03, 63.41 2.15" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(334.97239581877363 480.5706850437564) rotate(0 32.3581249877045 1.9117550775117707)"><path d="M35.49 -8.84 C48.36 -4.63, 58.13 -0.63, 63.41 2.15 M35.49 -8.84 C45.62 -4.28, 55.96 -1.25, 63.41 2.15" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask></svg></span></span></div></div><div class="MuiGrid-root MuiGrid-item mui-1wxaqej"><span class="MuiTypography-root MuiTypography-caption mui-17cupi8">Final Design</span></div></div></div></div>
<div class="mt-6"><div class="MuiBox-root mui-1147lff"><div class="MuiBox-root mui-zvu67g"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-6 h-6 heroicon-sw-2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"></path></svg></div><div class="MuiBox-root mui-79elbk"><div style="overflow: hidden; max-height: 300px;"><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Visual communication is important! Your interviewer is busy. They are likely going to wrap up the interview, go into a long day of meetings, go home tired, and then come back the next morning to remember that they need to write feedback for the interview they conducted the day before. They're then going to pull up your design and try to remember what you said. Make their life easier and improve your own chances by making your visual design as clear as possible.</div></div></div></div></div>
<h2 class="MuiTypography-root MuiTypography-h3 mui-1rzqq5q" id="what-is-expected-at-each-level"><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://www.hellointerview.com/blog/the-system-design-interview-what-is-expected-at-each-level" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">What is Expected at Each Level?</a></h2>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Ok, that was a lot. You may be thinking, ‚Äúhow much of that is actually required from me in an interview?‚Äù Let‚Äôs break it down.</div>
<h3 class="MuiTypography-root MuiTypography-h4 mui-hkpafq" id="mid-level">Mid-level</h3>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><strong>Breadth vs. Depth:</strong> A mid-level candidate will be mostly focused on breadth (80% vs 20%). You should be able to craft a high-level design that meets the functional requirements you've defined, but many of the components will be abstractions with which you only have surface-level familiarity.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><strong>Probing the Basics:</strong> Your interviewer will spend some time probing the basics to confirm that you know what each component in your system does. For example, if you add an API Gateway, expect that they may ask you what it does and how it works (at a high level). In short, the interviewer is not taking anything for granted with respect to your knowledge.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><strong>Mixture of Driving and Taking the Backseat:</strong> You should drive the early stages of the interview in particular, but the interviewer doesn‚Äôt expect that you are able to proactively recognize problems in your design with high precision. Because of this, it‚Äôs reasonable that they will take over and drive the later stages of the interview while probing your design.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><strong>The Bar for Ticketmaster:</strong> For this question, an E4 candidate will have clearly defined the API endpoints and data model, landed on a high-level design that is functional for at least viewing and booking events. They are able to solve the ‚ÄúNo Double Booking‚Äù problem with at least the "Good Solution" which uses status field, timeout, and cron job. Any additional depth would be a bonus, but further deep dives wouldn‚Äôt be expected.</div>
<h3 class="MuiTypography-root MuiTypography-h4 mui-hkpafq" id="senior">Senior</h3>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><strong>Depth of Expertise</strong>: As a senior candidate, expectations shift towards more in-depth knowledge ‚Äî about 60% breadth and 40% depth. This means you should be able to go into technical details in areas where you have hands-on experience. It's crucial that you demonstrate a deep understanding of key concepts and technologies relevant to the task at hand.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><strong>Advanced System Design</strong>: You should be familiar with advanced system design principles. For example, knowing how to use a search-optimized data store like Elasticsearch for event searching is essential. You‚Äôre also expected to understand the use of a distributed cache for locking tickets and to discuss detailed scaling strategies (it‚Äôs ok if this took some probing/hints from the interviewer), including sharding and replication. Your ability to navigate these advanced topics with confidence and clarity is key.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><strong>Articulating Architectural Decisions</strong>: You should be able to clearly articulate the pros and cons of different architectural choices, especially how they impact scalability, performance, and maintainability. You justify your decisions and explain the trade-offs involved in your design choices.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><strong>Problem-Solving and Proactivity</strong>: You should demonstrate strong problem-solving skills and a proactive approach. This includes anticipating potential challenges in your designs and suggesting improvements. You need to be adept at identifying and addressing bottlenecks, optimizing performance, and ensuring system reliability.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><strong>The Bar for Ticketmaster:</strong> For this question, E5 candidates are expected to speed through the initial high level design so you can spend time discussing, in detail, optimizing search, handling no double booking (landing on a distributed lock or other quality solution), and even have a discussion on handling popular events, showcasing your depth of understanding in managing scalability and reliability under high load conditions.</div>
<h3 class="MuiTypography-root MuiTypography-h4 mui-hkpafq" id="staff">Staff+</h3>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><strong>Emphasis on Depth</strong>: As a staff+ candidate, the expectation is a deep dive into the nuances of system design ‚Äî I'm looking for about 40% breadth and 60% depth in your understanding. This level is all about demonstrating that, while you may not have solved this particular problem before, you have solved enough problems in the real world to be able to confidently design a solution backed by your experience.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">You should know which technologies to use, not just in theory but in practice, and be able to draw from your past experiences to explain how they‚Äôd be applied to solve specific problems effectively. The interviewer knows you know the small stuff (REST API, data normalization, etc) so you can breeze through that at a high level so you have time to get into what is interesting.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><strong>High Degree of Proactivity</strong>: At this level, an exceptional degree of proactivity is expected. You should be able to identify and solve issues independently, demonstrating a strong ability to recognize and address the core challenges in system design. This involves not just responding to problems as they arise but anticipating them and implementing preemptive solutions. Your interviewer should intervene only to focus, not to steer.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><strong>Practical Application of Technology</strong>: You should be well-versed in the practical application of various technologies. Your experience should guide the conversation, showing a clear understanding of how different tools and systems can be configured in real-world scenarios to meet specific requirements.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><strong>Complex Problem-Solving and Decision-Making</strong>: Your problem-solving skills should be top-notch. This means not only being able to tackle complex technical challenges but also making informed decisions that consider various factors such as scalability, performance, reliability, and maintenance.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><strong>Advanced System Design and Scalability</strong>: Your approach to system design should be advanced, focusing on scalability and reliability, especially under high load conditions. This includes a thorough understanding of distributed systems, load balancing, caching strategies, and other advanced concepts necessary for building robust, scalable systems.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><strong>The Bar for Ticketmaster:</strong> For a staff+ candidate, expectations are high regarding depth and quality of solutions, particularly for the complex scenarios discussed earlier. Great candidates are diving deep into at least 2-3 key areas, showcasing not just proficiency but also innovative thinking and optimal solution-finding abilities. A crucial indicator of a staff+ candidate's caliber is the level of insight and knowledge they bring to the table. A good measure for this is if the interviewer comes away from the discussion having gained new understanding or perspectives.</div>
</body>
</html>