<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Redis Deep Dive for System Design Interviews</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div><div class="flex flex-col gap-2 md:gap-4"><div class="flex flex-col"><h6 class="MuiTypography-root MuiTypography-h6 mui-zfm63x">Deep Dives</h6><h1 class="MuiTypography-root MuiTypography-h2 mui-161snwm">Redis</h1><p class="MuiTypography-root MuiTypography-body2 mui-45a2r">Learn how to use Redis in a wide variety of system design settings.</p></div></div><hr class="MuiDivider-root MuiDivider-fullWidth mui-1rvhejo"></div>
<div class="mb-4"><iframe class="w-full aspect-video" src="https://www.youtube.com/embed/fmT5nlEkl3U?si=1l4QzOq-Aop2RWk2" title="Redis Deep Dive w/ a Ex-Meta Senior Manager" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
<h2 class="MuiTypography-root MuiTypography-h3 mui-1rzqq5q" id="intro">Intro</h2>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">System designs can involve a dizzying array of different <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="/learn/system-design/in-a-hurry/key-technologies" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">technologies</a>, <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="/learn/system-design/in-a-hurry/core-concepts" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">concepts</a> and <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="/learn/system-design/in-a-hurry/patterns" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">patterns</a>, but one technology (arguably) stands above the rest in terms of its <em>versatility:</em> Redis. This versatility is important in an interview setting because it allows you to go deep. Instead of learning about dozens of different technologies, you can learn a few useful ones and learn them deeply, which magnifies the chances that you're able to get to the level your interviewer is expecting.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Beyond versatility, Redis is great for its <em>simplicity</em>. Redis has a ton of features which resemble data structures you're probably used to from coding (hashes, sets, sorted sets, streams, etc) and which, given a few basics, are easy to reason about how they behave in a distributed system. While many databases involve a lot of magic (optimizers, query planners, etc), with only minor exceptions Redis has remained quite simple and good at what it does best: executing simple operations <strong>fast</strong>.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Ok, Redis is versatile, simple, and useful for system design interviews. Let's learn how it works.</div>
<h2 class="MuiTypography-root MuiTypography-h3 mui-1rzqq5q" id="redis-basics">Redis Basics</h2>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Redis is a self-described <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://redis.io/docs/about/" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">"data structure store"</a> written in C. It's in-memory ðŸ«¢ and single threaded ðŸ˜± making it very fast and easy to reason about.</div>
<div class="my-6"><div class="MuiBox-root mui-1147lff"><div class="MuiBox-root mui-zvu67g"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-6 h-6 heroicon-sw-2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"></path></svg></div><div class="MuiBox-root mui-79elbk"><div style="overflow: hidden; max-height: 300px;"><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">One important reason you might not want to use Redis is because you need <strong>durability</strong>. While there are some reasonable strategies for (using Redis' Append-Only File <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://redis.io/docs/management/persistence/" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">AOF</a>) to <em>minimize</em> data loss, you don't get the same guarantees you might get from e.g. a relational database about commits being written to disk. This is an intentional tradeoff made by the Redis team in favor of speed, but alternative implementations (e.g. <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://aws.amazon.com/memorydb/" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">AWS' MemoryDB</a>) will compromise a bit on speed to give you disk-based durability. If you need it, it's there!</div></div></div></div></div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Some of the most fundamental data structures supported by Redis:</div>
<ul class="MuiList-root MuiList-padding mui-sedpvs">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Strings</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Hashes (Objects)</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Lists</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Sets</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Sorted Sets (Priority Queues)</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Bloom Filters</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Geospatial Indexes</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Time Series</div></li>
</ul>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">In addition to simple data structures, Redis also supports different communication patterns like Pub/Sub and Streams, partially standing in for more complex setups like Apache Kafka or Amazon's Simple Notification Service.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">The core structure underneath Redis is a key-value store. All data structures stored in Redis are stored in keys: whether those be simple like a string or complex like a sorted set of bloom filter.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><div class="MuiBox-root mui-10khgmf" style="cursor: pointer;"><div class="MuiGrid-root MuiGrid-container MuiGrid-direction-xs-column mui-1tdxmx0"><div class="MuiGrid-root MuiGrid-item mui-tolxbf"><div class="relative w-full"><button class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall mui-wksd04" tabindex="0" type="button" aria-label="zoom-in"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ZoomInIcon"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"></path><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"></path></svg><span class="MuiTouchRipple-root mui-w0pj6f"></span></button><span class="w-full h-full"><span class="block"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 557.1328125 415.31640625">
  <!-- svg-source:excalidraw -->
  <!-- payload-type:application/vnd.excalidraw+json --><!-- payload-version:2 -->
  <defs>
    <style class="style-fonts">
      
      
      
    </style>
    
  </defs>
  <rect x="0" y="0" width="557.1328125" height="415.31640625" fill="#ffffff"></rect><g stroke-linecap="round" transform="translate(10 60.72265625) rotate(0 268.56640625 172.296875)"><path d="M32 0 C175.41 5.19, 317.88 4.26, 505.13 0 C525.46 -3.54, 534.37 14.04, 537.13 32 C539.93 142.3, 535.51 255.13, 537.13 312.59 C533.81 333.38, 523.05 346.44, 505.13 344.59 C318.84 348.28, 130.51 346.02, 32 344.59 C13.72 345.75, 2.43 332.68, 0 312.59 C-0.98 213.61, -6.13 117.52, 0 32 C-2.76 9.76, 7.59 -1.74, 32 0" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M32 0 C179.95 1.79, 327.73 1.98, 505.13 0 M32 0 C213.39 1.96, 394.16 1.83, 505.13 0 M505.13 0 C525.38 -1.96, 535.85 11.69, 537.13 32 M505.13 0 C528.67 -1.65, 538.19 11.87, 537.13 32 M537.13 32 C536.92 107.78, 538.99 181.55, 537.13 312.59 M537.13 32 C538.43 112.83, 537.29 193.16, 537.13 312.59 M537.13 312.59 C536.37 335.68, 526.18 343.68, 505.13 344.59 M537.13 312.59 C538.72 332, 527.2 344.08, 505.13 344.59 M505.13 344.59 C334.77 345.16, 165.7 345.41, 32 344.59 M505.13 344.59 C336.4 344.44, 167.37 344.35, 32 344.59 M32 344.59 C12.52 344.96, 0.92 332.05, 0 312.59 M32 344.59 C11.12 346.46, -0.75 335.05, 0 312.59 M0 312.59 C-0.48 252.7, 0.77 194.57, 0 32 M0 312.59 C-1.12 240.5, -0.97 167.48, 0 32 M0 32 C1.27 9.9, 8.93 0.07, 32 0 M0 32 C-0.19 11.14, 11.19 -1.49, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(69.6015625 81.90234375) rotate(0 62.55078125 149.125)"><path d="M31.28 0 C47.2 0.12, 55.39 -4.54, 93.83 0 C111.91 3.37, 128.61 11.43, 125.1 31.28 C124.37 84.44, 124.53 136.81, 125.1 266.97 C121.68 289.67, 118.09 299.87, 93.83 298.25 C68.73 297.15, 51.63 300.35, 31.28 298.25 C12.86 297.01, 1.59 291.04, 0 266.97 C-6.14 192.7, -5.53 121.9, 0 31.28 C-3.08 8.68, 11.06 3.45, 31.28 0" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M31.28 0 C46.94 0.59, 60.42 0.51, 93.83 0 M31.28 0 C44.4 -0.12, 57.83 -1.28, 93.83 0 M93.83 0 C113.39 1.02, 127.02 8.99, 125.1 31.28 M93.83 0 C115.74 1.2, 124.38 11.28, 125.1 31.28 M125.1 31.28 C124.95 104.78, 123.59 181.37, 125.1 266.97 M125.1 31.28 C126.2 123.5, 126.43 217.92, 125.1 266.97 M125.1 266.97 C124.82 286.91, 116.06 296.57, 93.83 298.25 M125.1 266.97 C125.83 287.31, 116.05 300.24, 93.83 298.25 M93.83 298.25 C76.09 299.72, 55.9 299.23, 31.28 298.25 M93.83 298.25 C74.88 297.71, 57.59 298.3, 31.28 298.25 M31.28 298.25 C11.35 296.38, 0.39 289.45, 0 266.97 M31.28 298.25 C9.68 299.37, -2.01 287.95, 0 266.97 M0 266.97 C1.45 208.21, -0.23 147.38, 0 31.28 M0 266.97 C0.59 187.49, 1.27 108.25, 0 31.28 M0 31.28 C-1.74 10.5, 10.26 0.41, 31.28 0 M0 31.28 C0.52 8.94, 10.44 0.19, 31.28 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g stroke-linecap="round"><g transform="translate(70.71875 132.11328125) rotate(0 62.11328125 0)"><path d="M0.39 1 C21.13 0.64, 103.84 -0.93, 124.57 -1 M-0.86 0.47 C19.74 0.74, 102.94 0.34, 123.81 0.01" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(70.80345432918057 195.87601810360206) rotate(0 62.11328125 0)"><path d="M0.35 -1 C21.08 -1.07, 104.25 0.37, 124.81 0.57 M-0.93 1.09 C19.66 0.57, 103.57 -1.35, 124.17 -1.26" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(68.86595432918057 259.79398685360206) rotate(0 62.11328125 0)"><path d="M0.59 0.57 C21.15 0.77, 103.22 0.5, 123.72 0.2 M-0.57 -0.18 C19.76 -0.28, 102 -1.76, 122.51 -1.81" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(70.48286911851721 322.5975627309592) rotate(0 62.11328125 0)"><path d="M-0.51 0.2 C19.99 -0.09, 102.91 -1.25, 123.57 -1.18 M1.43 -0.73 C22.27 -0.97, 105.19 -0.15, 125.94 -0.26" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(102.66798400878906 153.8984375) rotate(0 23.999984741210938 12.5)"><text x="23.999984741210938" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Key 1</text></g><g transform="translate(100.90251922607422 217.55859375) rotate(0 28.40998077392578 12.5)"><text x="28.40998077392578" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Key 2</text></g><g transform="translate(102.37267303466797 281.4375) rotate(0 28.09998321533203 12.5)"><text x="28.09998321533203" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Key 3</text></g><g stroke-linecap="round" transform="translate(260.15625 93.4140625) rotate(0 118.76953125 33.771484375)"><path d="M16.89 0 C60.86 6.16, 102.97 5.1, 220.65 0 C232.96 3.03, 235.07 3.58, 237.54 16.89 C236.49 31.47, 240.95 43.1, 237.54 50.66 C240.78 58.76, 228.42 65.02, 220.65 67.54 C173.6 65.3, 132.74 66.71, 16.89 67.54 C6.1 66.47, 0.73 64.64, 0 50.66 C-0.06 40, 2.84 33.32, 0 16.89 C0.5 5.73, 3.13 -1.69, 16.89 0" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M16.89 0 C98.5 -1.4, 178.91 -0.53, 220.65 0 M16.89 0 C63.82 -1.36, 112.39 -0.42, 220.65 0 M220.65 0 C233.58 -0.22, 236.21 3.89, 237.54 16.89 M220.65 0 C231.04 2.01, 237.21 4.58, 237.54 16.89 M237.54 16.89 C236.81 30.54, 238.98 42.05, 237.54 50.66 M237.54 16.89 C238.28 26.65, 238.04 35.25, 237.54 50.66 M237.54 50.66 C237.82 61.5, 231.18 66.73, 220.65 67.54 M237.54 50.66 C239.67 62.33, 232.97 65.39, 220.65 67.54 M220.65 67.54 C156.38 65.39, 90.45 66.15, 16.89 67.54 M220.65 67.54 C165.09 68.22, 108.43 68.92, 16.89 67.54 M16.89 67.54 C4.88 68.42, -0.34 61.23, 0 50.66 M16.89 67.54 C7.09 66.66, -2 62, 0 50.66 M0 50.66 C-1.36 40.82, 0.1 28.97, 0 16.89 M0 50.66 C0.01 37.67, -1.28 24.47, 0 16.89 M0 16.89 C1.87 7.58, 6.18 -1.5, 16.89 0 M0 16.89 C1.44 4.63, 3.38 0.12, 16.89 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(353.30580139160156 114.685546875) rotate(0 25.619979858398438 12.5)"><text x="25.619979858398438" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Value</text></g><g stroke-linecap="round"><g transform="translate(199.13671875 179.16919639583068) rotate(0 25.052734375 -19.29388527548852)"><path d="M0.21 -0.8 C8.68 -7.16, 42.27 -31.44, 50.43 -37.76 M-1.14 1.4 C7.23 -5.34, 40.86 -32.96, 49.65 -39.45" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(199.13671875 179.16919639583068) rotate(0 25.052734375 -19.29388527548852)"><path d="M33.81 -13.97 C36.64 -20.3, 43.61 -29.22, 49.65 -39.45 M33.81 -13.97 C39.13 -21.58, 42.21 -29.68, 49.65 -39.45" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(199.13671875 179.16919639583068) rotate(0 25.052734375 -19.29388527548852)"><path d="M21.14 -30.12 C27.44 -32.13, 37.81 -36.71, 49.65 -39.45 M21.14 -30.12 C30.17 -33.19, 36.89 -36.64, 49.65 -39.45" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(257.6171875 190.29296875) rotate(0 124.0703125 30.666015625)"><path d="M15.33 0 C91.86 -4.65, 175.33 -1.87, 232.81 0 C245.46 -1.24, 249.73 8.33, 248.14 15.33 C245.14 22.2, 245.88 33.2, 248.14 46 C245.06 54.48, 243.66 64.78, 232.81 61.33 C154.9 62.68, 75.28 57.92, 15.33 61.33 C7.7 60.81, -1 58.6, 0 46 C-2.57 33.42, 2.79 22.01, 0 15.33 C3.45 6.15, 8.56 -1.08, 15.33 0" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M15.33 0 C85.54 -1.85, 153.15 0.02, 232.81 0 M15.33 0 C100.52 -0.55, 186.54 0.97, 232.81 0 M232.81 0 C242.74 -0.92, 249.52 3.43, 248.14 15.33 M232.81 0 C243.76 -0.51, 249.51 7.1, 248.14 15.33 M248.14 15.33 C249.85 26.16, 249.19 35.25, 248.14 46 M248.14 15.33 C247.82 24.03, 249.11 33.73, 248.14 46 M248.14 46 C249.06 54.35, 243.42 62.95, 232.81 61.33 M248.14 46 C247.4 57.34, 241.02 61.45, 232.81 61.33 M232.81 61.33 C178.34 62.42, 121.13 61.69, 15.33 61.33 M232.81 61.33 C159.58 61.86, 87.2 61.82, 15.33 61.33 M15.33 61.33 C3.37 61.41, -0.17 56.63, 0 46 M15.33 61.33 C5.63 59.85, 0.01 56.42, 0 46 M0 46 C1.64 40.47, -0.79 31.72, 0 15.33 M0 46 C-0.01 38.4, 0.34 31.88, 0 15.33 M0 15.33 C-1.96 5.22, 3.26 -0.31, 15.33 0 M0 15.33 C-2.19 6.29, 7.29 1.04, 15.33 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(374.4175033569336 208.458984375) rotate(0 7.269996643066406 12.5)"><text x="7.269996643066406" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">B</text></g><g stroke-linecap="round"><g transform="translate(330.7890625 191.4765625) rotate(0 0 31.095703125)"><path d="M0.37 1.13 C0.69 11.5, 1.19 52.06, 1 62.06 M-0.9 0.68 C-0.57 11.25, 0.15 53.32, 0.58 63.53" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(425.2767792235852 190.17407004874667) rotate(0 0 31.095703125)"><path d="M1 -0.13 C0.81 9.87, -0.55 50.58, -0.8 61.15 M0.07 -1.25 C0.22 9.38, 1.75 51.68, 1.5 62.13" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(290.12750244140625 206.62109375) rotate(0 6.55999755859375 12.5)"><text x="6.55999755859375" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">A</text></g><g transform="translate(456.5053176879883 207.34375) rotate(0 6.439994812011719 12.5)"><text x="6.439994812011719" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">C</text></g><g stroke-linecap="round"><g transform="translate(208.0390625 245.83630084121023) rotate(0 18.0703125 -8.4337713082042)"><path d="M-0.17 -0.55 C6.07 -3.7, 30.85 -15.11, 36.97 -17.87 M-1.72 1.78 C4.47 -0.74, 30.18 -13.91, 36.46 -16.87" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(208.0390625 245.83630084121023) rotate(0 18.0703125 -8.4337713082042)"><path d="M22.66 -2.46 C25.24 -4.84, 28.09 -9.36, 36.46 -16.87 M22.66 -2.46 C26.53 -6.86, 30.58 -9.69, 36.46 -16.87" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(208.0390625 245.83630084121023) rotate(0 18.0703125 -8.4337713082042)"><path d="M16.63 -14.7 C20.89 -13.86, 25.33 -15.17, 36.46 -16.87 M16.63 -14.7 C22.25 -15.75, 27.97 -15.18, 36.46 -16.87" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(250.9375 294.13671875) rotate(0 129.390625 31.560546875)"><path d="M15.78 0 C61.11 0.05, 106.5 3.22, 243 0 C256.97 2.2, 259.25 4.19, 258.78 15.78 C256.46 28.48, 258.69 35, 258.78 47.34 C261.16 59.84, 254.03 63.22, 243 63.12 C188.7 68.85, 139.08 68.85, 15.78 63.12 C4.18 66.21, -2.68 60.46, 0 47.34 C0.06 37.98, -1.76 35.48, 0 15.78 C0.61 4.88, 2.47 -1.25, 15.78 0" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M15.78 0 C79.27 -0.8, 145.25 -0.32, 243 0 M15.78 0 C103.86 1.3, 191.89 1.02, 243 0 M243 0 C254.29 -0.06, 259.06 4.85, 258.78 15.78 M243 0 C252.69 -0.94, 260.91 5.68, 258.78 15.78 M258.78 15.78 C260.11 26.06, 259.46 35.88, 258.78 47.34 M258.78 15.78 C258.47 25.99, 259.45 34.63, 258.78 47.34 M258.78 47.34 C259.56 58.58, 252.78 63.99, 243 63.12 M258.78 47.34 C258.39 57.08, 254.98 62.24, 243 63.12 M243 63.12 C194.97 63.35, 145.13 62.97, 15.78 63.12 M243 63.12 C173.68 65.4, 103.1 64.37, 15.78 63.12 M15.78 63.12 C3.29 61.59, 1.87 59.81, 0 47.34 M15.78 63.12 C5.9 61.39, 1.44 56.87, 0 47.34 M0 47.34 C-0.32 39.06, 1.01 36.48, 0 15.78 M0 47.34 C0.65 35.77, -0.76 26.41, 0 15.78 M0 15.78 C0.64 6.61, 4.57 0.88, 15.78 0 M0 15.78 C2.06 5.4, 7.33 -2.01, 15.78 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(294.9281768798828 313.197265625) rotate(0 85.39994812011719 12.5)"><text x="85.39994812011719" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">{ foo: bar, x: y }</text></g><g stroke-linecap="round"><g transform="translate(212.03125 304.14453125) rotate(0 15.484375 8.49609375)"><path d="M0.71 1.04 C5.84 3.86, 26.01 13.82, 31.12 16.66 M-0.37 0.53 C4.57 3.55, 25.05 15.4, 30.25 18.02" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(212.03125 304.14453125) rotate(0 15.484375 8.49609375)"><path d="M12.79 15.35 C20.1 16.35, 23.88 17.62, 30.25 18.02 M12.79 15.35 C19.95 16.27, 26.53 17.15, 30.25 18.02" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(212.03125 304.14453125) rotate(0 15.484375 8.49609375)"><path d="M18.59 4.75 C23.95 9.3, 25.81 14.09, 30.25 18.02 M18.59 4.75 C23.55 9.83, 27.88 14.85, 30.25 18.02" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(15.531089782714844 10) rotate(0 46.007972717285156 22.5)"><text x="46.007972717285156" y="0" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Redis</text></g></svg></span></span></div></div><div class="MuiGrid-root MuiGrid-item mui-1wxaqej"><span class="MuiTypography-root MuiTypography-caption mui-17cupi8">Redis logical model</span></div></div></div></div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">The choice of keys is important as these keys might be stored in separate nodes based on your <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="#infrastructure-configurations" target="_self" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">infrastructure configuration</a>.</div>
<h3 class="MuiTypography-root MuiTypography-h4 mui-hkpafq" id="commands">Commands</h3>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Redis' wire protocol is a custom query language comprised of simple strings which are used for all functionality of Redis. The CLI is really simple, you can literally connect to a Redis instance and run these commands from the CLI.</div>
<pre><div class="MuiBox-root mui-xnilmx"><div class="MuiBox-root mui-v2ritd"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-4 h-4  cursor-pointer" aria-label="Copy"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg></div><div style="background: rgb(250, 250, 250); color: rgb(56, 58, 66); font-family: &quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; line-height: 1.5; tab-size: 2; hyphens: none; padding: 1em; margin: 0px; overflow: auto; border-radius: 0.375rem; border: none;"><code font-size="18" style="white-space: pre;"><span>SET foo 1  
</span>GET foo     # Returns 1
INCR foo    # Returns 2
XADD mystream * name Sara surname OConnor # Adds an item to a stream</code></div></div></pre>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">The <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://redis.io/commands/" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">full set of commands</a> is surpisingly readable, when grouped by data structure. As an example, Redis' Sets support simple operations like adding an element to the set (<span class="MuiBox-root mui-1vu004u">SADD</span>), getting the number of elements or cardinality (<span class="MuiBox-root mui-1vu004u">SCARD</span>), listing those elements (<span class="MuiBox-root mui-1vu004u">SMEMBERS</span>) and checking existence (<span class="MuiBox-root mui-1vu004u">SISMEMBER</span>) - close analogs to what you would have with a Set in any general purpose programming language.</div>
<h3 class="MuiTypography-root MuiTypography-h4 mui-hkpafq" id="infrastructure-configurations">Infrastructure Configurations</h3>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Redis can run as a single node, with a high availability (HA) replica, or as a cluster. When operating as a cluster, Redis clients cache a set of "hash slots" which map keys to a specific node. This way clients can directly connect to the node which contains the data they are requesting.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><div class="MuiBox-root mui-10khgmf" style="cursor: pointer;"><div class="MuiGrid-root MuiGrid-container MuiGrid-direction-xs-column mui-1tdxmx0"><div class="MuiGrid-root MuiGrid-item mui-tolxbf"><div class="relative w-full"><button class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall mui-wksd04" tabindex="0" type="button" aria-label="zoom-in"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ZoomInIcon"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"></path><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"></path></svg><span class="MuiTouchRipple-root mui-w0pj6f"></span></button><span class="w-full h-full"><span class="block"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 687.5981597900391 698.82421875">
  <!-- svg-source:excalidraw -->
  <!-- payload-type:application/vnd.excalidraw+json --><!-- payload-version:2 -->
  <defs>
    <style class="style-fonts">
      
      
      
    </style>
    
  </defs>
  <rect x="0" y="0" width="687.5981597900391" height="698.82421875" fill="#ffffff"></rect><g stroke-linecap="round" transform="translate(15.115737915039062 89.984375) rotate(0 84.779296875 81.27734375)"><path d="M32 0 C59.04 3.08, 84.6 1.68, 137.56 0 C157.96 2.52, 166.7 10.93, 169.56 32 C170.18 54.9, 170.38 85.55, 169.56 130.55 C171.03 149.73, 161.4 163.39, 137.56 162.55 C98.24 165.51, 63.43 162.84, 32 162.55 C11.48 160.43, -0.39 152.71, 0 130.55 C-0.04 110.77, 1.12 90.15, 0 32 C-2.79 10.51, 7.16 -2.93, 32 0" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M32 0 C63.93 -1.11, 95.76 2.01, 137.56 0 M32 0 C74.07 -0.52, 115.65 0.68, 137.56 0 M137.56 0 C158.35 -1.06, 170.76 10.69, 169.56 32 M137.56 0 C159.73 -1.31, 169.55 9.41, 169.56 32 M169.56 32 C168.98 59.7, 169.12 91.03, 169.56 130.55 M169.56 32 C169.48 61.71, 170.89 90.17, 169.56 130.55 M169.56 130.55 C171.1 150.92, 157.7 160.85, 137.56 162.55 M169.56 130.55 C167.66 150.16, 157.36 161.42, 137.56 162.55 M137.56 162.55 C108.02 161.84, 77.76 164.41, 32 162.55 M137.56 162.55 C112.27 162.83, 88.17 162.34, 32 162.55 M32 162.55 C11.79 164.31, 0.13 152.05, 0 130.55 M32 162.55 C9.35 164.75, -1.72 150.86, 0 130.55 M0 130.55 C-2.05 110.8, -1.33 88.61, 0 32 M0 130.55 C-1.2 95.2, -0.27 62.32, 0 32 M0 32 C-1.15 11.73, 9.06 1.73, 32 0 M0 32 C-2.22 8.71, 8.39 -1.8, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(70.22904968261719 153.76171875) rotate(0 29.665985107421875 17.5)"><text x="29.665985107421875" y="0" font-family="Virgil, Segoe UI Emoji" font-size="28px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Main</text></g><g transform="translate(10 10) rotate(0 95.93995666503906 22.5)"><text x="95.93995666503906" y="0" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Single-Node</text></g><g transform="translate(380.8329772949219 10.12109375) rotate(0 90.89994812011719 22.5)"><text x="90.89994812011719" y="0" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Replicated</text></g><g stroke-linecap="round" transform="translate(303.71925354003906 92.66015625) rotate(0 84.779296875 81.27734375)"><path d="M32 0 C69.79 -2.5, 106.87 1.65, 137.56 0 C155.67 1.98, 170.85 12.14, 169.56 32 C172.98 52.07, 169.87 78.05, 169.56 130.55 C173.01 153.92, 159.66 163.37, 137.56 162.55 C109.33 166.55, 90.17 164.71, 32 162.55 C12.81 165.43, 3.45 149.1, 0 130.55 C-0.72 99.98, 1.46 72.85, 0 32 C-2.93 8.8, 13.68 1.92, 32 0" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M32 0 C59.32 -1.17, 90.04 -0.47, 137.56 0 M32 0 C58.45 -0.58, 84.16 -0.56, 137.56 0 M137.56 0 C158.71 -1.87, 169.17 11.01, 169.56 32 M137.56 0 C157.78 0.55, 171.51 10.61, 169.56 32 M169.56 32 C170.28 67.51, 168.51 100.9, 169.56 130.55 M169.56 32 C168.14 56.05, 168.3 81.1, 169.56 130.55 M169.56 130.55 C169.26 152.05, 159.41 163.11, 137.56 162.55 M169.56 130.55 C168.42 152.33, 160.71 161.09, 137.56 162.55 M137.56 162.55 C111.63 163.09, 85.1 163.29, 32 162.55 M137.56 162.55 C96.05 163.6, 54.95 162.19, 32 162.55 M32 162.55 C8.99 163.81, -0.76 150.46, 0 130.55 M32 162.55 C12.46 161.74, 0.78 153.02, 0 130.55 M0 130.55 C-1.82 97.55, 1.23 63.02, 0 32 M0 130.55 C-0.17 94.9, -0.2 60.16, 0 32 M0 32 C-1.04 12.28, 10.52 0.49, 32 0 M0 32 C1.88 10.85, 11.65 -0.6, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(358.8325653076172 156.4375) rotate(0 29.665985107421875 17.5)"><text x="29.665985107421875" y="0" font-family="Virgil, Segoe UI Emoji" font-size="28px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Main</text></g><g stroke-linecap="round" transform="translate(508.03956604003906 90.8515625) rotate(0 84.779296875 81.27734375)"><path d="M32 0 C53.52 1.04, 82.78 0.53, 137.56 0 C156.73 2.51, 170.4 12.85, 169.56 32 C172.55 53.8, 169.87 72.35, 169.56 130.55 C167.43 151.5, 159.72 159.76, 137.56 162.55 C97.59 166.34, 56.79 160.67, 32 162.55 C10.51 159.04, -2.93 149.44, 0 130.55 C-2.79 103.09, 3.14 81.29, 0 32 C-0.62 11.54, 7.71 0.63, 32 0" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M32 0 C56.09 1.48, 82.32 1.01, 137.56 0 M32 0 C57.58 -0.36, 83.14 0.75, 137.56 0 M137.56 0 C157.93 0.48, 171.25 10.62, 169.56 32 M137.56 0 C159.85 -0.05, 168.43 11.52, 169.56 32 M169.56 32 C168.09 69.41, 167.35 107.56, 169.56 130.55 M169.56 32 C168.75 54.26, 169.16 76.63, 169.56 130.55 M169.56 130.55 C168.57 152.27, 160.48 161.28, 137.56 162.55 M169.56 130.55 C168.23 152.89, 158.05 162.13, 137.56 162.55 M137.56 162.55 C102.77 163.28, 64.64 162, 32 162.55 M137.56 162.55 C94.97 162.71, 53.68 161.37, 32 162.55 M32 162.55 C12.23 161.84, 0.68 152.87, 0 130.55 M32 162.55 C11.51 162.4, -1.92 149.71, 0 130.55 M0 130.55 C0.49 98.47, 1.15 67.67, 0 32 M0 130.55 C0.45 110.18, 0.9 88.44, 0 32 M0 32 C1.64 10.82, 11.52 -0.52, 32 0 M0 32 C1.61 8.84, 10.84 -0.8, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(525.436897277832 154.62890625) rotate(0 67.38196563720703 17.5)"><text x="67.38196563720703" y="0" font-family="Virgil, Segoe UI Emoji" font-size="28px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Secondary</text></g><g stroke-linecap="round"><g transform="translate(474.80714416503906 172.98046875) rotate(0 12.5546875 0.126953125)"><path d="M0.2 -0.31 C4.33 -0.32, 20.96 -0.05, 25.11 -0.05 M-0.36 0.72 C3.67 0.77, 20.5 0.61, 24.67 0.5" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(474.80714416503906 172.98046875) rotate(0 12.5546875 0.126953125)"><path d="M12.95 4.98 C16.81 3.35, 21.05 1.68, 24.67 0.5 M12.95 4.98 C15.22 4.12, 18.07 3.11, 24.67 0.5" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(474.80714416503906 172.98046875) rotate(0 12.5546875 0.126953125)"><path d="M12.81 -3.6 C16.72 -2.15, 21.01 -0.73, 24.67 0.5 M12.81 -3.6 C15.11 -2.69, 17.98 -1.92, 24.67 0.5" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(389.8873291015625 293.203125) rotate(0 64.07997131347656 22.5)"><text x="64.07997131347656" y="0" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Cluster</text></g><g stroke-linecap="round" transform="translate(318.95362854003906 357.9609375) rotate(0 49.41622110347478 47.375)"><path d="M23.69 0 C39.14 -1.49, 60.5 2.89, 75.14 0 C92.97 0.77, 99.65 5.77, 98.83 23.69 C102.59 40.87, 100.75 53.22, 98.83 71.06 C101.71 90.3, 88.15 94.59, 75.14 94.75 C63.28 93.85, 54.86 91.19, 23.69 94.75 C6.03 97.76, 1.92 86.23, 0 71.06 C0.06 56.37, -1.3 37.06, 0 23.69 C1.19 8.95, 8.65 1.68, 23.69 0" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M23.69 0 C37.24 -0.34, 54.85 -0.92, 75.14 0 M23.69 0 C40.77 -0.01, 56.52 0.38, 75.14 0 M75.14 0 C92.77 -1.02, 100.37 6.93, 98.83 23.69 M75.14 0 C89.56 -1.96, 96.93 6.17, 98.83 23.69 M98.83 23.69 C98.76 35.27, 99.16 44.82, 98.83 71.06 M98.83 23.69 C98.63 39.24, 98.84 53.75, 98.83 71.06 M98.83 71.06 C99.76 85.52, 92.06 96.51, 75.14 94.75 M98.83 71.06 C98.98 87.04, 89.62 96.95, 75.14 94.75 M75.14 94.75 C64.8 93.56, 50.53 95.88, 23.69 94.75 M75.14 94.75 C61.9 94.93, 47.09 94.06, 23.69 94.75 M23.69 94.75 C8.08 95.92, -1.15 87.92, 0 71.06 M23.69 94.75 C6.05 96.74, -2.22 84.9, 0 71.06 M0 71.06 C1.99 61.39, 0.86 53.65, 0 23.69 M0 71.06 C0.5 55.68, -0.13 41.54, 0 23.69 M0 23.69 C-1.31 6.1, 8.89 -1.79, 23.69 0 M0 23.69 C1.27 8.72, 8.84 -1.38, 23.69 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(341.1126551244709 385.850083406082) rotate(0 27.25719451904297 19.485854093917993)"><text x="27.25719451904297" y="0" font-family="Virgil, Segoe UI Emoji" font-size="15.588683275134402px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Main</text><text x="27.25719451904297" y="19.485854093918004" font-family="Virgil, Segoe UI Emoji" font-size="15.588683275134402px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">(0-100)</text></g><g stroke-linecap="round" transform="translate(320.4104543115643 476.4140625) rotate(0 49.41622110347478 47.375)"><path d="M23.69 0 C39.83 -0.12, 52.72 -3.01, 75.14 0 C90.54 0.83, 96.04 11.46, 98.83 23.69 C102.12 45.94, 96.45 61.14, 98.83 71.06 C95.32 83.92, 88.49 93.3, 75.14 94.75 C58.23 97.01, 46.98 93.37, 23.69 94.75 C8.77 91.79, 0.63 86.21, 0 71.06 C1.67 57.02, 1.23 42.55, 0 23.69 C0.33 5.04, 4.74 -1.18, 23.69 0" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M23.69 0 C38.6 1.94, 52.52 1.08, 75.14 0 M23.69 0 C39.92 -0.7, 55.1 -0.67, 75.14 0 M75.14 0 C89.74 -1.7, 97.18 6.4, 98.83 23.69 M75.14 0 C89.41 -1.14, 98.49 8.08, 98.83 23.69 M98.83 23.69 C99.35 40.71, 97.69 53.41, 98.83 71.06 M98.83 23.69 C99.12 39.29, 99.22 57.1, 98.83 71.06 M98.83 71.06 C98.96 87.02, 89.79 96.66, 75.14 94.75 M98.83 71.06 C97.11 85.83, 89.01 96.19, 75.14 94.75 M75.14 94.75 C60.96 95.83, 49.17 95.89, 23.69 94.75 M75.14 94.75 C60.15 94.85, 44.4 94.79, 23.69 94.75 M23.69 94.75 C6.29 96.48, -1.93 85.15, 0 71.06 M23.69 94.75 C5.62 92.95, -1.2 88.71, 0 71.06 M0 71.06 C0.04 58.05, -0.64 44.73, 0 23.69 M0 71.06 C-0.69 59.72, 0.46 49.27, 0 23.69 M0 23.69 C1.1 8.62, 8.72 -1.2, 23.69 0 M0 23.69 C1.61 8.43, 9.29 -2.29, 23.69 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(334.9119186401368 504.303208406082) rotate(0 34.914756774902344 19.485854093917993)"><text x="34.914756774902344" y="0" font-family="Virgil, Segoe UI Emoji" font-size="15.588683275134402px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Main</text><text x="34.914756774902344" y="19.485854093918004" font-family="Virgil, Segoe UI Emoji" font-size="15.588683275134402px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">(101-200)</text></g><g stroke-linecap="round" transform="translate(321.8245168115643 594.07421875) rotate(0 49.41622110347478 47.375)"><path d="M23.69 0 C39.84 1.37, 53.98 4.11, 75.14 0 C94.43 1.72, 100.97 10.78, 98.83 23.69 C94.66 39.5, 95.72 59.73, 98.83 71.06 C98.56 87.4, 88.01 92.88, 75.14 94.75 C56.28 91.63, 36.29 93.95, 23.69 94.75 C8.57 92.75, -3.28 88.05, 0 71.06 C0.15 52.61, -3.34 38.69, 0 23.69 C1.51 8.81, 7.59 -2.76, 23.69 0" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M23.69 0 C43.44 -1.19, 64.02 1.62, 75.14 0 M23.69 0 C35.9 -0.6, 48.48 -0.5, 75.14 0 M75.14 0 C89.61 -0.99, 98.53 8.06, 98.83 23.69 M75.14 0 C91.53 0.64, 97.69 8.34, 98.83 23.69 M98.83 23.69 C99.4 40.92, 98.16 60.54, 98.83 71.06 M98.83 23.69 C99.16 34.81, 98.52 46.73, 98.83 71.06 M98.83 71.06 C97.34 85.96, 89.26 96, 75.14 94.75 M98.83 71.06 C97.96 85.21, 92.73 93.93, 75.14 94.75 M75.14 94.75 C57.83 93.27, 38.89 95.12, 23.69 94.75 M75.14 94.75 C55.91 95.89, 37.31 94.17, 23.69 94.75 M23.69 94.75 C5.92 93.18, -1.04 88.47, 0 71.06 M23.69 94.75 C7.73 95.32, 1.88 87.04, 0 71.06 M0 71.06 C-1.47 54.96, -0.58 37.26, 0 23.69 M0 71.06 C0.32 61.46, 0.18 50.53, 0 23.69 M0 23.69 C1.4 8.36, 9.11 -1.99, 23.69 0 M0 23.69 C-0.6 7.1, 10.1 1.3, 23.69 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(333.13208007812506 621.963364656082) rotate(0 38.10865783691406 19.48585409391802)"><text x="38.10865783691406" y="0" font-family="Virgil, Segoe UI Emoji" font-size="15.588683275134402px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Main</text><text x="38.10865783691406" y="19.485854093918004" font-family="Virgil, Segoe UI Emoji" font-size="15.588683275134402px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">(201-300)</text></g><g stroke-linecap="round" transform="translate(472.5668070508016 357.892578125) rotate(0 49.41622110347481 47.375)"><path d="M23.69 0 C43.8 0.8, 59.07 1.96, 75.14 0 C94.38 -2.79, 98.67 4.38, 98.83 23.69 C97.98 34.59, 95.32 42.52, 98.83 71.06 C101.84 88.78, 90.31 95.62, 75.14 94.75 C64.61 92.59, 49.45 95.78, 23.69 94.75 C8.95 95.5, 1.68 87.19, 0 71.06 C2.26 61.52, 0.44 47.39, 0 23.69 C0.74 9.43, 5.7 -0.52, 23.69 0" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M23.69 0 C35.59 1.07, 48.57 -1.67, 75.14 0 M23.69 0 C34.08 -0.11, 45.65 0.47, 75.14 0 M75.14 0 C91.45 0.56, 97.84 8.28, 98.83 23.69 M75.14 0 C92.76 -1.47, 97.5 8.89, 98.83 23.69 M98.83 23.69 C97.41 37.29, 100.5 48.78, 98.83 71.06 M98.83 23.69 C97.81 37.84, 97.72 53.51, 98.83 71.06 M98.83 71.06 C98.07 85.42, 92.5 94.04, 75.14 94.75 M98.83 71.06 C99.61 87.98, 91.78 94.59, 75.14 94.75 M75.14 94.75 C65.17 93.65, 53.93 93.2, 23.69 94.75 M75.14 94.75 C54.27 93.53, 34.85 95.12, 23.69 94.75 M23.69 94.75 C7.75 95.24, 1.64 87.01, 0 71.06 M23.69 94.75 C8.88 94.15, 1.61 85.03, 0 71.06 M0 71.06 C-1.63 57.49, -1.63 43.04, 0 23.69 M0 71.06 C0.5 55.38, 0.41 38.23, 0 23.69 M0 23.69 C-0.52 7.21, 9.81 1.13, 23.69 0 M0 23.69 C0.49 8.42, 6.54 -0.25, 23.69 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(484.48981068601466 385.781724031082) rotate(0 37.49321746826169 19.485854093917993)"><text x="37.49321746826172" y="0" font-family="Virgil, Segoe UI Emoji" font-size="15.588683275134402px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Secondary</text><text x="37.49321746826172" y="19.485854093918004" font-family="Virgil, Segoe UI Emoji" font-size="15.588683275134402px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">(0-100)</text></g><g stroke-linecap="round" transform="translate(473.4103515723268 476.345703125) rotate(0 49.41622110347481 47.375)"><path d="M23.69 0 C45.03 -3.53, 59.31 -4.25, 75.14 0 C88 -2.45, 97.38 7.62, 98.83 23.69 C101.15 40.55, 97.51 54.43, 98.83 71.06 C95.87 87.48, 90.3 95.42, 75.14 94.75 C63.61 95.81, 51.67 95.39, 23.69 94.75 C5.04 91.59, -1.18 88.36, 0 71.06 C0.81 57.18, -2.12 39.71, 0 23.69 C3.32 5.7, 9.48 -2.11, 23.69 0" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M23.69 0 C41.39 -1.34, 60.99 -1.02, 75.14 0 M23.69 0 C36.84 0.24, 48.98 0.15, 75.14 0 M75.14 0 C92.52 -1.28, 97.68 8.76, 98.83 23.69 M75.14 0 C90.1 -0.42, 99.89 6.36, 98.83 23.69 M98.83 23.69 C99.41 39.41, 101.16 55.94, 98.83 71.06 M98.83 23.69 C98.05 35.07, 99.22 47.52, 98.83 71.06 M98.83 71.06 C99.51 87.84, 91.67 94.61, 75.14 94.75 M98.83 71.06 C96.91 84.68, 91.15 96.09, 75.14 94.75 M75.14 94.75 C64.38 92.41, 48.46 92.36, 23.69 94.75 M75.14 94.75 C63.67 95.41, 53.16 95.24, 23.69 94.75 M23.69 94.75 C8.75 94.23, 1.4 85.27, 0 71.06 M23.69 94.75 C8.06 93.95, -1.51 84.79, 0 71.06 M0 71.06 C1.14 55.32, -0.78 39.34, 0 23.69 M0 71.06 C-0.55 55.4, 0.67 40.99, 0 23.69 M0 23.69 C0.43 8.35, 6.72 -0.22, 23.69 0 M0 23.69 C0.53 6.11, 10.17 2.23, 23.69 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(485.3333552075399 504.234849031082) rotate(0 37.49321746826169 19.485854093917993)"><text x="37.49321746826172" y="0" font-family="Virgil, Segoe UI Emoji" font-size="15.588683275134402px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Secondary</text><text x="37.49321746826172" y="19.485854093918004" font-family="Virgil, Segoe UI Emoji" font-size="15.588683275134402px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">(101-200)</text></g><g stroke-linecap="round" transform="translate(474.8244140723268 594.005859375) rotate(0 49.41622110347481 47.375)"><path d="M23.69 0 C32.2 -1.55, 45.13 0.63, 75.14 0 C91.49 -2.93, 96.96 10.91, 98.83 23.69 C95.73 41.06, 98.04 57.85, 98.83 71.06 C96.83 83.57, 92.13 95.8, 75.14 94.75 C55.78 91.68, 40.93 96.34, 23.69 94.75 C8.81 94.44, -2.76 87.59, 0 71.06 C3.84 52.63, 2.1 36.49, 0 23.69 C-1.37 9.62, 4.37 -0.14, 23.69 0" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M23.69 0 C33.89 0.04, 46.23 0.86, 75.14 0 M23.69 0 C41.35 -0.74, 56.86 0.33, 75.14 0 M75.14 0 C90.21 -0.37, 99.76 6.56, 98.83 23.69 M75.14 0 C92.23 2.02, 98.98 8.08, 98.83 23.69 M98.83 23.69 C98.39 33.51, 100.54 45.92, 98.83 71.06 M98.83 23.69 C99.54 35, 99.57 45.27, 98.83 71.06 M98.83 71.06 C97.16 84.96, 91.12 95.92, 75.14 94.75 M98.83 71.06 C97.52 88.08, 89.09 96.74, 75.14 94.75 M75.14 94.75 C63.1 93.2, 55.81 94.09, 23.69 94.75 M75.14 94.75 C58.87 94.53, 42.43 94, 23.69 94.75 M23.69 94.75 C8.04 94.05, -1.31 85.06, 0 71.06 M23.69 94.75 C9.04 92.69, 1.27 87.68, 0 71.06 M0 71.06 C0.75 56.12, -1.7 38.24, 0 23.69 M0 71.06 C-0.24 58.71, -1.04 45.8, 0 23.69 M0 23.69 C0.46 6.35, 9.87 1.94, 23.69 0 M0 23.69 C1.1 9.26, 9.74 2.2, 23.69 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(486.13197733888757 621.895005281082) rotate(0 38.108657836914034 19.48585409391802)"><text x="38.10865783691406" y="0" font-family="Virgil, Segoe UI Emoji" font-size="15.588683275134402px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Secondary</text><text x="38.10865783691406" y="19.485854093918004" font-family="Virgil, Segoe UI Emoji" font-size="15.588683275134402px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">(201-300)</text></g><g stroke-linecap="round"><g transform="translate(424.23683166503906 400.02831198603826) rotate(0 20.306640625 -0.486492746160593)"><path d="M0.14 0.15 C6.88 0, 33.52 -0.62, 40.34 -0.87 M-0.45 -0.24 C6.48 -0.57, 34.54 -1.67, 41.44 -1.78" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(424.23683166503906 400.02831198603826) rotate(0 20.306640625 -0.486492746160593)"><path d="M22.56 5.73 C28.22 3.07, 33.51 2.22, 41.44 -1.78 M22.56 5.73 C26.86 3.82, 31.73 1.81, 41.44 -1.78" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(424.23683166503906 400.02831198603826) rotate(0 20.306640625 -0.486492746160593)"><path d="M22.15 -8.16 C27.93 -6.86, 33.34 -3.75, 41.44 -1.78 M22.15 -8.16 C26.5 -6.79, 31.47 -5.52, 41.44 -1.78" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(429.17042541503906 527.5546875) rotate(0 18.046875 -0.306640625)"><path d="M-0.27 0.11 C5.79 -0.08, 30.52 -0.88, 36.53 -0.96 M0.59 -0.32 C6.61 -0.45, 30.54 -0.28, 36.32 -0.45" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(429.17042541503906 527.5546875) rotate(0 18.046875 -0.306640625)"><path d="M19.41 5.87 C25.09 4.57, 29.85 1.27, 36.32 -0.45 M19.41 5.87 C25.44 3.41, 31.29 1.94, 36.32 -0.45" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(429.17042541503906 527.5546875) rotate(0 18.046875 -0.306640625)"><path d="M19.31 -6.48 C25.04 -3.75, 29.83 -3.03, 36.32 -0.45 M19.31 -6.48 C25.35 -4.69, 31.23 -1.92, 36.32 -0.45" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(431.79542541503906 641.23046875) rotate(0 14.9296875 0)"><path d="M0.44 -0.35 C5.4 -0.33, 24.67 0.2, 29.54 0.24 M0 0.66 C5.17 0.51, 25.74 -0.57, 30.61 -0.6" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(431.79542541503906 641.23046875) rotate(0 14.9296875 0)"><path d="M16.76 4.97 C19.75 3.08, 24.02 1.85, 30.61 -0.6 M16.76 4.97 C20.86 3.77, 24.57 1.91, 30.61 -0.6" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(431.79542541503906 641.23046875) rotate(0 14.9296875 0)"><path d="M16.42 -5.24 C19.5 -4.57, 23.86 -3.25, 30.61 -0.6 M16.42 -5.24 C20.64 -3.56, 24.45 -2.55, 30.61 -0.6" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(90.56105041503906 513.9765625) rotate(0 73.453125 70.37109375)"><path d="M38.63 8.13 C47.19 2.64, 60.15 -0.52, 70.75 -0.76 C81.34 -1, 92.4 2.5, 102.21 6.67 C112.01 10.83, 122.52 16.79, 129.59 24.21 C136.66 31.64, 141.91 41.41, 144.62 51.23 C147.32 61.06, 147.79 73.12, 145.82 83.17 C143.85 93.22, 139.28 103.24, 132.81 111.52 C126.33 119.8, 116.33 127.97, 106.96 132.87 C97.6 137.77, 86.99 140.54, 76.6 140.9 C66.22 141.25, 54.57 139.24, 44.65 135.01 C34.73 130.77, 24.13 123.13, 17.06 115.48 C9.98 107.83, 4.79 98.8, 2.2 89.11 C-0.39 79.41, -0.37 67.35, 1.51 57.31 C3.4 47.27, 6.52 37.48, 13.52 28.87 C20.52 20.27, 37.84 9.35, 43.53 5.68 C49.23 2.01, 47.34 5.61, 47.68 6.85 M50.79 2.93 C60.21 -1.06, 74.23 -1.35, 84.76 0.42 C95.3 2.19, 105.48 7.51, 113.99 13.55 C122.51 19.6, 130.41 28.28, 135.87 36.71 C141.34 45.15, 145.63 54.2, 146.79 64.16 C147.94 74.12, 146.55 86.88, 142.8 96.46 C139.04 106.04, 132.15 114.9, 124.24 121.62 C116.32 128.35, 105.75 133.53, 95.31 136.82 C84.86 140.11, 72.19 142.86, 61.59 141.35 C50.99 139.85, 40.59 134.01, 31.71 127.78 C22.83 121.54, 13.83 112.9, 8.32 103.94 C2.82 94.99, -0.93 83.92, -1.31 74.04 C-1.68 64.16, 2 54.15, 6.08 44.66 C10.15 35.18, 15.58 24.2, 23.13 17.13 C30.68 10.07, 46.65 4.4, 51.38 2.27 C56.12 0.13, 50.94 2.99, 51.52 4.31" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M59.44 1.73 C69.34 -1.13, 83.28 0.06, 93.65 2.54 C104.02 5.03, 113.65 10.12, 121.69 16.66 C129.72 23.19, 137.74 32.46, 141.86 41.76 C145.98 51.07, 146.89 62.24, 146.39 72.47 C145.9 82.7, 143.92 93.9, 138.87 103.14 C133.82 112.39, 124.84 121.82, 116.1 127.95 C107.36 134.08, 96.69 138.13, 86.44 139.91 C76.19 141.69, 64.83 141.51, 54.63 138.63 C44.42 135.76, 33.49 129.39, 25.23 122.68 C16.97 115.96, 9.15 107.63, 5.06 98.32 C0.96 89.02, -0.04 77.18, 0.65 66.86 C1.34 56.54, 4.14 45.46, 9.19 36.42 C14.24 27.38, 21.51 18.79, 30.96 12.61 C40.4 6.42, 58.94 1.26, 65.88 -0.69 C72.83 -2.65, 72.24 -0.44, 72.62 0.89 M83.12 0.14 C93.25 0.06, 105.42 4.52, 114.26 10.01 C123.11 15.5, 130.97 24.41, 136.18 33.07 C141.4 41.72, 144.37 51.93, 145.55 61.92 C146.73 71.91, 146.57 83.12, 143.26 93 C139.94 102.88, 133.26 114.02, 125.64 121.22 C118.03 128.41, 107.59 132.92, 97.56 136.14 C87.53 139.37, 75.97 141.91, 65.47 140.56 C54.98 139.21, 43.77 133.7, 34.6 128.05 C25.43 122.39, 15.91 114.92, 10.44 106.63 C4.98 98.35, 2.77 88.31, 1.81 78.33 C0.86 68.34, 1.48 56.48, 4.71 46.74 C7.95 37, 13.61 27.27, 21.2 19.9 C28.8 12.54, 39.84 5.52, 50.3 2.53 C60.76 -0.45, 78.51 1.94, 83.96 1.99 C89.42 2.04, 83.21 1.66, 83.02 2.82" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(137.02500009401626 572.0877786598608) rotate(0 27.049972534179695 12.5)"><text x="27.049972534179688" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Client</text></g><g stroke-linecap="round"><g transform="translate(148.13656135792985 412.03125) rotate(0 -3.6340396696313064 44.46875)"><path d="M0.55 -0.8 C-1.64 9.42, -14.71 46.13, -13.62 61.1 C-12.53 76.07, 3.78 84.2, 7.1 89.04 M-0.61 1.39 C-2.87 11.32, -15.38 44.69, -14.21 59.53 C-13.05 74.37, 2.97 85.64, 6.38 90.4" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(148.13656135792985 412.03125) rotate(0 -3.6340396696313064 44.46875)"><path d="M-9.73 82.49 C-6.7 85.51, 0.32 86.7, 6.38 90.4 M-9.73 82.49 C-5.48 84.37, -0.6 87.78, 6.38 90.4" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(148.13656135792985 412.03125) rotate(0 -3.6340396696313064 44.46875)"><path d="M-0.88 73.98 C-0.2 79.28, 4.49 82.72, 6.38 90.4 M-0.88 73.98 C0.59 78.57, 2.75 84.6, 6.38 90.4" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(82.49112701416016 352.9765625) rotate(0 84.3199234008789 25)"><text x="84.3199234008789" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Retrieves map of</text><text x="84.3199234008789" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">keys to nodes</text></g><g stroke-linecap="round"><g transform="translate(223.58318837393153 525.9862748758978) rotate(0 41.486977895553764 -61.000502914210074)"><path d="M0.08 0.1 C13.68 -20.22, 68.62 -100.42, 82.29 -120.85 M-1.34 -0.9 C12.6 -21, 70.33 -102.27, 84.64 -122.38" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(223.58318837393153 525.9862748758978) rotate(0 41.486977895553764 -61.000502914210074)"><path d="M7.45 -28.98 C5.25 -19.77, 4.37 -9.76, 0.08 0.1 M7.45 -28.98 C4.95 -22.23, 4.23 -14.44, 0.08 0.1" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(223.58318837393153 525.9862748758978) rotate(0 41.486977895553764 -61.000502914210074)"><path d="M24.42 -17.44 C16.07 -12.32, 9.15 -6.43, 0.08 0.1 M24.42 -17.44 C17.68 -13.52, 12.63 -8.69, 0.08 0.1" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(223.58318837393153 525.9862748758978) rotate(0 41.486977895553764 -61.000502914210074)"><path d="M76.67 -93.45 C79.42 -104.91, 84 -115.55, 84.64 -122.38 M76.67 -93.45 C78.56 -101.6, 81.76 -108.62, 84.64 -122.38" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(223.58318837393153 525.9862748758978) rotate(0 41.486977895553764 -61.000502914210074)"><path d="M59.94 -105.34 C68.75 -112.57, 79.29 -118.98, 84.64 -122.38 M59.94 -105.34 C66.01 -110.56, 73.47 -114.55, 84.64 -122.38" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(237.85401916503906 555.1328125) rotate(0 36.9375 -13.884765625)"><path d="M-0.69 1.15 C11.46 -3.59, 60.72 -23.61, 72.98 -28.31 M1.15 0.7 C13.67 -3.88, 62.87 -22.11, 75.22 -27.05" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(237.85401916503906 555.1328125) rotate(0 36.9375 -13.884765625)"><path d="M21.66 -18.87 C16.73 -14.36, 7.08 -8.4, -0.69 1.15 M21.66 -18.87 C14.26 -12.13, 5.71 -4.02, -0.69 1.15" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(237.85401916503906 555.1328125) rotate(0 36.9375 -13.884765625)"><path d="M29.3 0.18 C22.01 -1.19, 10.02 -1.08, -0.69 1.15 M29.3 0.18 C19.2 -0.04, 7.88 1.16, -0.69 1.15" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(237.85401916503906 555.1328125) rotate(0 36.9375 -13.884765625)"><path d="M52.57 -7.38 C61.41 -14.78, 65.55 -20.99, 75.22 -27.05 M52.57 -7.38 C61.64 -14.71, 69.41 -21, 75.22 -27.05" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(237.85401916503906 555.1328125) rotate(0 36.9375 -13.884765625)"><path d="M45.22 -26.55 C56.33 -28.02, 62.72 -28.36, 75.22 -27.05 M45.22 -26.55 C56.89 -26.87, 67.32 -26.21, 75.22 -27.05" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(254.01026916503906 606.06640625) rotate(0 27.3828125 16.056640625)"><path d="M-0.9 -0.54 C8.18 4.75, 44.56 27.57, 53.76 32.87 M0.83 1.8 C10.33 7.25, 47.2 26.08, 55.95 31.14" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(254.01026916503906 606.06640625) rotate(0 27.3828125 16.056640625)"><path d="M28.5 5.46 C20.41 2.11, 15.43 1.57, -0.9 -0.54 M28.5 5.46 C22.07 4.48, 15.39 2.55, -0.9 -0.54" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(254.01026916503906 606.06640625) rotate(0 27.3828125 16.056640625)"><path d="M17.77 22.95 C12.12 15.44, 9.74 10.65, -0.9 -0.54 M17.77 22.95 C13.66 18.01, 9.42 12.08, -0.9 -0.54" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(254.01026916503906 606.06640625) rotate(0 27.3828125 16.056640625)"><path d="M26.26 26.78 C32.61 26.38, 41.96 28.36, 55.95 31.14 M26.26 26.78 C33.42 28.37, 40.23 28.81, 55.95 31.14" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(254.01026916503906 606.06640625) rotate(0 27.3828125 16.056640625)"><path d="M36.01 8.72 C40.17 12.63, 47.15 18.99, 55.95 31.14 M36.01 8.72 C41.08 14.41, 45.66 18.97, 55.95 31.14" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask></svg></span></span></div></div><div class="MuiGrid-root MuiGrid-item mui-1wxaqej"><span class="MuiTypography-root MuiTypography-caption mui-17cupi8">Redis infrastructure configurations</span></div></div></div></div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Each node maintains some awareness of other nodes via a gossip protocol so, in limited instances, if you request a key from the wrong node you can be redirected to the correct node. But Redis' emphasis is on performance so hitting the correct endpoint first is a priority.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Compared to most databases, Redis clusters are surprisingly basic (and thus, have some pretty severe limitations on what they can do). Rather than solving scalability problems for you, Redis can be thought of as providing you some basic primitives on which you can solve them. As an example, with few exceptions, Redis expects all the data for a given request to be on a single node! <strong>Choosing how to structure your keys is how you scale Redis.</strong></div>
<h2 class="MuiTypography-root MuiTypography-h3 mui-1rzqq5q" id="performance">Performance</h2>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Redis is really, really fast. Redis can handle O(100k) writes per second and read latency is often in the microsecond range. This scale makes some anti-patterns for other database systems actually feasible with Redis. As an example, firing off 100 SQL requests to generate a list of items with a SQL database is a terrible idea, you're better off writing a SQL query which returns all the data you need in one request. On the other hand, the overhead for doing the same with Redis is rather low - while it'd be great to avoid it if you can, it's doable.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">This is completely a function of the in-memory nature of Redis. It's not a good fit for every use case, but it's a great fit for many.</div>
<h2 class="MuiTypography-root MuiTypography-h3 mui-1rzqq5q" id="capabilities">Capabilities</h2>
<h3 class="MuiTypography-root MuiTypography-h4 mui-hkpafq" id="redis-as-a-cache">Redis as a Cache</h3>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">The most common deployment scenario of Redis is as a cache. In this case, the root keys and values of Redis map to the keys and values in our cache. Redis can distribute this hash map trivially across all the nodes of our cluster enabling us to scale without much fuss - if we need more capacity we simply add nodes to the cluster.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">When using Redis as a cache, you'll often employ a time to live (TTL) on each key. Redis guarantees you'll never read the value of a key after the TTL has expired and the TTL is used to decide which items to evict from the server - keeping the cache size manageable even in the case where you're trying to cache more items than memory allows.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Using Redis in this fashion doesn't solve one of the more important problems caches face: the <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="#hot-key-issues" target="_self" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">"hot key" problem</a>, though Redis is not unique in this respect vs alternatives like Memcached or other highly scaled databases like DynamoDB.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><div class="MuiBox-root mui-10khgmf" style="cursor: pointer;"><div class="MuiGrid-root MuiGrid-container MuiGrid-direction-xs-column mui-1tdxmx0"><div class="MuiGrid-root MuiGrid-item mui-tolxbf"><div class="relative w-full"><button class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall mui-wksd04" tabindex="0" type="button" aria-label="zoom-in"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ZoomInIcon"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"></path><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"></path></svg><span class="MuiTouchRipple-root mui-w0pj6f"></span></button><span class="w-full h-full"><span class="block"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 489.1484375 409.30027894016496">
  <!-- svg-source:excalidraw -->
  <!-- payload-type:application/vnd.excalidraw+json --><!-- payload-version:2 -->
  <defs>
    <style class="style-fonts">
      
      
      
    </style>
    
  </defs>
  <rect x="0" y="0" width="489.1484375" height="409.30027894016496" fill="#ffffff"></rect><g stroke-linecap="round" transform="translate(10 95.67544637677656) rotate(0 75.259765625 69.61328125)"><path d="M32 0 C52.43 3.76, 68.92 0.41, 118.52 0 C139.48 -2.34, 153.16 14.04, 150.52 32 C149.16 53.23, 151 83.44, 150.52 107.23 C151.78 125.28, 138.89 140.83, 118.52 139.23 C89.17 137.05, 61.25 138.52, 32 139.23 C14.09 136.04, -3.09 126.95, 0 107.23 C1.95 77.64, 1.9 53.28, 0 32 C-3.46 11.42, 8.15 0.44, 32 0" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M32 0 C64.26 -1.66, 95.97 -2.42, 118.52 0 M32 0 C59.56 -0.35, 86.69 -0.58, 118.52 0 M118.52 0 C141.29 -0.32, 151.45 12.13, 150.52 32 M118.52 0 C137.87 -0.88, 149.91 8.49, 150.52 32 M150.52 32 C150.72 49.22, 150.63 65.34, 150.52 107.23 M150.52 32 C149.27 61.13, 149.7 89.89, 150.52 107.23 M150.52 107.23 C151.69 128.74, 139.76 139.99, 118.52 139.23 M150.52 107.23 C150.3 128.62, 137.76 138.18, 118.52 139.23 M118.52 139.23 C86.08 137.29, 52.9 139.68, 32 139.23 M118.52 139.23 C92.73 139.26, 67.35 139.83, 32 139.23 M32 139.23 C9.06 140.47, -0.76 127.32, 0 107.23 M32 139.23 C10.3 137.33, 0.94 129.09, 0 107.23 M0 107.23 C-0.76 88.76, 0.73 73.22, 0 32 M0 107.23 C-0.27 79.99, -0.63 53.31, 0 32 M0 32 C-1.8 9.76, 12.41 -0.77, 32 0 M0 32 C-0.12 10.6, 8.48 0.69, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(51.49980163574219 152.78872762677656) rotate(0 33.75996398925781 12.5)"><text x="33.75996398925781" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Service</text></g><g stroke-linecap="round" transform="translate(349.28218703092944 10) rotate(0 64.93312523453528 22.650148081903666)"><path d="M74.09 -0.72 C84.3 -0.43, 95.39 3.07, 103.78 5.49 C112.17 7.92, 120.17 10.66, 124.43 13.84 C128.68 17.01, 130.57 20.94, 129.32 24.55 C128.07 28.17, 123.32 32.39, 116.92 35.5 C110.53 38.62, 100.91 41.48, 90.97 43.24 C81.02 44.99, 68.16 46.46, 57.26 46.03 C46.37 45.61, 34.3 43.21, 25.58 40.67 C16.86 38.12, 9.01 34.08, 4.95 30.76 C0.9 27.44, -0.16 24.3, 1.25 20.73 C2.66 17.16, 7.15 12.61, 13.42 9.36 C19.7 6.11, 26.62 2.55, 38.92 1.23 C51.22 -0.09, 76.73 0.87, 87.21 1.45 C97.69 2.02, 102.19 4.35, 101.78 4.66 M78.24 0.06 C88.33 0.5, 100.45 2.73, 108.6 5.62 C116.75 8.5, 124.07 13.91, 127.13 17.37 C130.18 20.83, 129.46 22.75, 126.93 26.37 C124.39 30, 118.86 36.02, 111.92 39.15 C104.98 42.28, 95.32 44.32, 85.3 45.15 C75.28 45.98, 62.35 44.95, 51.81 44.14 C41.27 43.32, 30.44 42.67, 22.05 40.25 C13.66 37.84, 5.05 33.41, 1.47 29.67 C-2.12 25.93, -1.86 21.71, 0.56 17.82 C2.98 13.93, 8.44 9.17, 16 6.34 C23.56 3.5, 35.35 1.75, 45.9 0.8 C56.45 -0.15, 74.03 0.39, 79.31 0.64 C84.6 0.88, 77.78 2.11, 77.62 2.28" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M60.39 0.71 C70.48 0.18, 83.4 1.41, 93.13 3.05 C102.85 4.68, 112.51 7.64, 118.73 10.51 C124.95 13.39, 129.77 16.64, 130.45 20.29 C131.14 23.93, 127.87 28.98, 122.81 32.38 C117.76 35.78, 108.96 38.41, 100.11 40.69 C91.26 42.98, 80.36 45.65, 69.7 46.07 C59.05 46.5, 46 45.03, 36.19 43.22 C26.38 41.41, 16.71 38.49, 10.86 35.2 C5 31.92, 1.84 27.42, 1.05 23.53 C0.27 19.64, 1.58 15.21, 6.16 11.87 C10.73 8.52, 18.78 5.35, 28.51 3.47 C38.23 1.59, 57.54 1.08, 64.5 0.59 C71.47 0.09, 70.08 0.22, 70.3 0.48 M67.19 -0.64 C77.64 -0.64, 88.89 1.89, 97.75 4.15 C106.61 6.42, 114.91 9.84, 120.35 12.96 C125.79 16.07, 130.29 19.2, 130.39 22.84 C130.48 26.47, 126.71 31.56, 120.94 34.76 C115.16 37.96, 105.41 40.2, 95.73 42.03 C86.06 43.87, 73.75 45.6, 62.87 45.76 C52 45.93, 39.67 45.2, 30.47 43.04 C21.27 40.87, 12.8 36.42, 7.68 32.77 C2.56 29.11, -0.58 24.66, -0.23 21.09 C0.11 17.53, 4.35 14.39, 9.77 11.4 C15.2 8.4, 22.85 5.08, 32.34 3.1 C41.83 1.12, 61.18 -0.15, 66.7 -0.49 C72.21 -0.82, 65.36 0.47, 65.44 1.09" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g stroke-linecap="round"><g transform="translate(349.2161691112419 31.85493223112144) rotate(0 -0.030008145312535817 63.93835521742466)"><path d="M-0.16 0.15 C0.12 21.39, 0.45 106.39, 0.6 127.59 M-1.7 -0.81 C-1.43 20.6, -0.35 107.45, 0 128.97" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(349.12464426803854 133.85561896296917) rotate(0 64.93312523453528 22.650148081903666)"><path d="M36.25 2.21 C45.16 0.05, 58.71 -1.03, 69.61 -0.89 C80.52 -0.75, 92.58 0.83, 101.69 3.05 C110.81 5.28, 119.54 8.79, 124.29 12.48 C129.04 16.17, 131.16 21.39, 130.21 25.21 C129.27 29.02, 124.79 32.49, 118.61 35.35 C112.43 38.22, 102.74 40.58, 93.13 42.38 C83.52 44.19, 71.7 46.27, 60.96 46.18 C50.21 46.08, 37.88 44.18, 28.66 41.81 C19.43 39.45, 10.47 35.46, 5.6 31.99 C0.72 28.52, -1.68 24.6, -0.58 20.98 C0.52 17.36, 4.4 13.68, 12.19 10.28 C19.98 6.89, 38.42 2.18, 46.16 0.61 C53.9 -0.97, 58.2 0.54, 58.62 0.83 M54.22 1.75 C64.05 0.68, 76.18 -1.14, 86.19 0.13 C96.19 1.39, 106.94 6.04, 114.26 9.31 C121.58 12.58, 127.96 16.28, 130.1 19.72 C132.23 23.15, 130.81 26.37, 127.06 29.93 C123.31 33.49, 116.37 38.51, 107.59 41.07 C98.81 43.63, 85.42 44.79, 74.37 45.29 C63.33 45.79, 51.42 45.59, 41.3 44.07 C31.18 42.55, 20.36 39.15, 13.66 36.17 C6.96 33.2, 2.7 29.78, 1.1 26.23 C-0.5 22.68, 0.56 18.14, 4.06 14.85 C7.56 11.56, 13.69 9.09, 22.11 6.49 C30.52 3.89, 49.24 0.13, 54.55 -0.76 C59.86 -1.66, 53.69 0.5, 53.97 1.11" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M85.94 1.7 C96.17 2.3, 107.63 4.21, 114.69 6.94 C121.75 9.67, 126.52 14.35, 128.3 18.07 C130.08 21.79, 128.76 25.51, 125.37 29.26 C121.99 33.01, 116 37.93, 107.98 40.57 C99.95 43.22, 87.94 44.56, 77.22 45.14 C66.5 45.71, 53.71 45.39, 43.65 44.02 C33.58 42.64, 23.98 39.85, 16.82 36.88 C9.66 33.91, 2.94 29.84, 0.67 26.18 C-1.59 22.52, -0.21 18.25, 3.24 14.91 C6.7 11.57, 13.15 8.56, 21.38 6.13 C29.62 3.71, 40.79 1.06, 52.66 0.37 C64.54 -0.32, 85.16 1.62, 92.62 2.01 C100.09 2.39, 98.06 2.15, 97.46 2.66 M49.85 1.88 C59.85 0.61, 74.66 -0.06, 85.21 0.94 C95.77 1.95, 106.15 5.17, 113.2 7.92 C120.25 10.67, 125.43 13.76, 127.51 17.44 C129.58 21.12, 128.99 26.19, 125.64 30.01 C122.29 33.82, 115.32 38.03, 107.42 40.34 C99.51 42.64, 88.6 43.41, 78.19 43.85 C67.77 44.29, 55.05 43.92, 44.94 42.99 C34.82 42.05, 24.91 40.78, 17.51 38.24 C10.11 35.69, 2.83 31.52, 0.57 27.7 C-1.7 23.87, 0.55 18.8, 3.93 15.27 C7.31 11.74, 12.75 8.82, 20.85 6.53 C28.95 4.23, 47.26 2.17, 52.53 1.49 C57.79 0.81, 52.37 2.18, 52.42 2.44" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(349.27418427637053 124.7239409427682) rotate(0 63.82132345070579 17.02812205759966)"><path d="M8.51 0 C48.84 -2.77, 92.91 -0.93, 119.13 0 C128.36 1.26, 124.37 1.87, 127.64 8.51 C125.54 13.35, 126.81 19.41, 127.64 25.54 C128.05 34.64, 121.62 30.96, 119.13 34.06 C92.96 38.57, 61.2 38.52, 8.51 34.06 C5.19 30.59, 0.75 28.7, 0 25.54 C0.64 19.78, 0.28 15.06, 0 8.51 C-3.34 5.9, 4.04 -2.6, 8.51 0" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M8.51 0 C46.83 0.7, 86.73 0.19, 119.13 0 M8.51 0 C49.52 -0.53, 90.29 0.89, 119.13 0 M119.13 0 C126.45 -0.15, 128.14 2.6, 127.64 8.51 M119.13 0 C124.7 2.1, 126.21 1.65, 127.64 8.51 M127.64 8.51 C125.93 13.28, 127.74 15.98, 127.64 25.54 M127.64 8.51 C126.85 13.88, 128.39 19.66, 127.64 25.54 M127.64 25.54 C127.06 32.49, 123.12 35.87, 119.13 34.06 M127.64 25.54 C128.45 31.02, 125.16 34.84, 119.13 34.06 M119.13 34.06 C93.01 31.6, 66.88 32.45, 8.51 34.06 M119.13 34.06 C93.22 33.37, 65.88 33.29, 8.51 34.06 M8.51 34.06 C3.97 33.41, -0.52 32.06, 0 25.54 M8.51 34.06 C5 35.55, 1.59 33.49, 0 25.54 M0 25.54 C1.61 18.47, -0.8 15.95, 0 8.51 M0 25.54 C-0.8 21.34, -0.72 17.41, 0 8.51 M0 8.51 C-0.6 3.88, 4.67 -0.12, 8.51 0 M0 8.51 C-0.03 2.6, 1.34 1.69, 8.51 0" stroke="transparent" stroke-width="2" fill="none"></path></g><g stroke-linecap="round"><g transform="translate(478.10231590706417 33.71581584277578) rotate(0 -0.030008145312535817 63.93835521742466)"><path d="M0.86 -0.19 C0.81 21.36, 0.82 107.49, 0.5 128.75 M-0.14 -1.34 C-0.37 19.94, -0.4 105.45, -0.16 127.09" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(384.1278031182703 104.16382330617375) rotate(0 25.10021209716797 12.159236614609313)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="19.45477858337489px" fill="transparent" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">dDat</text></g><g transform="translate(365.60776584964356 89.26495869183509) rotate(0 48.08037567138672 12.159236614609313)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="19.45477858337489px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Database</text></g><g stroke-linecap="round" transform="translate(289.1092723474542 230.14436381338828) rotate(0 64.93312523453528 22.650148081903666)"><path d="M55.17 0.24 C65.09 -0.88, 78.32 -0.63, 88.52 0.91 C98.73 2.45, 109.62 6.33, 116.41 9.46 C123.21 12.59, 127.97 16.2, 129.32 19.68 C130.67 23.17, 128.6 26.94, 124.49 30.38 C120.39 33.82, 112.83 37.82, 104.69 40.33 C96.55 42.83, 86.36 44.87, 75.63 45.4 C64.9 45.92, 50.5 44.86, 40.33 43.47 C30.16 42.08, 21.26 40.06, 14.63 37.03 C8 34.01, 2.31 29.15, 0.56 25.32 C-1.18 21.5, 0.21 17.47, 4.14 14.09 C8.07 10.71, 14.27 7.55, 24.15 5.06 C34.03 2.57, 55.99 -0.04, 63.43 -0.87 C70.88 -1.7, 68.81 -0.58, 68.82 0.07 M84.6 1.91 C94.27 2.77, 103.52 4.77, 110.59 7.37 C117.66 9.98, 124.47 14.08, 127.02 17.55 C129.58 21.01, 128.78 24.6, 125.92 28.15 C123.05 31.71, 117.45 36.1, 109.82 38.86 C102.18 41.63, 90.89 43.62, 80.1 44.75 C69.32 45.88, 55.4 46.91, 45.1 45.64 C34.81 44.38, 25.6 40.05, 18.33 37.16 C11.07 34.27, 3.93 31.71, 1.5 28.29 C-0.93 24.86, 0.68 20.46, 3.76 16.59 C6.85 12.72, 12.42 7.68, 20.01 5.09 C27.59 2.5, 38.54 1.91, 49.25 1.04 C59.97 0.16, 78.81 -0.42, 84.3 -0.17 C89.79 0.08, 82.81 2.06, 82.19 2.55" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M40.25 1.94 C49.31 0.13, 62.66 -0.2, 73.55 0.16 C84.43 0.52, 97.09 1.93, 105.58 4.11 C114.07 6.3, 120.61 9.74, 124.51 13.28 C128.41 16.82, 130.5 21.37, 128.97 25.34 C127.44 29.31, 121.87 34.06, 115.32 37.1 C108.76 40.13, 99.42 42.25, 89.63 43.56 C79.84 44.88, 67.32 45.65, 56.58 45 C45.85 44.35, 33.93 41.8, 25.23 39.65 C16.53 37.51, 8.57 35.52, 4.39 32.13 C0.21 28.74, -1.48 23.35, 0.16 19.32 C1.8 15.28, 7.07 10.87, 14.21 7.95 C21.36 5.03, 38.02 2.82, 43.03 1.79 C48.04 0.77, 43.99 1.6, 44.27 1.8 M55.35 1.12 C65.52 0.1, 79.16 -0.28, 89.31 0.81 C99.46 1.89, 109.5 4.44, 116.27 7.65 C123.04 10.86, 128.65 16.09, 129.94 20.07 C131.22 24.06, 128.08 28.23, 123.96 31.58 C119.85 34.92, 113.74 37.79, 105.23 40.15 C96.72 42.51, 83.56 45.01, 72.92 45.74 C62.28 46.48, 51.16 45.84, 41.4 44.53 C31.65 43.23, 21.14 41, 14.39 37.89 C7.64 34.78, 2.52 29.64, 0.92 25.89 C-0.67 22.14, 0.95 19.05, 4.81 15.4 C8.68 11.75, 15.29 6.61, 24.13 3.98 C32.97 1.35, 52.45 0.18, 57.87 -0.39 C63.29 -0.95, 56.96 0.05, 56.65 0.6" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g stroke-linecap="round"><g transform="translate(289.04325442776667 251.99929604450972) rotate(0 -0.030008145312535817 63.93835521742466)"><path d="M-0.93 0.56 C-0.72 22.05, 0.73 106.59, 0.93 127.79 M0.78 -0.19 C0.94 21.59, 0.69 107.75, 0.5 129.28" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(288.9517295845633 353.9999827763577) rotate(0 64.93312523453528 22.650148081903666)"><path d="M65.18 0.94 C75.5 0.76, 88.02 1.75, 97.16 3.37 C106.3 4.99, 114.7 7.46, 120.03 10.64 C125.35 13.82, 128.72 18.53, 129.11 22.46 C129.51 26.38, 127.76 30.94, 122.4 34.18 C117.03 37.42, 106.33 40.02, 96.91 41.91 C87.49 43.81, 76.56 45.6, 65.87 45.55 C55.17 45.51, 42.27 43.59, 32.72 41.64 C23.18 39.68, 14.11 36.94, 8.61 33.83 C3.11 30.71, -0.41 26.81, -0.27 22.93 C-0.14 19.06, 4.16 13.96, 9.41 10.59 C14.65 7.21, 20.45 4.28, 31.19 2.67 C41.93 1.07, 65.41 1.05, 73.87 0.95 C82.32 0.84, 82.22 1.65, 81.89 2.03 M84.73 1.38 C94.79 2.02, 105.11 4.01, 112.46 6.78 C119.8 9.55, 126.47 14.14, 128.8 18.01 C131.13 21.88, 130.18 26.17, 126.44 30 C122.7 33.82, 114.43 38.65, 106.37 40.95 C98.32 43.25, 88.56 43.2, 78.13 43.78 C67.7 44.36, 53.94 45.42, 43.79 44.45 C33.64 43.48, 24.35 41.05, 17.22 37.96 C10.09 34.88, 3.41 29.64, 1.02 25.95 C-1.36 22.25, -0.75 19.36, 2.92 15.79 C6.58 12.22, 14.94 6.89, 23.02 4.53 C31.11 2.16, 41.12 2.23, 51.43 1.62 C61.74 1.01, 79.12 1.05, 84.87 0.89 C90.62 0.72, 86.28 0.14, 85.92 0.66" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M73.92 -0.45 C84.18 -0.45, 95.21 1.49, 103.63 3.81 C112.05 6.14, 120.34 9.79, 124.47 13.5 C128.59 17.2, 129.67 22.26, 128.39 26.05 C127.11 29.85, 123.09 33.39, 116.78 36.28 C110.47 39.18, 100.51 42.11, 90.53 43.43 C80.55 44.75, 67.76 44.52, 56.88 44.21 C46 43.91, 33.97 43.78, 25.27 41.6 C16.56 39.43, 8.69 34.93, 4.67 31.16 C0.65 27.39, -0.43 22.63, 1.14 18.99 C2.71 15.35, 7.67 12.17, 14.08 9.32 C20.5 6.48, 28.38 3.46, 39.63 1.93 C50.88 0.4, 73.43 0.25, 81.56 0.14 C89.7 0.04, 88.7 0.96, 88.42 1.29 M84.53 -0.16 C94.8 0.84, 106.48 4.74, 113.64 7.78 C120.8 10.82, 125.15 14.53, 127.47 18.08 C129.8 21.63, 130.83 25.42, 127.61 29.08 C124.4 32.74, 116.1 37.28, 108.17 40.06 C100.25 42.84, 90.42 44.82, 80.08 45.76 C69.74 46.7, 56.61 46.96, 46.13 45.7 C35.66 44.44, 24.69 40.99, 17.22 38.19 C9.75 35.38, 3.88 32.75, 1.3 28.9 C-1.28 25.04, -1.8 18.99, 1.75 15.05 C5.3 11.12, 14.39 7.73, 22.61 5.3 C30.84 2.87, 40.99 1.1, 51.12 0.47 C61.24 -0.16, 78.01 1.13, 83.34 1.53 C88.67 1.93, 83.26 2.47, 83.09 2.89" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(289.1012695928955 344.86830475615625) rotate(0 63.82132345070576 17.02812205759966)"><path d="M8.51 0 C32.83 0.99, 62.54 -2.6, 119.13 0 C121.71 -1.61, 130.31 5.59, 127.64 8.51 C130.4 16.61, 124.95 21.33, 127.64 25.54 C125.12 31.66, 121.74 31.83, 119.13 34.06 C84.76 30.73, 53.09 35.27, 8.51 34.06 C0.24 33.34, 0.83 33.83, 0 25.54 C-1.02 20.85, 1.94 12.23, 0 8.51 C-1.95 5.68, 0.65 -0.75, 8.51 0" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M8.51 0 C50.57 -0.37, 94.93 -1.52, 119.13 0 M8.51 0 C35.65 -0.64, 64.07 0.43, 119.13 0 M119.13 0 C124.71 0.76, 127.45 2.89, 127.64 8.51 M119.13 0 C122.71 -1.05, 129.71 1.85, 127.64 8.51 M127.64 8.51 C129.29 13.73, 127.6 18.01, 127.64 25.54 M127.64 8.51 C126.89 14.46, 126.86 20.41, 127.64 25.54 M127.64 25.54 C126.89 29.98, 124.48 32.41, 119.13 34.06 M127.64 25.54 C128.58 31.75, 123.39 34.4, 119.13 34.06 M119.13 34.06 C80.52 35.65, 41.53 35.15, 8.51 34.06 M119.13 34.06 C74.91 35.26, 30.01 33.84, 8.51 34.06 M8.51 34.06 C4.58 33.29, -0.11 31.16, 0 25.54 M8.51 34.06 C0.65 34.75, -1.97 33.32, 0 25.54 M0 25.54 C-0.19 20.92, -0.26 15.24, 0 8.51 M0 25.54 C0.2 18.42, -0.62 12.18, 0 8.51 M0 8.51 C-0.05 4.82, 3.54 -1.82, 8.51 0 M0 8.51 C-0.62 3.86, 3.42 -0.38, 8.51 0" stroke="transparent" stroke-width="2" fill="none"></path></g><g stroke-linecap="round"><g transform="translate(417.9294012235889 253.8601796561643) rotate(0 -0.030008145312535817 63.93835521742466)"><path d="M-0.06 1.09 C-0.24 22.33, -0.65 106.19, -0.81 127.26 M-1.55 0.62 C-1.37 22.02, 1.02 107.14, 1.52 128.47" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(323.95488843479484 324.3081871195618) rotate(0 25.10021209716797 12.159236614609313)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="19.45477858337489px" fill="transparent" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">dDat</text></g><g transform="translate(327.3645386661681 312.4444787552234) rotate(0 24.857078552246094 12.159236614609313)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="19.45477858337489px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Redis</text></g><g stroke-linecap="round"><g transform="translate(170.44140625 180.30435262677656) rotate(0 56.60546875 56.6015625)"><path d="M-0.43 -1.17 C18.72 17.78, 94.98 94.17, 113.91 113.31 M1.55 0.83 C20.68 20.03, 94.87 96.45, 113.33 114.91" stroke="#343a40" stroke-width="2" fill="none"></path></g><g transform="translate(170.44140625 180.30435262677656) rotate(0 56.60546875 56.6015625)"><path d="M26.76 11.51 C18.83 9.77, 14.93 5.7, -0.43 -1.17 M26.76 11.51 C16.67 6.77, 9.29 2.52, -0.43 -1.17" stroke="#343a40" stroke-width="2" fill="none"></path></g><g transform="translate(170.44140625 180.30435262677656) rotate(0 56.60546875 56.6015625)"><path d="M12.25 26.02 C7.58 21.12, 6.9 13.83, -0.43 -1.17 M12.25 26.02 C7.08 16.38, 4.6 7.21, -0.43 -1.17" stroke="#343a40" stroke-width="2" fill="none"></path></g><g transform="translate(170.44140625 180.30435262677656) rotate(0 56.60546875 56.6015625)"><path d="M86.25 102 C90.27 106.13, 98.39 107.72, 113.33 114.91 M86.25 102 C94.48 105.9, 105.45 110.29, 113.33 114.91" stroke="#343a40" stroke-width="2" fill="none"></path></g><g transform="translate(170.44140625 180.30435262677656) rotate(0 56.60546875 56.6015625)"><path d="M100.88 87.61 C101.61 94.88, 106.5 99.66, 113.33 114.91 M100.88 87.61 C104.15 96.38, 110.17 105.63, 113.33 114.91" stroke="#343a40" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(170.21484375 147.12857137677656) rotate(0 83.423828125 -24.67578125)"><path d="M0.7 0.11 C28.57 -7.85, 139.12 -40.66, 166.79 -48.89 M-0.39 -0.88 C27.36 -9.1, 138.1 -42.93, 165.81 -50.78" stroke="#343a40" stroke-width="2" fill="none"></path></g><g transform="translate(170.21484375 147.12857137677656) rotate(0 83.423828125 -24.67578125)"><path d="M24.85 -17.7 C18.47 -12.94, 12.67 -8.33, 0.7 0.11 M24.85 -17.7 C18.27 -12.84, 9.77 -6.39, 0.7 0.11" stroke="#343a40" stroke-width="2" fill="none"></path></g><g transform="translate(170.21484375 147.12857137677656) rotate(0 83.423828125 -24.67578125)"><path d="M30.64 1.99 C22.92 1.57, 15.59 0.98, 0.7 0.11 M30.64 1.99 C22.49 0.85, 12.24 1.35, 0.7 0.11" stroke="#343a40" stroke-width="2" fill="none"></path></g><g transform="translate(170.21484375 147.12857137677656) rotate(0 83.423828125 -24.67578125)"><path d="M141.69 -32.94 C148.42 -37.89, 155.38 -42.7, 165.81 -50.78 M141.69 -32.94 C150.06 -38.66, 156.17 -42.99, 165.81 -50.78" stroke="#343a40" stroke-width="2" fill="none"></path></g><g transform="translate(170.21484375 147.12857137677656) rotate(0 83.423828125 -24.67578125)"><path d="M135.87 -52.62 C143.95 -52.4, 152.45 -52.01, 165.81 -50.78 M135.87 -52.62 C145.82 -52.35, 153.7 -50.73, 165.81 -50.78" stroke="#343a40" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(171.5546875 246.78872762677656) rotate(0 28.53997802734375 25)"><text x="28.53997802734375" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#343a40" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Check</text><text x="28.53997802734375" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#343a40" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Cache</text></g><g transform="translate(223.68112182617188 48.87857137677656) rotate(0 27.189971923828125 25)"><text x="27.189971923828125" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#343a40" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Query</text><text x="27.189971923828125" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#343a40" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">DB</text></g></svg></span></span></div></div><div class="MuiGrid-root MuiGrid-item mui-1wxaqej"><span class="MuiTypography-root MuiTypography-caption mui-17cupi8">Redis as a cache</span></div></div></div></div>
<h3 class="MuiTypography-root MuiTypography-h4 mui-hkpafq" id="redis-as-a-distributed-lock">Redis as a Distributed Lock</h3>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Another common use of Redis in system design settings is as a distributed lock. Occasionally we have data in our system and we need to maintain consistency during updates (e.g. the very common <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="/learn/system-design/problem-breakdowns/ticketmaster" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Design Ticketmaster</a> system design question), or we need to make sure multiple people aren't performing an action at the same time (e.g. <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="/learn/system-design/problem-breakdowns/uber" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Design Uber</a>).</div>
<div class="my-6"><div class="MuiBox-root mui-o9fqh4"><div class="MuiBox-root mui-3t6lyr"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-6 h-6 heroicon-sw-2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"></path></svg></div><div class="MuiBox-root mui-79elbk"><div style="overflow: hidden; max-height: 300px;"><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Most databases (including Redis) will offer <em>some</em> consistency guarantees. If your core database can provide consistency, don't rely on a distributed lock which may introduce extra complexity and issues. Your interviewer will likely ask you to think through the edge cases in order to make sure you really understand the concept.</div></div></div></div></div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">A very simple distributed lock with a timeout might use the atomic increment (<span class="MuiBox-root mui-1vu004u">INCR</span>) with a TTL. When we want to try to acquire the lock, we run <span class="MuiBox-root mui-1vu004u">INCR</span>. If the response is 1 (i.e. we own the lock), we proceed. If the response is &gt; 1 (i.e. someone else has the lock), we wait and retry again later. When we're done with the lock, we can <span class="MuiBox-root mui-1vu004u">DEL</span> the key so that other proceesses can make use of it.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">More sophisticated locks in Redis can use the <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://redis.io/docs/manual/patterns/distributed-locks/#the-redlock-algorithm" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Redlock algorithm</a>.</div>
<h3 class="MuiTypography-root MuiTypography-h4 mui-hkpafq" id="redis-for-leaderboards">Redis for Leaderboards</h3>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Redis' sorted sets maintain ordered data which can be queried in log time which make them appropriate for leaderboard applications. The high write throughput and low read latency make this especially useful for scaled applications where something like a SQL DB will start to struggle.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">In <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="/learn/system-design/problem-breakdowns/fb-post-search" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Post Search</a> we have a need to find the posts which contain a given keyword (e.g. "tiger") which have the most likes (e.g. "Tiger Woods made an appearance..." @ 500 likes).</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">We can use Redis' sorted sets to maintain a list of the top liked posts for a given keyword. Periodically, we can remove low-ranked posts to save space.</div>
<pre><div class="MuiBox-root mui-xnilmx"><div class="MuiBox-root mui-v2ritd"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-4 h-4  cursor-pointer" aria-label="Copy"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg></div><div style="background: rgb(250, 250, 250); color: rgb(56, 58, 66); font-family: &quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; line-height: 1.5; tab-size: 2; hyphens: none; padding: 1em; margin: 0px; overflow: auto; border-radius: 0.375rem; border: none;"><code font-size="18" style="white-space: pre;"><span>ZADD tiger_posts 500 "SomeId1" # Add the Tiger woods post
</span>ZADD tiger_posts 1 "SomeId2" # Add some tweet about zoo tigers
ZREMRANGEBYRANK tiger_posts 0 -5 # Remove all but the top 5 posts</code></div></div></pre>
<h3 class="MuiTypography-root MuiTypography-h4 mui-hkpafq" id="redis-for-rate-limiting">Redis for Rate Limiting</h3>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">As a data structure server, implementing a wide variety of rate limiting algorithms is possible. A common algorithm is a fixed-window rate limiter where we guarantee that the number of requests does not exceed <span class="MuiBox-root mui-1vu004u">N</span> over some fixed window of time <span class="MuiBox-root mui-1vu004u">W</span>.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Implementation of this in Redis is simple. When a request comes in, we increment (<span class="MuiBox-root mui-1vu004u">INCR</span>) the key for our rate limiter and check the response. If the response is greater than <span class="MuiBox-root mui-1vu004u">N</span>, we wait. If it's less than N, we can proceed. We call <span class="MuiBox-root mui-1vu004u">EXPIRE</span> on our key so that after time period <span class="MuiBox-root mui-1vu004u">W</span>, the value is reset.</div>
<h3 class="MuiTypography-root MuiTypography-h4 mui-hkpafq" id="redis-for-proximity-search">Redis for Proximity Search</h3>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Redis natively supports geospatial indexes with commands like <span class="MuiBox-root mui-1vu004u">GEOADD</span> and <span class="MuiBox-root mui-1vu004u">GEORADIUS</span>. The basic commands are simple:</div>
<pre><div class="MuiBox-root mui-xnilmx"><div class="MuiBox-root mui-v2ritd"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-4 h-4  cursor-pointer" aria-label="Copy"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg></div><div style="background: rgb(250, 250, 250); color: rgb(56, 58, 66); font-family: &quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; line-height: 1.5; tab-size: 2; hyphens: none; padding: 1em; margin: 0px; overflow: auto; border-radius: 0.375rem; border: none;"><code font-size="18" style="white-space: pre;"><span>GEOADD key longitude latitude member # Adds "member" to the index at key "key"
</span>GEORADIUS key longitude latitude radius # Searches the index at key "key" at specified position and radius</code></div></div></pre>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">The search command, in this instance, runs in O(N+log(M)) time where N is the number of elements in the radius and M is the number of members in our index.</div>
<h3 class="MuiTypography-root MuiTypography-h4 mui-hkpafq" id="redis-for-event-sourcing">Redis for Event Sourcing</h3>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Redis' streams are append-only logs similar to Kafka's topics. The basic idea behind Redis streams is that we want to durably add items to a log and then have a distributed mechanism for consuming items from these logs. Redis solves this problem with streams (managed with commands like <span class="MuiBox-root mui-1vu004u">XADD</span>) and consumer groups (commands like <span class="MuiBox-root mui-1vu004u">XREADGROUP</span> and <span class="MuiBox-root mui-1vu004u">XCLAIM</span>).</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><div class="MuiBox-root mui-10khgmf" style="cursor: pointer;"><div class="MuiGrid-root MuiGrid-container MuiGrid-direction-xs-column mui-1tdxmx0"><div class="MuiGrid-root MuiGrid-item mui-tolxbf"><div class="relative w-full"><button class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall mui-wksd04" tabindex="0" type="button" aria-label="zoom-in"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ZoomInIcon"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"></path><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"></path></svg><span class="MuiTouchRipple-root mui-w0pj6f"></span></button><span class="w-full h-full"><span class="block"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 509.5016987238172 367.68359375">
  <!-- svg-source:excalidraw -->
  <!-- payload-type:application/vnd.excalidraw+json --><!-- payload-version:2 -->
  <defs>
    <style class="style-fonts">
      
      
      
    </style>
    
  </defs>
  <rect x="0" y="0" width="509.5016987238172" height="367.68359375" fill="#ffffff"></rect><g stroke-linecap="round" transform="translate(11.83633477379098 59.43359375) rotate(0 62.55078125 149.125)"><path d="M31.28 0 C48.45 2.35, 72.55 1.05, 93.83 0 C116.96 2.53, 124.34 10.71, 125.1 31.28 C129.95 99.79, 127.19 170.46, 125.1 266.97 C127.93 291.17, 116.34 300.57, 93.83 298.25 C71.38 300.35, 46.83 301.95, 31.28 298.25 C9.87 296.55, -3.31 287.25, 0 266.97 C-0.79 208.8, 0.39 154.54, 0 31.28 C-1.35 13.33, 9.82 3.17, 31.28 0" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M31.28 0 C55.1 -0.14, 76.83 2.11, 93.83 0 M31.28 0 C54.44 -0.39, 77.35 -0.41, 93.83 0 M93.83 0 C113.86 0.83, 126.88 11.45, 125.1 31.28 M93.83 0 C115.11 -1.99, 125.98 12.3, 125.1 31.28 M125.1 31.28 C126.03 94.17, 125.94 156.3, 125.1 266.97 M125.1 31.28 C123.53 82.6, 124.11 134.88, 125.1 266.97 M125.1 266.97 C125.36 287.9, 114.57 296.31, 93.83 298.25 M125.1 266.97 C124.61 289.18, 112.69 299.89, 93.83 298.25 M93.83 298.25 C77.57 296.87, 58.87 298.84, 31.28 298.25 M93.83 298.25 C71.55 298.01, 49.57 299.2, 31.28 298.25 M31.28 298.25 C12.16 299.6, 1.35 286.23, 0 266.97 M31.28 298.25 C8.65 298.98, 0.52 287.52, 0 266.97 M0 266.97 C-0.4 186.78, -3.32 106.1, 0 31.28 M0 266.97 C-0.02 188.66, 0.31 112.45, 0 31.28 M0 31.28 C1.13 11.49, 12.22 -0.57, 31.28 0 M0 31.28 C-1.68 9.58, 8.66 0.78, 31.28 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g stroke-linecap="round"><g transform="translate(12.95352227379098 109.64453125) rotate(0 62.11328125 0)"><path d="M-0.29 0.12 C20.7 0.14, 104.72 0.76, 125.29 0.81 M1.76 -0.86 C22.74 -1.24, 104.28 -0.74, 124.89 -0.88" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(13.038226602971548 173.40726810360206) rotate(0 62.11328125 0)"><path d="M1.06 0.81 C21.63 0.86, 102.57 0.6, 123.13 0.43 M0.16 0.19 C21.11 -0.13, 104.66 -1.61, 125.26 -1.47" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(11.100726602971548 237.32523685360206) rotate(0 62.11328125 0)"><path d="M-1.1 0.43 C19.46 0.26, 103.51 -0.1, 124.41 -0.21 M0.52 -0.4 C20.85 -0.45, 103.05 1, 123.57 1.22" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(12.717641392308082 300.1288127309592) rotate(0 62.11328125 0)"><path d="M0.19 -0.21 C21.09 -0.31, 103.72 -0.34, 124.31 -0.23 M-1.17 -1.36 C19.68 -1.32, 102.76 1.23, 123.41 1.19" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(38.292763301622784 131.4296875) rotate(0 30.60997772216797 12.5)"><text x="30.60997772216797" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Item 1</text></g><g transform="translate(36.52729851890794 195.69921875) rotate(0 35.01997375488281 12.5)"><text x="35.01997375488281" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Item 2</text></g><g transform="translate(38.60682732750169 258.96875) rotate(0 34.70997619628906 12.5)"><text x="34.70997619628906" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Item 3</text></g><g transform="translate(19.377499810242938 10) rotate(0 48.29998016357422 17.5)"><text x="48.29998016357422" y="0" font-family="Virgil, Segoe UI Emoji" font-size="28px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Stream</text></g><g stroke-linecap="round" transform="translate(229.24388622381716 45.30859375) rotate(0 117.921875 51.251953125)"><path d="M25.63 0 C97.83 1.24, 166 1.89, 210.22 0 C228.44 1.03, 236.02 11.17, 235.84 25.63 C234.83 38.04, 233.15 55.1, 235.84 76.88 C232.25 92, 225.1 103.24, 210.22 102.5 C164.94 101.26, 115.35 100.67, 25.63 102.5 C8.09 103.74, 0.46 95.6, 0 76.88 C1.45 63.23, -4.12 53.5, 0 25.63 C-3.5 5.2, 9.27 2.14, 25.63 0" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M25.63 0 C86.12 -1.41, 145.35 -0.54, 210.22 0 M25.63 0 C69.8 0.44, 112.86 1, 210.22 0 M210.22 0 C226.71 -0.91, 236.62 9.02, 235.84 25.63 M210.22 0 C227.6 0.08, 235.72 6.32, 235.84 25.63 M235.84 25.63 C237.57 39.21, 235 53.75, 235.84 76.88 M235.84 25.63 C235.89 42.4, 234.84 58.48, 235.84 76.88 M235.84 76.88 C236.05 92.92, 228.33 103.83, 210.22 102.5 M235.84 76.88 C237.84 95.52, 228.86 100.67, 210.22 102.5 M210.22 102.5 C168.84 103.79, 129.68 103.45, 25.63 102.5 M210.22 102.5 C141.42 100.98, 71.34 100.6, 25.63 102.5 M25.63 102.5 C7.77 100.91, 0 95.79, 0 76.88 M25.63 102.5 C9.84 103.73, 2.07 93.31, 0 76.88 M0 76.88 C0.87 65.77, 0.53 54.37, 0 25.63 M0 76.88 C0.02 66.76, 0.31 55.15, 0 25.63 M0 25.63 C0.16 8.32, 9.85 -0.47, 25.63 0 M0 25.63 C1.91 8.84, 8.35 2.24, 25.63 0" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(239.08580516912966 79.060546875) rotate(0 108.0799560546875 17.5)"><text x="108.0799560546875" y="0" font-family="Virgil, Segoe UI Emoji" font-size="28px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Consumer Group</text></g><g stroke-linecap="round"><g transform="translate(219.50951122381716 109.59901578259587) rotate(0 -38.31640625 42.79413835146602)"><path d="M0.1 -0.74 C-12.53 13.19, -63.48 70.55, -76.23 84.78 M-1.31 1.48 C-14.03 16.05, -64.35 71.9, -76.96 85.89" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(219.50951122381716 109.59901578259587) rotate(0 -38.31640625 42.79413835146602)"><path d="M-65.72 58.08 C-69.65 66.11, -72.74 73.23, -76.96 85.89 M-65.72 58.08 C-68.67 63.69, -70.45 70.49, -76.96 85.89" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(219.50951122381716 109.59901578259587) rotate(0 -38.31640625 42.79413835146602)"><path d="M-50.47 71.81 C-58.58 76.23, -65.7 79.72, -76.96 85.89 M-50.47 71.81 C-56.68 74.38, -61.8 78.16, -76.96 85.89" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(187.38060497381716 218.34375) rotate(0 47.48828125 51.85546875)"><path d="M23.74 0 C42.68 2.39, 60.71 -1.94, 71.23 0 C83.75 -0.58, 92.81 5.66, 94.98 23.74 C91.77 41.83, 92.61 61.36, 94.98 79.97 C94.37 98.96, 86.38 105.72, 71.23 103.71 C59.14 105.64, 43.46 106.51, 23.74 103.71 C5.19 105.8, -2.06 92.32, 0 79.97 C1.71 65.54, -0.85 43.95, 0 23.74 C-0.94 7.38, 9.15 -3.09, 23.74 0" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M23.74 0 C37.03 0.28, 51.41 -1.49, 71.23 0 M23.74 0 C37.22 0.45, 50.04 0.25, 71.23 0 M71.23 0 C86.96 -1.94, 94.55 9.09, 94.98 23.74 M71.23 0 C85.08 1.64, 94.17 6.6, 94.98 23.74 M94.98 23.74 C93.26 40.08, 96.22 53.59, 94.98 79.97 M94.98 23.74 C95.55 43.83, 95.91 63.27, 94.98 79.97 M94.98 79.97 C96.33 94.2, 85.52 104.34, 71.23 103.71 M94.98 79.97 C95.5 95.49, 88.06 105.65, 71.23 103.71 M71.23 103.71 C53.77 105.05, 40.84 103.61, 23.74 103.71 M71.23 103.71 C57.41 104.25, 44.15 103.87, 23.74 103.71 M23.74 103.71 C9.71 103.15, -1.46 95.06, 0 79.97 M23.74 103.71 C6.15 104.49, 0.61 96.18, 0 79.97 M0 79.97 C0.75 61.78, 1.77 43.35, 0 23.74 M0 79.97 C0.61 64.06, 0.78 48.76, 0 23.74 M0 23.74 C-0.16 9.86, 9.49 1.86, 23.74 0 M0 23.74 C1.06 9.4, 9.69 0.39, 23.74 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(203.14890789129763 260.19921875) rotate(0 31.71997833251953 10)"><text x="31.71997833251953" y="0" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Worker 1</text></g><g stroke-linecap="round" transform="translate(295.3571674738172 215.484375) rotate(0 47.48828125 51.85546875)"><path d="M23.74 0 C38.15 -0.17, 57.02 -1.85, 71.23 0 C87.37 -3.6, 93.01 5.72, 94.98 23.74 C93.99 44.92, 93.91 61.78, 94.98 79.97 C93.7 95.35, 88.3 104.17, 71.23 103.71 C52.1 106.4, 36.36 100.83, 23.74 103.71 C7.73 100.21, -3.34 96.53, 0 79.97 C-0.42 59.22, 1.75 36.46, 0 23.74 C-0.48 10.43, 10.29 1.91, 23.74 0" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M23.74 0 C38.54 -0.28, 53.41 1.1, 71.23 0 M23.74 0 C39.07 -0.99, 54.28 0.57, 71.23 0 M71.23 0 C85.34 1.42, 94.28 6.77, 94.98 23.74 M71.23 0 C86.54 0.37, 93.55 5.84, 94.98 23.74 M94.98 23.74 C96.21 42.89, 94.26 62.63, 94.98 79.97 M94.98 23.74 C96.14 43.54, 94.69 65.25, 94.98 79.97 M94.98 79.97 C95.43 95.53, 87.93 105.4, 71.23 103.71 M94.98 79.97 C95.58 97.54, 88.05 101.45, 71.23 103.71 M71.23 103.71 C54.12 102.87, 35.77 103.64, 23.74 103.71 M71.23 103.71 C53.56 103.68, 33.35 103.6, 23.74 103.71 M23.74 103.71 C6.38 104.39, 0.53 96.13, 0 79.97 M23.74 103.71 C8.79 101.64, 1.77 96.08, 0 79.97 M0 79.97 C-0.78 60.94, -0.58 42.91, 0 23.74 M0 79.97 C-0.55 65.39, 0.32 49.8, 0 23.74 M0 23.74 C0.93 9.2, 9.46 0.34, 23.74 0 M0 23.74 C2.19 8.64, 8.58 0.11, 23.74 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(307.59747051336797 257.33984375) rotate(0 35.24797821044922 10)"><text x="35.24797821044922" y="0" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Worker 2</text></g><g stroke-linecap="round" transform="translate(404.5251362238172 212.93359375) rotate(0 47.48828125 51.85546875)"><path d="M23.74 0 C37.54 -3.06, 48.75 -1.66, 71.23 0 C87.8 -1.35, 97.88 7.31, 94.98 23.74 C93.5 45.11, 96.02 67.83, 94.98 79.97 C96.61 93.14, 89.57 100.99, 71.23 103.71 C54.04 99.39, 33.88 103.62, 23.74 103.71 C10.05 101.87, -2.87 94.86, 0 79.97 C-0.83 66.45, 2.02 49.82, 0 23.74 C-1.82 9.44, 8.59 -2.48, 23.74 0" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M23.74 0 C37.05 0.07, 49.48 -0.29, 71.23 0 M23.74 0 C32.53 0.43, 42.69 -0.85, 71.23 0 M71.23 0 C86.61 0.32, 93.73 6.11, 94.98 23.74 M71.23 0 C87.91 1.33, 93.41 8.96, 94.98 23.74 M94.98 23.74 C96.01 42.94, 96.04 60.02, 94.98 79.97 M94.98 23.74 C94.77 36, 94.97 49.36, 94.98 79.97 M94.98 79.97 C95.5 97.31, 87.92 101.74, 71.23 103.71 M94.98 79.97 C96.28 96.47, 86.71 103.51, 71.23 103.71 M71.23 103.71 C60.64 104.84, 47.48 105.51, 23.74 103.71 M71.23 103.71 C57.56 103.87, 45.69 103.7, 23.74 103.71 M23.74 103.71 C8.68 101.91, 1.54 96.04, 0 79.97 M23.74 103.71 C8.86 105.17, 1.61 95.31, 0 79.97 M0 79.97 C-0.41 64.3, 0.32 45.16, 0 23.74 M0 79.97 C0.02 58.27, 0.33 35.45, 0 23.74 M0 23.74 C1.9 8.55, 8.49 0.1, 23.74 0 M0 23.74 C1.68 7.56, 6.83 -2.12, 23.74 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(417.0134403620008 254.7890625) rotate(0 34.999977111816406 10)"><text x="34.999977111816406" y="0" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Worker 3</text></g><g stroke-linecap="round"><g transform="translate(232.90794872381716 211.46875) rotate(0 33.755859375 -27.681640625)"><path d="M-0.06 -1.16 C11.12 -10.28, 56.17 -45.77, 67.26 -54.66 M-1.55 0.84 C9.43 -8.62, 54.45 -46.87, 66.18 -56.41" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(232.90794872381716 211.46875) rotate(0 33.755859375 -27.681640625)"><path d="M51.1 -30.47 C53.87 -39.01, 61.7 -48.43, 66.18 -56.41 M51.1 -30.47 C56.56 -39.85, 61.76 -50.54, 66.18 -56.41" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(232.90794872381716 211.46875) rotate(0 33.755859375 -27.681640625)"><path d="M37.95 -46.23 C44.85 -49.83, 56.79 -54.31, 66.18 -56.41 M37.95 -46.23 C48.24 -49.69, 58.31 -54.53, 66.18 -56.41" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(340.2204487238172 207.58984375) rotate(0 1.814453125 -24.802734375)"><path d="M-0.12 0.32 C0.41 -7.79, 2.56 -40.84, 3.15 -49.21 M0.82 0.01 C1.52 -8.21, 3.78 -41.73, 4.14 -49.98" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(340.2204487238172 207.58984375) rotate(0 1.814453125 -24.802734375)"><path d="M11.29 -26.16 C9.89 -34.05, 7.9 -40.56, 4.14 -49.98 M11.29 -26.16 C9.27 -32.39, 8.03 -37.43, 4.14 -49.98" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(340.2204487238172 207.58984375) rotate(0 1.814453125 -24.802734375)"><path d="M-5.7 -27.14 C-2.1 -34.72, 0.93 -40.94, 4.14 -49.98 M-5.7 -27.14 C-3.59 -33.14, -0.71 -37.95, 4.14 -49.98" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(449.6384174738172 201.2578125) rotate(0 -11.91015625 -21.619140625)"><path d="M-1.04 0.85 C-5.03 -6.59, -20.4 -36.61, -24.24 -43.92 M0.62 0.26 C-3.55 -7.1, -21.14 -35.77, -25.41 -42.75" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(449.6384174738172 201.2578125) rotate(0 -11.91015625 -21.619140625)"><path d="M-6.1 -27.37 C-10.15 -32.52, -18.1 -36.56, -25.41 -42.75 M-6.1 -27.37 C-11.74 -31.83, -18.89 -36.81, -25.41 -42.75" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(449.6384174738172 201.2578125) rotate(0 -11.91015625 -21.619140625)"><path d="M-20.5 -18.56 C-20.59 -26.04, -24.52 -32.54, -25.41 -42.75 M-20.5 -18.56 C-21.54 -25.67, -24.13 -33.44, -25.41 -42.75" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(288.6891987238172 200.1875) rotate(0 55.134765625 70.314453125)"><path d="M-0.42 -0.69 C18.09 22.64, 91.68 117.45, 110 140.82 M1.56 1.57 C19.98 24.43, 90.5 115.68, 108.91 138.8" stroke="#e03131" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(392.8649799738172 208.24609375) rotate(0 -50.970703125 65.619140625)"><path d="M-0.27 0.19 C-17.31 22, -85.82 108.2, -102.69 130.16 M1.79 -0.75 C-14.83 21.23, -83.06 109.34, -100.37 131.13" stroke="#e03131" stroke-width="2" fill="none"></path></g></g><mask></mask></svg></span></span></div></div><div class="MuiGrid-root MuiGrid-item mui-1wxaqej"><span class="MuiTypography-root MuiTypography-caption mui-17cupi8">Redis streams and consumer groups</span></div></div></div></div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">A simple example is a work queue. We want to add items to the queue and have them processed. At any point in time one of our workers might fail, and in these instances we'd like to re-process them once the failure is detected. With Redis streams we add items onto the queue with commands like <span class="MuiBox-root mui-1vu004u">XADD</span> and have a single consumer group attached to the stream for our workers. This consumer group is maintaining a reference to the items processed via the stream and, in the case a worker fails, provides a way for a new worker to claim (<span class="MuiBox-root mui-1vu004u">XCLAIM</span>) and restart processing that message.</div>
<h2 class="MuiTypography-root MuiTypography-h3 mui-1rzqq5q" id="shortcomings-and-remediations">Shortcomings and Remediations</h2>
<h3 class="MuiTypography-root MuiTypography-h4 mui-hkpafq" id="hot-key-issues">Hot Key Issues</h3>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">If our load is not evenly distributed across the keys in our Redis cluster, we can run into a problem known as the "hot key" issue. To illustrate it, let's pretend we're using Redis to cache the details of items in our ecommerce store. We have lots of items so we scale our cluster to 100 nodes and our items are evenly spread across them. So far, so good. Now imagine one day we have a surge of interest for <em>one particular item</em>, so much that the volume for this item matches the volume for the rest of the items.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><div class="MuiBox-root mui-10khgmf" style="cursor: pointer;"><div class="MuiGrid-root MuiGrid-container MuiGrid-direction-xs-column mui-1tdxmx0"><div class="MuiGrid-root MuiGrid-item mui-tolxbf"><div class="relative w-full"><button class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall mui-wksd04" tabindex="0" type="button" aria-label="zoom-in"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ZoomInIcon"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"></path><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"></path></svg><span class="MuiTouchRipple-root mui-w0pj6f"></span></button><span class="w-full h-full"><span class="block"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 346.44747110347487 350.86328125">
  <!-- svg-source:excalidraw -->
  <!-- payload-type:application/vnd.excalidraw+json --><!-- payload-version:2 -->
  <defs>
    <style class="style-fonts">
      
      
      
    </style>
    
  </defs>
  <rect x="0" y="0" width="346.44747110347487" height="350.86328125" fill="#ffffff"></rect><g stroke-linecap="round" transform="translate(234.744140625 10) rotate(0 49.41622110347481 47.375)"><path d="M23.69 0 C33.58 -0.11, 50.37 1.66, 75.14 0 C91.25 3.03, 100.68 10.44, 98.83 23.69 C100.63 37.12, 99.14 54.9, 98.83 71.06 C101.36 84.29, 91.67 96.65, 75.14 94.75 C63.04 93.58, 48.55 98.01, 23.69 94.75 C6.72 97.66, -1.88 86.06, 0 71.06 C0.56 60.36, 0.26 44.54, 0 23.69 C2.3 5.84, 5.36 -2.58, 23.69 0" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M23.69 0 C33.97 -1.56, 44.12 0.97, 75.14 0 M23.69 0 C35.4 -0.79, 45.15 -0.96, 75.14 0 M75.14 0 C90.13 -0.25, 98.01 7.94, 98.83 23.69 M75.14 0 C91.55 -1.36, 97.23 7.36, 98.83 23.69 M98.83 23.69 C97.82 36.6, 98.97 44.93, 98.83 71.06 M98.83 23.69 C99.36 41.42, 98.64 58.59, 98.83 71.06 M98.83 71.06 C97.58 86.45, 92.91 93.76, 75.14 94.75 M98.83 71.06 C98.41 87.89, 89.56 95.94, 75.14 94.75 M75.14 94.75 C57.49 97.07, 38.42 94.68, 23.69 94.75 M75.14 94.75 C57.5 94.41, 38.52 94.61, 23.69 94.75 M23.69 94.75 C9.01 94.91, 0.93 88.6, 0 71.06 M23.69 94.75 C7.19 94.75, -2.15 88.19, 0 71.06 M0 71.06 C-0.99 56.45, -0.6 43.64, 0 23.69 M0 71.06 C-1.18 57.58, -0.34 46.35, 0 23.69 M0 23.69 C-1.02 7.91, 8.07 1.16, 23.69 0 M0 23.69 C0.4 9.49, 8.45 1.87, 23.69 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(256.90316720943184 37.88914590608201) rotate(0 27.25719451904297 19.485854093918007)"><text x="27.25719451904297" y="0" font-family="Virgil, Segoe UI Emoji" font-size="15.588683275134402px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Main</text><text x="27.25719451904297" y="19.485854093918004" font-family="Virgil, Segoe UI Emoji" font-size="15.588683275134402px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">(0-100)</text></g><g stroke-linecap="round" transform="translate(236.20096639652525 128.453125) rotate(0 49.41622110347481 47.375)"><path d="M23.69 0 C38.13 2.81, 53.79 2.33, 75.14 0 C92.21 2.03, 99.42 9.21, 98.83 23.69 C101.32 32.1, 99.52 47.55, 98.83 71.06 C98.42 89.19, 89.85 97.49, 75.14 94.75 C59.81 98.57, 44.95 94.86, 23.69 94.75 C7.79 92, -3.22 86.77, 0 71.06 C2.4 50.37, -2.44 31.2, 0 23.69 C-3.58 11.12, 10.22 -1.93, 23.69 0" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M23.69 0 C34.06 -0.41, 49.7 1.59, 75.14 0 M23.69 0 C36.83 0.16, 50.36 0.3, 75.14 0 M75.14 0 C91.47 -1.18, 97.44 7.43, 98.83 23.69 M75.14 0 C89.44 -0.23, 100.41 6.79, 98.83 23.69 M98.83 23.69 C100.25 41.42, 100.5 61.99, 98.83 71.06 M98.83 23.69 C98.19 38.93, 99.81 54.08, 98.83 71.06 M98.83 71.06 C98.46 87.76, 89.74 95.79, 75.14 94.75 M98.83 71.06 C99.94 86.71, 92.42 95.05, 75.14 94.75 M75.14 94.75 C55.69 92.96, 32.39 95.9, 23.69 94.75 M75.14 94.75 C59.86 94.97, 43.93 95.77, 23.69 94.75 M23.69 94.75 C7.29 94.75, -1.87 88.02, 0 71.06 M23.69 94.75 C7.46 95.6, 0.53 85.91, 0 71.06 M0 71.06 C-0.56 60.8, -0.01 46.81, 0 23.69 M0 71.06 C-0.45 60.79, 0.15 51.09, 0 23.69 M0 23.69 C0.35 9.28, 8.38 1.62, 23.69 0 M0 23.69 C-1.34 6.29, 5.9 -1.63, 23.69 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(250.7024307250977 156.34227090608198) rotate(0 34.914756774902315 19.485854093917993)"><text x="34.914756774902344" y="0" font-family="Virgil, Segoe UI Emoji" font-size="15.588683275134402px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Main</text><text x="34.914756774902344" y="19.485854093918004" font-family="Virgil, Segoe UI Emoji" font-size="15.588683275134402px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">(101-200)</text></g><g stroke-linecap="round" transform="translate(237.61502889652525 246.11328125) rotate(0 49.41622110347481 47.375)"><path d="M23.69 0 C44.72 1.38, 63.8 0.66, 75.14 0 C88.48 -0.18, 98.28 10.43, 98.83 23.69 C98.6 36.86, 97.92 48.1, 98.83 71.06 C97.94 89.97, 94.48 93.58, 75.14 94.75 C55.44 91.8, 32.74 94.46, 23.69 94.75 C11.26 94.36, 1.62 89.16, 0 71.06 C-2.98 62.77, 2.93 46.11, 0 23.69 C-1.87 9.15, 10.81 -0.29, 23.69 0" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M23.69 0 C38.18 -0.6, 53.06 -1.3, 75.14 0 M23.69 0 C38.75 -0.6, 52.58 -0.24, 75.14 0 M75.14 0 C89.63 -0.2, 100.2 6.94, 98.83 23.69 M75.14 0 C93 0.22, 97.69 9.48, 98.83 23.69 M98.83 23.69 C99.74 36.15, 99.13 47.44, 98.83 71.06 M98.83 23.69 C99.12 37.4, 98.7 50.73, 98.83 71.06 M98.83 71.06 C99.8 86.73, 92.23 95.01, 75.14 94.75 M98.83 71.06 C101.12 85.83, 90.48 96.02, 75.14 94.75 M75.14 94.75 C64.21 94.93, 53.53 96.19, 23.69 94.75 M75.14 94.75 C59 95.2, 42.53 95.78, 23.69 94.75 M23.69 94.75 C7.52 95.49, 0.46 86.04, 0 71.06 M23.69 94.75 C6.41 94.27, -0.91 86.1, 0 71.06 M0 71.06 C-1.64 54.49, 1.22 37.43, 0 23.69 M0 71.06 C0.13 57.5, 0.2 43.36, 0 23.69 M0 23.69 C-1.16 6.5, 6.16 -1.42, 23.69 0 M0 23.69 C-0.59 9.04, 8.44 0.2, 23.69 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(248.922592163086 274.002427156082) rotate(0 38.108657836914034 19.485854093917993)"><text x="38.10865783691406" y="0" font-family="Virgil, Segoe UI Emoji" font-size="15.588683275134402px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Main</text><text x="38.10865783691406" y="19.485854093918004" font-family="Virgil, Segoe UI Emoji" font-size="15.588683275134402px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">(201-300)</text></g><g stroke-linecap="round" transform="translate(10 99.265625) rotate(0 73.453125 70.37109375)"><path d="M64.22 1.41 C74.09 -0.79, 87.06 1.14, 97.18 4.31 C107.3 7.49, 117.39 13.4, 124.96 20.43 C132.52 27.46, 139.09 37.04, 142.58 46.5 C146.06 55.95, 146.96 66.96, 145.88 77.15 C144.79 87.33, 141.6 98.87, 136.07 107.61 C130.55 116.35, 121.55 124.18, 112.75 129.59 C103.96 135, 93.61 138.85, 83.3 140.06 C72.99 141.27, 60.93 140.07, 50.89 136.83 C40.85 133.59, 30.65 127.5, 23.06 120.63 C15.48 113.75, 9.2 104.97, 5.36 95.59 C1.52 86.21, -0.78 74.68, 0.02 64.35 C0.82 54.02, 4.59 42.57, 10.15 33.61 C15.72 24.65, 24.16 16.15, 33.41 10.59 C42.67 5.04, 59.58 1.81, 65.68 0.29 C71.79 -1.24, 69.72 0.15, 70.05 1.42 M51.3 4.18 C61.01 0.49, 75.79 -1.39, 86.39 0.14 C96.99 1.66, 106.17 7.35, 114.9 13.32 C123.63 19.28, 133.32 27.28, 138.79 35.93 C144.26 44.57, 147.46 55.09, 147.73 65.18 C148.01 75.28, 144.56 87.12, 140.44 96.5 C136.32 105.87, 130.88 114.31, 123.02 121.41 C115.15 128.5, 103.44 136.14, 93.24 139.08 C83.04 142.02, 71.9 141.04, 61.8 139.05 C51.7 137.06, 41.5 132.93, 32.66 127.12 C23.82 121.31, 14.32 112.7, 8.78 104.18 C3.23 95.65, 0 86.17, -0.61 75.99 C-1.22 65.81, 1.17 52.61, 5.13 43.08 C9.1 33.55, 15.46 25.34, 23.18 18.81 C30.9 12.28, 46.37 6.2, 51.43 3.9 C56.48 1.6, 52.89 4.26, 53.5 5" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M57.89 0.78 C67.5 -2.38, 80.54 -1.26, 90.93 1.42 C101.32 4.11, 112.1 10.13, 120.24 16.88 C128.37 23.64, 135.29 32.89, 139.75 41.95 C144.21 51, 146.99 61.25, 146.99 71.22 C146.98 81.18, 144.37 92.46, 139.7 101.75 C135.03 111.03, 127.46 120.66, 118.96 126.91 C110.46 133.16, 99.23 137.39, 88.69 139.24 C78.15 141.1, 66.09 140.32, 55.7 138.04 C45.32 135.75, 34.62 131.95, 26.37 125.53 C18.12 119.11, 10.5 109.02, 6.18 99.51 C1.87 89.99, 0.09 78.5, 0.46 68.43 C0.84 58.37, 3.71 47.99, 8.41 39.12 C13.12 30.24, 19.49 21.42, 28.7 15.17 C37.9 8.93, 57.05 3.94, 63.64 1.64 C70.23 -0.66, 68.01 0.5, 68.24 1.36 M44.18 6.2 C52.99 1.39, 66.51 -0.39, 77.26 0.17 C88.01 0.73, 99.5 4.8, 108.67 9.56 C117.83 14.33, 126.29 20.62, 132.23 28.75 C138.16 36.89, 142.3 48.27, 144.27 58.37 C146.24 68.47, 146.55 79.77, 144.06 89.34 C141.57 98.92, 136.39 108.27, 129.33 115.82 C122.26 123.37, 111.56 130.58, 101.65 134.64 C91.75 138.7, 80.23 140.56, 69.89 140.19 C59.55 139.82, 49.12 137.31, 39.6 132.41 C30.08 127.5, 19.18 118.79, 12.76 110.74 C6.33 102.7, 2.87 93.93, 1.04 84.14 C-0.79 74.34, -1.04 61.79, 1.8 51.97 C4.63 42.14, 10.93 32.7, 18.05 25.18 C25.18 17.65, 40.01 9.64, 44.54 6.83 C49.07 4.01, 44.93 7.57, 45.23 8.3" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(56.4639496789772 157.37684115986076) rotate(0 27.049972534179688 12.5)"><text x="27.049972534179688" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Client</text></g><g stroke-linecap="round"><g transform="translate(151.6883985656225 121.60883828929877) rotate(0 35.32962884218881 -37.43528570544356)"><path d="M0.32 -0.71 C12.04 -13.24, 58.23 -62.77, 69.82 -75.15 M-0.97 1.53 C11.17 -10.82, 59.87 -61.21, 72.1 -73.76" stroke="#1e1e1e" stroke-width="4" fill="none"></path></g><g transform="translate(151.6883985656225 121.60883828929877) rotate(0 35.32962884218881 -37.43528570544356)"><path d="M12.06 -28.32 C7.84 -22.53, 5.52 -15.29, 0.32 -0.71 M12.06 -28.32 C9.74 -20.27, 4.94 -11.67, 0.32 -0.71" stroke="#1e1e1e" stroke-width="4" fill="none"></path></g><g transform="translate(151.6883985656225 121.60883828929877) rotate(0 35.32962884218881 -37.43528570544356)"><path d="M27.06 -14.31 C18.96 -12.11, 12.75 -8.5, 0.32 -0.71 M27.06 -14.31 C20.29 -10.4, 11.14 -5.86, 0.32 -0.71" stroke="#1e1e1e" stroke-width="4" fill="none"></path></g><g transform="translate(151.6883985656225 121.60883828929877) rotate(0 35.32962884218881 -37.43528570544356)"><path d="M59.83 -46.38 C61.82 -54.89, 65.71 -61.9, 72.1 -73.76 M59.83 -46.38 C64.1 -54.17, 66.26 -61.51, 72.1 -73.76" stroke="#1e1e1e" stroke-width="4" fill="none"></path></g><g transform="translate(151.6883985656225 121.60883828929877) rotate(0 35.32962884218881 -37.43528570544356)"><path d="M45.1 -60.67 C50.91 -65.52, 58.61 -68.82, 72.1 -73.76 M45.1 -60.67 C53.74 -64.24, 60.17 -67.44, 72.1 -73.76" stroke="#1e1e1e" stroke-width="4" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(163.21115068075483 166.00282146810014) rotate(0 32.15419028462264 -0.9744817594130382)"><path d="M-0.84 -0.28 C9.7 -0.51, 52.53 -1.69, 63.53 -2.07 M0.93 -1.47 C11.81 -1.44, 55.18 -0.59, 65.83 -0.59" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(163.21115068075483 166.00282146810014) rotate(0 32.15419028462264 -0.9744817594130382)"><path d="M27.07 -11.29 C17.42 -9.2, 8.57 -2.92, -0.84 -0.28 M27.07 -11.29 C19.64 -7.8, 12.74 -4.9, -0.84 -0.28" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(163.21115068075483 166.00282146810014) rotate(0 32.15419028462264 -0.9744817594130382)"><path d="M27.62 9.22 C17.91 4.61, 8.88 4.19, -0.84 -0.28 M27.62 9.22 C19.87 7.54, 12.83 5.27, -0.84 -0.28" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(163.21115068075483 166.00282146810014) rotate(0 32.15419028462264 -0.9744817594130382)"><path d="M37.53 9.36 C46.37 5, 55.88 4.42, 65.83 -0.59 M37.53 9.36 C44.07 7.51, 51.34 5.13, 65.83 -0.59" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(163.21115068075483 166.00282146810014) rotate(0 32.15419028462264 -0.9744817594130382)"><path d="M37.75 -11.16 C46.39 -8.82, 55.83 -2.69, 65.83 -0.59 M37.75 -11.16 C44.42 -7.84, 51.63 -5.05, 65.83 -0.59" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(164.62928868988524 213.02604044558552) rotate(0 29.96855878005738 30.072273991596262)"><path d="M-0.78 -0.12 C9.48 9.85, 50.46 49.51, 60.76 59.57 M1.01 -1.23 C11.26 8.92, 50.28 50.33, 60.24 60.8" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(164.62928868988524 213.02604044558552) rotate(0 29.96855878005738 30.072273991596262)"><path d="M26.6 12.13 C20.12 10.5, 13.06 8.1, -0.78 -0.12 M26.6 12.13 C17.83 9.34, 10.41 5, -0.78 -0.12" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(164.62928868988524 213.02604044558552) rotate(0 29.96855878005738 30.072273991596262)"><path d="M12.32 26.87 C9.16 21.94, 5.39 16.14, -0.78 -0.12 M12.32 26.87 C8.04 19.42, 5.04 10.52, -0.78 -0.12" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(164.62928868988524 213.02604044558552) rotate(0 29.96855878005738 30.072273991596262)"><path d="M33.41 47.39 C39.36 52.03, 44.78 55.54, 60.24 60.8 M33.41 47.39 C41.28 52.17, 50.64 55.77, 60.24 60.8" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(164.62928868988524 213.02604044558552) rotate(0 29.96855878005738 30.072273991596262)"><path d="M48.3 33.28 C50.79 41.07, 52.78 47.83, 60.24 60.8 M48.3 33.28 C51.5 42.52, 56.25 50.49, 60.24 60.8" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g></g><mask></mask></svg></span></span></div></div><div class="MuiGrid-root MuiGrid-item mui-1wxaqej"><span class="MuiTypography-root MuiTypography-caption mui-17cupi8">Hot key issue</span></div></div></div></div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Now the load on <em>one server</em> is dramatically higher than the rest of the servers. Unless we were severely overprovisioned (i.e. we were only using a small % of the existing CPU on each node), this server is now going to start failing.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">There are lots of potential solutions for this, all with tradeoffs.</div>
<ul class="MuiList-root MuiList-padding mui-sedpvs">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">We can add an in-memory cache in our clients so they aren't making so many requests to Redis for the same data.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">We can store the same data in multiple keys and randomize the requests so they are spread across the cluster.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">We can add read replica instances and dynamically scale these with load.</div></li>
</ul>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">For an interview setting, the important thing is that you recognize potential hot key issues (+) and that you proactively design remediations (++).</div>
<h2 class="MuiTypography-root MuiTypography-h3 mui-1rzqq5q" id="summary">Summary</h2>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Redis is a powerful, versatile, and simple tool you can use in system design interviews. Because Redis' capabilities are based on simple data structures, reasoning through the scaling implications of your decisions is straightforward: allowing you to go deep with your interviewer without needing to know a lot of details about Redis internals.</div>
</body>
</html>