<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Key Technologies for System Design in a Hurry</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div><div class="flex flex-col gap-2 md:gap-4"><div class="flex flex-col"><h6 class="MuiTypography-root MuiTypography-h6 mui-zfm63x">System Design in a Hurry</h6><h1 class="MuiTypography-root MuiTypography-h2 mui-161snwm">Key Technologies</h1><p class="MuiTypography-root MuiTypography-body2 mui-45a2r">The most common building blocks used to solve any system design problem.</p></div></div><hr class="MuiDivider-root MuiDivider-fullWidth mui-1rvhejo"></div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">System design involves assembling the most effective building blocks to solve a problem so it's crucial to have a good understanding of the most commonly used building blocks. Most interviewers aren't going to care whether you know about a particular (e.g.) queueing solution so long as you have one you can use. However, if you don't know about <strong>any</strong> queueing solutions, you're going to have a hard time designing a system that requires one!</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">This brings us to our key technologies:</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><div class="MuiBox-root mui-10khgmf" style="cursor: pointer;"><div class="MuiGrid-root MuiGrid-container MuiGrid-direction-xs-column mui-1tdxmx0"><div class="MuiGrid-root MuiGrid-item mui-tolxbf"><div class="relative w-full"><button class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall mui-wksd04" tabindex="0" type="button" aria-label="zoom-in"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ZoomInIcon"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"></path><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"></path></svg><span class="MuiTouchRipple-root mui-w0pj6f"></span></button><span class="w-full h-full"><span class="block"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 715.3828125 405.0625">
  <!-- svg-source:excalidraw -->
  <!-- payload-type:application/vnd.excalidraw+json --><!-- payload-version:2 -->
  <defs>
    <style class="style-fonts">
      
      
      
    </style>
    
  </defs>
  <rect x="0" y="0" width="715.3828125" height="405.0625" fill="#ffffff"></rect><g stroke-linecap="round" transform="translate(168.6171875 347.7109375) rotate(0 268.3828125 23.67578125)"><path d="M11.84 0 C153.93 -0.03, 294.75 0.37, 524.93 0 C536.03 2.21, 534.07 2.82, 536.77 11.84 C536.53 21.54, 537.48 30.46, 536.77 35.51 C536.3 40.38, 534.89 48.34, 524.93 47.35 C415.08 43.37, 308.67 44.16, 11.84 47.35 C4.12 49.44, -0.67 40.88, 0 35.51 C2.49 31.47, -0.02 18.28, 0 11.84 C-0.73 3.64, 6.38 2.16, 11.84 0" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M11.84 0 C165.82 -1.25, 320.1 -1.35, 524.93 0 M11.84 0 C122.79 -0.14, 234.1 -0.44, 524.93 0 M524.93 0 C533.66 0.67, 536.43 2.52, 536.77 11.84 M524.93 0 C534.64 0.21, 535.96 5.58, 536.77 11.84 M536.77 11.84 C535.2 20.51, 537.97 30.84, 536.77 35.51 M536.77 11.84 C536.42 20.42, 537.35 29.49, 536.77 35.51 M536.77 35.51 C537.84 42.32, 531 48.98, 524.93 47.35 M536.77 35.51 C535.95 41.54, 534.16 46.34, 524.93 47.35 M524.93 47.35 C412.11 48.75, 298.34 47.98, 11.84 47.35 M524.93 47.35 C364.1 47.5, 202.62 47.48, 11.84 47.35 M11.84 47.35 C2.87 46.91, 1.4 43.27, 0 35.51 M11.84 47.35 C3.82 46.76, -0.37 44.48, 0 35.51 M0 35.51 C-2.07 27.73, 0.75 25.16, 0 11.84 M0 35.51 C0.4 28.45, 0.41 21.21, 0 11.84 M0 11.84 C-0.42 2.71, 2.74 0.51, 11.84 0 M0 11.84 C-0.07 3.9, 3.13 0.85, 11.84 0" stroke="#e03131" stroke-width="1" fill="none"></path></g><g transform="translate(339.1400375366211 353.88671875) rotate(0 97.8599624633789 17.5)"><text x="97.8599624633789" y="0" font-family="Virgil, Segoe UI Emoji" font-size="28px" fill="#e03131" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Core Concepts</text></g><g stroke-linecap="round" transform="translate(186.48046875 273.3125) rotate(0 123.13281249999994 31.333984375)"><path d="M15.67 0 C75.48 2.18, 127.32 -0.74, 230.6 0 C243.33 -3.04, 249.74 5.34, 246.27 15.67 C245.97 23, 248.51 37.37, 246.27 47 C243.08 56.28, 237.58 59.39, 230.6 62.67 C172.68 65.34, 113.87 61.31, 15.67 62.67 C5.57 65.23, -1.53 60.24, 0 47 C-0.77 34.43, 2.39 24.63, 0 15.67 C3.57 2.51, 3.48 1.46, 15.67 0" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M15.67 0 C78.66 1, 144.81 -0.99, 230.6 0 M15.67 0 C88.9 0.99, 161.24 0.08, 230.6 0 M230.6 0 C242.63 0.18, 245.56 6.64, 246.27 15.67 M230.6 0 C243.33 -0.01, 245.45 3.42, 246.27 15.67 M246.27 15.67 C248.18 24.34, 245.89 31.2, 246.27 47 M246.27 15.67 C246.97 22.75, 245.52 31.73, 246.27 47 M246.27 47 C245.55 55.83, 242.21 61.79, 230.6 62.67 M246.27 47 C244.44 56.58, 242.6 63.47, 230.6 62.67 M230.6 62.67 C166.02 61.58, 101.38 61.6, 15.67 62.67 M230.6 62.67 C184.22 60.74, 139.39 60.88, 15.67 62.67 M15.67 62.67 C5.11 62.15, -0.32 58.38, 0 47 M15.67 62.67 C4.29 64.81, 2.21 55.32, 0 47 M0 47 C-0.35 39.12, -0.6 33.87, 0 15.67 M0 47 C-0.3 37.61, -0.69 29.71, 0 15.67 M0 15.67 C-0.06 5.18, 4.51 0.74, 15.67 0 M0 15.67 C-0.53 6.75, 4.93 0.15, 15.67 0" stroke="#1971c2" stroke-width="4" fill="none"></path></g><g transform="translate(195.87733459472656 287.146484375) rotate(0 113.73594665527344 17.5)"><text x="113.73594665527344" y="0" font-family="Virgil, Segoe UI Emoji" font-size="28px" fill="#1971c2" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Key Technologies</text></g><g stroke-linecap="round" transform="translate(455.15234375 274.125) rotate(0 117.654296875 29.283203125)"><path d="M14.64 0 C91.13 -1.67, 166.65 1.14, 220.67 0 C231.53 1.07, 236.72 4.41, 235.31 14.64 C232.43 19.79, 232.15 24.01, 235.31 43.92 C234.24 55.76, 231.33 58.74, 220.67 58.57 C147.24 58.53, 71.84 58.74, 14.64 58.57 C8.17 58.85, -2.57 52.96, 0 43.92 C3.21 32.68, -2.1 28.32, 0 14.64 C-1.8 7.74, 3.54 -0.6, 14.64 0" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M14.64 0 C86.25 0.38, 155.82 2.03, 220.67 0 M14.64 0 C84.02 1.39, 151.67 1.94, 220.67 0 M220.67 0 C232.41 -0.01, 234.6 3.31, 235.31 14.64 M220.67 0 C229.53 1.39, 235.42 6.86, 235.31 14.64 M235.31 14.64 C234.09 25.21, 233.95 34.73, 235.31 43.92 M235.31 14.64 C234.69 21.03, 235.63 28.6, 235.31 43.92 M235.31 43.92 C233.72 52.94, 231.78 59.26, 220.67 58.57 M235.31 43.92 C235.35 52.51, 228.25 58.88, 220.67 58.57 M220.67 58.57 C149.17 57.85, 79.12 58.36, 14.64 58.57 M220.67 58.57 C163.33 58.21, 105.94 58.86, 14.64 58.57 M14.64 58.57 C4.07 60.43, 1.93 51.84, 0 43.92 M14.64 58.57 C3 59.68, 2.23 53.45, 0 43.92 M0 43.92 C-0.33 37.23, -1.1 28.98, 0 14.64 M0 43.92 C0.15 36.93, -0.18 30.35, 0 14.64 M0 14.64 C-0.46 6.21, 4.62 0.13, 14.64 0 M0 14.64 C-0.8 3.14, 4.72 2.05, 14.64 0" stroke="#2f9e44" stroke-width="1" fill="none"></path></g><g transform="translate(510.57666778564453 285.908203125) rotate(0 62.22997283935547 17.5)"><text x="62.22997283935547" y="0" font-family="Virgil, Segoe UI Emoji" font-size="28px" fill="#2f9e44" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Patterns</text></g><g stroke-linecap="round" transform="translate(204.4765625 210.3203125) rotate(0 236.494140625 24.8359375)"><path d="M12.42 0 C109.59 0.39, 206.38 -0.36, 460.57 0 C465.82 2.07, 473.98 0.95, 472.99 12.42 C471.49 21.14, 473.46 25.88, 472.99 37.25 C475.07 44.86, 466.32 50.02, 460.57 49.67 C295.87 52.85, 126.72 52.36, 12.42 49.67 C3.83 52.11, 2.16 49.1, 0 37.25 C-1.58 34.53, -1.13 25.49, 0 12.42 C-0.04 1.17, 0.72 -2.74, 12.42 0" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M12.42 0 C124.58 -1.08, 235.39 -0.15, 460.57 0 M12.42 0 C151.46 -1.55, 289.37 -1.93, 460.57 0 M460.57 0 C468.07 1.21, 473.08 5.86, 472.99 12.42 M460.57 0 C469.42 -0.65, 472.05 2.84, 472.99 12.42 M472.99 12.42 C471.75 19.36, 474.45 29.24, 472.99 37.25 M472.99 12.42 C472.34 17.48, 473.81 23.65, 472.99 37.25 M472.99 37.25 C473.02 44.51, 466.95 49.95, 460.57 49.67 M472.99 37.25 C473.9 46.09, 469.79 47.69, 460.57 49.67 M460.57 49.67 C362.89 49.18, 265.58 48.45, 12.42 49.67 M460.57 49.67 C337.43 51.14, 215.16 50.24, 12.42 49.67 M12.42 49.67 C2.51 50.64, 1.94 45.33, 0 37.25 M12.42 49.67 C2.95 49.16, 0.63 45.07, 0 37.25 M0 37.25 C-1.09 27.89, 0.66 20.89, 0 12.42 M0 37.25 C-0.14 30.52, -0.04 22.52, 0 12.42 M0 12.42 C-0.7 2.62, 4 1.78, 12.42 0 M0 12.42 C1.41 2.42, 3.42 1.46, 12.42 0" stroke="#f08c00" stroke-width="1" fill="none"></path></g><g transform="translate(312.0447692871094 217.65625) rotate(0 128.92593383789062 17.5)"><text x="128.92593383789062" y="0" font-family="Virgil, Segoe UI Emoji" font-size="28px" fill="#f08c00" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Delivery Framework</text></g><g stroke-linecap="round" transform="translate(260.548828125 127.65191094888746) rotate(0 36.93997940173807 29.29883692336523)"><path d="M14.65 0 C30.23 -0.54, 49.33 -1.41, 59.23 0 C72.35 3.47, 70.56 1.94, 73.88 14.65 C72.52 24.05, 75.37 34.34, 73.88 43.95 C74.9 51.62, 68.25 56.37, 59.23 58.6 C48.47 57.3, 39.19 57.74, 14.65 58.6 C7.28 58.14, 0.23 52.46, 0 43.95 C2.25 34.68, -1.09 33.09, 0 14.65 C-3.04 8.36, 5 1.1, 14.65 0" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M14.65 0 C27.47 -1.06, 41.33 1.63, 59.23 0 M59.23 0 C68.99 -0.71, 72.31 4.1, 73.88 14.65 M73.88 14.65 C74.39 24.64, 73.08 34.63, 73.88 43.95 M73.88 43.95 C74.94 52.44, 70.07 57.51, 59.23 58.6 M59.23 58.6 C48.29 59.61, 39.71 56.85, 14.65 58.6 M14.65 58.6 C4.13 59.95, 0.69 53.75, 0 43.95 M0 43.95 C1.07 37.14, 1.1 27.64, 0 14.65 M0 14.65 C-1.65 3.04, 3.81 -0.44, 14.65 0" stroke="#1e1e1e" stroke-width="1.5" fill="none" stroke-dasharray="8 9"></path></g><g transform="translate(275.57578262439426 144.49414566864888) rotate(0 21.91302490234375 12.456602203603808)"><text x="21.91302490234375" y="0" font-family="Virgil, Segoe UI Emoji" font-size="19.930563525766097px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Uber</text></g><g stroke-linecap="round" transform="translate(348.0469991858431 127.32506165580526) rotate(0 44.13724502673807 29.38672754836523)"><path d="M14.69 0 C34.75 3.89, 44.79 -2.51, 73.58 0 C85.12 3.5, 87.91 3.03, 88.27 14.69 C89.44 20.76, 87.67 28.78, 88.27 44.08 C86.1 54.8, 83.27 58.7, 73.58 58.77 C60.39 58.07, 42.64 57.28, 14.69 58.77 C2.17 58.52, 3.21 56.09, 0 44.08 C-2.87 40.94, 0.29 31.95, 0 14.69 C1.07 6.31, 4.43 -3.03, 14.69 0" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M14.69 0 C30.27 -1.3, 44.31 -1.37, 73.58 0 M73.58 0 C84.58 0.09, 90 5.39, 88.27 14.69 M88.27 14.69 C89.21 21.4, 89.23 29.57, 88.27 44.08 M88.27 44.08 C86.46 55.5, 82.66 57.15, 73.58 58.77 M73.58 58.77 C51.73 59.66, 32.07 58.34, 14.69 58.77 M14.69 58.77 C3.87 56.88, 0.28 54.67, 0 44.08 M0 44.08 C-1.77 32.71, -1.19 24.59, 0 14.69 M0 14.69 C1.4 4.76, 4.78 -0.51, 14.69 0" stroke="#1e1e1e" stroke-width="1.5" fill="none" stroke-dasharray="8 9"></path></g><g transform="translate(374.0579243273272 144.25518700056668) rotate(0 18.126319885253906 12.456602203603808)"><text x="18.126319885253906" y="0" font-family="Virgil, Segoe UI Emoji" font-size="19.930563525766097px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Yelp</text></g><g stroke-linecap="round" transform="translate(454.20060608967924 127.61287691748322) rotate(0 44.13724502673807 29.98243067336523)"><path d="M14.99 0 C39.83 4.35, 60.83 -1.01, 73.28 0 C82.47 0.98, 87.55 6.01, 88.27 14.99 C85.99 23.17, 88.06 29.43, 88.27 44.97 C87 56.29, 82.44 62.36, 73.28 59.96 C53.81 59.34, 43.01 61.81, 14.99 59.96 C2.3 58.84, 2.28 51.93, 0 44.97 C1.06 34.5, -0.48 18.17, 0 14.99 C2.07 5.99, 1.81 -1.17, 14.99 0" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M14.99 0 C31.61 0.32, 47.55 0.72, 73.28 0 M73.28 0 C82.71 -0.81, 87.14 6.06, 88.27 14.99 M88.27 14.99 C86.62 23.7, 87.72 27.54, 88.27 44.97 M88.27 44.97 C89.44 54.09, 81.69 59.22, 73.28 59.96 M73.28 59.96 C50.83 58.08, 30.7 60.77, 14.99 59.96 M14.99 59.96 C5.48 60.78, -1.73 53.32, 0 44.97 M0 44.97 C1.56 38.6, 0.05 31.99, 0 14.99 M0 14.99 C-0.32 5.93, 4.19 1.86, 14.99 0" stroke="#1e1e1e" stroke-width="1.5" fill="none" stroke-dasharray="8 9"></path></g><g transform="translate(461.38765580391737 132.68210318364083) rotate(0 36.9501953125 24.913204407207616)"><text x="36.9501953125" y="0" font-family="Virgil, Segoe UI Emoji" font-size="19.930563525766097px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Google </text><text x="36.9501953125" y="24.913204407207623" font-family="Virgil, Segoe UI Emoji" font-size="19.930563525766097px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Docs</text></g><g stroke-linecap="round" transform="translate(559.7352755715237 125.73435740326954) rotate(0 38.61576065173807 31.14649317336523)"><path d="M15.57 0 C33.07 1.41, 51.45 1.45, 61.66 0 C69.95 -0.75, 75 3.02, 77.23 15.57 C75.94 27.04, 76.38 38.26, 77.23 46.72 C76.77 57.33, 70.79 59.56, 61.66 62.29 C45.47 61.67, 36.95 59.77, 15.57 62.29 C8.66 62.41, 1.1 58.18, 0 46.72 C2.14 37.14, -3.11 24.42, 0 15.57 C-3.46 1.91, 4.12 2.07, 15.57 0" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M15.57 0 C29.05 -0.93, 42.53 0.94, 61.66 0 M61.66 0 C70.77 1.07, 76.15 3.37, 77.23 15.57 M77.23 15.57 C78.29 26.57, 75.53 38.57, 77.23 46.72 M77.23 46.72 C78.58 57.8, 72.07 61.27, 61.66 62.29 M61.66 62.29 C52.69 63.29, 41.02 60.82, 15.57 62.29 M15.57 62.29 C3.35 61.22, -0.44 58.5, 0 46.72 M0 46.72 C-0.31 38.52, -0.79 30.31, 0 15.57 M0 15.57 C1.93 3.34, 3.56 0.97, 15.57 0" stroke="#1e1e1e" stroke-width="1.5" fill="none" stroke-dasharray="8 9"></path></g><g transform="translate(590.1598130787306 144.42424837303096) rotate(0 8.19122314453125 12.456602203603808)"><text x="8.19122314453125" y="0" font-family="Virgil, Segoe UI Emoji" font-size="19.930563525766097px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">...</text></g><g stroke-linecap="round" transform="translate(230.32421875 74.03125) rotate(0 212.62109375 63.2421875)"><path d="M31.62 0 C124.67 -0.53, 218.64 -2.35, 393.62 0 M31.62 0 C169.98 1.57, 307.1 1.61, 393.62 0 M393.62 0 C416.05 0.69, 425.27 9.52, 425.24 31.62 M393.62 0 C412.52 0.32, 426.15 11.1, 425.24 31.62 M425.24 31.62 C422.85 52.11, 424.26 76.14, 425.24 94.86 M425.24 31.62 C425.04 50.63, 424.8 69.65, 425.24 94.86 M425.24 94.86 C427.17 114.1, 413.07 127.45, 393.62 126.48 M425.24 94.86 C427.48 115.71, 413.51 125.97, 393.62 126.48 M393.62 126.48 C274.43 126.87, 155.92 126.37, 31.62 126.48 M393.62 126.48 C275.48 126.67, 157.65 126.86, 31.62 126.48 M31.62 126.48 C10.28 126.61, -0.7 114.43, 0 94.86 M31.62 126.48 C10.38 128.54, 1.41 114.22, 0 94.86 M0 94.86 C1.53 77.94, 0.21 61.48, 0 31.62 M0 94.86 C0.66 73.69, -0.8 51.64, 0 31.62 M0 31.62 C-1.92 8.72, 9.94 1.15, 31.62 0 M0 31.62 C0.58 10.65, 11.87 -0.43, 31.62 0" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(306.74609375 87.0625) rotate(0 127.16988372802734 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Practice Common Problems</text></g><g stroke-linecap="round"><g transform="translate(51.0390625 53.23046875) rotate(0 58.525390625 121.13671875)"><path d="M0.3 1.18 C5.25 33.76, 11.06 156.35, 30.4 196.38 C49.75 236.42, 101.82 233.79, 116.35 241.37 M-1.01 0.75 C3.73 32.92, 9.53 154.47, 29.51 194.71 C49.49 234.96, 104.11 234.2, 118.88 242.22" stroke="#1971c2" stroke-width="2" fill="none"></path></g><g transform="translate(51.0390625 53.23046875) rotate(0 58.525390625 121.13671875)"><path d="M88.96 244.47 C101.65 243.75, 111.86 241.61, 118.88 242.22 M88.96 244.47 C94.78 243.54, 101.61 243.45, 118.88 242.22" stroke="#1971c2" stroke-width="2" fill="none"></path></g><g transform="translate(51.0390625 53.23046875) rotate(0 58.525390625 121.13671875)"><path d="M94.51 224.72 C105.35 231.1, 113.57 236.06, 118.88 242.22 M94.51 224.72 C99.17 228.21, 104.75 232.57, 118.88 242.22" stroke="#1971c2" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(10 10) rotate(0 62.99994659423828 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1971c2" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">You are here</text></g></svg></span></span></div></div><div class="MuiGrid-root MuiGrid-item mui-1wxaqej"><span class="MuiTypography-root MuiTypography-caption mui-17cupi8">Overall Structure</span></div></div></div></div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">In this section, we're going to walk through the key categories of technologies relevant to solving 90% of system design problems, together with some discussion of the possible options for each. You're generally free to choose which technology you want to use in each category, but we recommend you have at least one.</div>
<div class="my-6"><div class="MuiBox-root mui-1147lff"><div class="MuiBox-root mui-zvu67g"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-6 h-6 heroicon-sw-2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"></path></svg></div><div class="MuiBox-root mui-79elbk"><div style="overflow: hidden; max-height: 300px;"><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Keep in mind from the Levelling section that the amount of depth your interviewer is likely to probe is proportional to the level you're interviewing at. A mid-level candidate who can roughly describe <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="/learn/system-design/deep-dives/elasticsearch" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">ElasticSearch</a> as a search index is likely to be fine, but a senior candidate who can't describe the inverted index or reason about its scaling is likely to be a yellow flag. In either case, focus on breadth before depth!</div></div></div></div></div>
<h2 class="MuiTypography-root MuiTypography-h3 mui-1rzqq5q" id="core-database">Core Database</h2>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Almost all system design problems will require you to store some data and you're most likely going to be storing it in a database (or <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="#blob-storage" target="_self" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Blob Storage</a>). While there are many different types of databases, the most common are relational databases (e.g. Postgres) and NoSQL databases (e.g. DynamoDB) - we recommend you pick <em>one</em> of these for your interview. If you are taking predominantly product design interviews, we recommend you pick a relational database. If you are taking predominantly infrastructure design interviews, we recommend you pick a NoSQL database.</div>
<div class="my-6"><div class="MuiBox-root mui-8d9r5j"><div class="MuiBox-root mui-3t6lyr"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-6 h-6 heroicon-sw-2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"></path></svg></div><div class="MuiBox-root mui-79elbk"><div style="overflow: hidden; max-height: 300px;"><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Many candidates trip themselves up by trying to insert a comparison of relational and NoSQL databases into their answer. The reality is that these two technologies are <em>highly overlapping</em> and broad statements like "I need to use a relational database because I have relationships in my data" (NoSQL databases can work great for this) or "I've gotta use NoSQL because I need scale and performance" (relational databases, used correctly, perform and scale incredibly well) are often yellow flags that reveal inexperience.</div><br><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Here's the truth: <em>most interviewers don't need an explicit comparison of SQL and NoSQL databases</em> in your session and it's a pothole you should completely avoid. Instead, talk about what you know about the database you're using and how it will help you solve the problem at hand. If you're asked to compare, focus on the differences in the databases you're familiar with and how they would impact your design. So "I'm using Postgres here because its ACID properties will allow me to maintain data integrity" is a great leader.</div><br></div><div class="MuiBox-root mui-fx3t84"></div><button class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textError MuiButton-sizeSmall MuiButton-textSizeSmall MuiButton-colorError MuiButton-disableElevation MuiButton-root MuiButton-text MuiButton-textError MuiButton-sizeSmall MuiButton-textSizeSmall MuiButton-colorError MuiButton-disableElevation mui-tggf3w" tabindex="0" type="button">Show More<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="h-4 w-4"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5"></path></svg><span class="MuiTouchRipple-root mui-w0pj6f"></span></button></div></div></div>
<h3 class="MuiTypography-root MuiTypography-h4 mui-hkpafq" id="relational-databases">Relational Databases</h3>
<h5 class="MuiTypography-root MuiTypography-h6 mui-13de2kc" id="what-is-a-relational-database-and-when-should-you-use-it">What is a relational database and when should you use it?</h5>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Relational databases (sometimes called RDBMS or Relational Database Management Systems) are the most common type of database. They're often used for transactional data (e.g. user records, order records, etc) and are typically the default choice for a product design interview. Relational databases store your data in tables, which are composed of rows and columns. Each row represents a single record, and each column represents a single field on that record. For example, a <span class="MuiBox-root mui-1vu004u">users</span> table might have a <span class="MuiBox-root mui-1vu004u">name</span> column and an <span class="MuiBox-root mui-1vu004u">email</span> column. Relational databases are often queried using SQL, a declarative language for querying data.</div>
<div class="my-6"><div class="MuiBox-root mui-1147lff"><div class="MuiBox-root mui-zvu67g"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-6 h-6 heroicon-sw-2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"></path></svg></div><div class="MuiBox-root mui-79elbk"><div style="overflow: hidden; max-height: 300px;"><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Learning how RDBMS's work under the covers is beyond the scope of this guide, but we recommend you read <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://cstack.github.io/db_tutorial/" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">A Deep Dive into How Databases Work</a> if you're interested in learning more. Understanding how data flows internally through a database is a microcosm of the tricks you can use in your system design interview to optimize for performance and scale.</div></div></div></div></div>
<h5 class="MuiTypography-root MuiTypography-h6 mui-13de2kc" id="things-you-should-know-about-relational-databases">Things you should know about relational databases</h5>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Beyond simply storing data, relational databases come equipped with several features which are useful for system design interviews. The most important of these are:</div>
<ol style="list-style: outside decimal;">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>SQL Joins:</strong> Joins are a way of combining data from multiple tables. For example, if you have a <span class="MuiBox-root mui-1vu004u">users</span> table and a <span class="MuiBox-root mui-1vu004u">posts</span> table, you might want to query for all posts by a particular user. This is important for querying data and SQL databases can support arbitrary joins between tables. Note that joins can be also be a major performance bottleneck in your system so minimize them where possible.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Indexes:</strong> <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="#indexing" target="_self" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Indexes</a> are a way of storing data in a way that makes it faster to query. For example, if you have a <span class="MuiBox-root mui-1vu004u">users</span> table with a <span class="MuiBox-root mui-1vu004u">name</span> column, you might create an index on the <span class="MuiBox-root mui-1vu004u">name</span> column. This would allow you to query for users by name much faster than if you didn't have an index. Indexes are often implemented using a <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://en.wikipedia.org/wiki/B-tree" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">B-Tree</a> or a <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://en.wikipedia.org/wiki/Hash_table" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Hash Table</a>. The great thing about relational databases is (a) their support for arbitrarily many indexes, which allows you to optimize for different queries  and (b) their support for multi-column and specialized indexes (e.g. geospatial indexes, full-text indexes).</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>RDBMS Transactions:</strong> Transactions are a way of grouping multiple operations together into a single atomic operation. For example, if you have a <span class="MuiBox-root mui-1vu004u">users</span> table and a <span class="MuiBox-root mui-1vu004u">posts</span> table, you might want to create a new user and a new post for that user at the same time. If you do this in a transaction, either both operations will succeed or both will fail. This ensures you don't have have invalid data like a post from a user who doesn't exist!</div></li>
</ol>
<h5 class="MuiTypography-root MuiTypography-h6 mui-13de2kc" id="what-are-the-most-common-relational-databases">What are the most common relational databases?</h5>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">The most common relational databases are <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://www.postgresql.org/" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Postgres</a> and <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://www.mysql.com/" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">MySQL</a>. If you don't already have a favorite, we recommend you pick Postgres and we have a <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="/learn/system-design/deep-dives/postgres" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">great deep-dive to help you with the details</a>, but either one is fine.</div>
<h3 class="MuiTypography-root MuiTypography-h4 mui-hkpafq" id="nosql-databases">NoSQL Databases</h3>
<h5 class="MuiTypography-root MuiTypography-h6 mui-13de2kc" id="what-is-a-nosql-database-and-when-should-you-use-it">What is a NoSQL database and when should you use it?</h5>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">NoSQL databases are a broad category of databases designed to accommodate a wide range of data models, including key-value, document, column-family, and graph formats. Unlike relational databases, NoSQL databases do not use a traditional table-based structure and are often schema-less. This flexibility allows NoSQL databases to handle large volumes of unstructured, semi-structured, or structured data, and to scale horizontally with ease.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><div class="MuiBox-root mui-10khgmf" style="cursor: pointer;"><div class="MuiGrid-root MuiGrid-container MuiGrid-direction-xs-column mui-1tdxmx0"><div class="MuiGrid-root MuiGrid-item mui-tolxbf"><div class="relative w-full"><button class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall mui-wksd04" tabindex="0" type="button" aria-label="zoom-in"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ZoomInIcon"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"></path><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"></path></svg><span class="MuiTouchRipple-root mui-w0pj6f"></span></button><span class="w-full h-full"><span class="block"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1169.203125 509.49999999999994">
  <!-- svg-source:excalidraw -->
  <!-- payload-type:application/vnd.excalidraw+json --><!-- payload-version:2 -->
  <defs>
    <style class="style-fonts">
      
      
      
    </style>
    
  </defs>
  <rect x="0" y="0" width="1169.203125" height="509.49999999999994" fill="#ffffff"></rect><g stroke-linecap="round" transform="translate(421.177734375 10) rotate(0 135.65234375 121.24999999999997)"><path d="M0 0 C98.4 2.39, 195.18 1.14, 271.3 0 M0 0 C67.75 0.62, 136.18 0.65, 271.3 0 M271.3 0 C270.97 50.56, 268.89 98.6, 271.3 242.5 M271.3 0 C272.34 96.55, 271.39 192.68, 271.3 242.5 M271.3 242.5 C178.21 242.14, 88.28 242.55, 0 242.5 M271.3 242.5 C203.06 242.38, 133.84 243.29, 0 242.5 M0 242.5 C-1.2 163.16, -0.63 84.76, 0 0 M0 242.5 C-0.42 163.37, -0.95 85.89, 0 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(10 339.99999999999994) rotate(0 111.8046875 79.75)"><path d="M0 0 C49.69 -1.5, 101.88 -1.17, 223.61 0 M0 0 C57.29 0.39, 114.53 0, 223.61 0 M223.61 0 C223.68 38.2, 226.67 76.89, 223.61 159.5 M223.61 0 C224.85 63.77, 225.47 126.89, 223.61 159.5 M223.61 159.5 C157.46 159.07, 88.28 160.33, 0 159.5 M223.61 159.5 C155.99 159.77, 87.89 159.55, 0 159.5 M0 159.5 C0.71 110.74, 0.38 60.67, 0 0 M0 159.5 C-1.18 118.46, -2.08 77.26, 0 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(283.609375 339.99999999999994) rotate(0 110.3046875 79.75)"><path d="M0 0 C78.11 0.37, 157.17 -0.71, 220.61 0 M0 0 C57.82 -0.06, 116.8 1.22, 220.61 0 M220.61 0 C221.68 59.81, 221.66 120.91, 220.61 159.5 M220.61 0 C220.64 58.62, 220.26 114.87, 220.61 159.5 M220.61 159.5 C158.92 160.84, 98.9 160.98, 0 159.5 M220.61 159.5 C160.44 161.78, 99.92 161.27, 0 159.5 M0 159.5 C-0.17 112.41, -1.46 64.8, 0 0 M0 159.5 C-1.07 126.21, -0.18 93.11, 0 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(554.21875 339.99999999999994) rotate(0 165.52734375 79.75)"><path d="M0 0 C91.35 -0.82, 183.37 -0.54, 331.05 0 M0 0 C88.5 2.2, 178.32 1.35, 331.05 0 M331.05 0 C334.49 48.82, 333.83 93.52, 331.05 159.5 M331.05 0 C331.69 59.04, 331.44 120.11, 331.05 159.5 M331.05 159.5 C231.09 162.32, 130.65 161.76, 0 159.5 M331.05 159.5 C201.97 160.98, 72.73 161.21, 0 159.5 M0 159.5 C-1.2 103.56, -2.17 44.53, 0 0 M0 159.5 C1.26 109.07, 1.7 57.46, 0 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(935.2734375 339.99999999999994) rotate(0 111.96484375 79.75)"><path d="M0 0 C65.85 0.49, 132.34 -0.39, 223.93 0 M0 0 C50.83 -1.84, 100.35 -0.56, 223.93 0 M223.93 0 C226.69 49.57, 226.94 100.82, 223.93 159.5 M223.93 0 C223.7 61.82, 223.96 121.88, 223.93 159.5 M223.93 159.5 C139.51 161.81, 57.55 161.57, 0 159.5 M223.93 159.5 C142.46 159.94, 61.48 159.8, 0 159.5 M0 159.5 C-1.13 102.88, 1.07 43.89, 0 0 M0 159.5 C0.29 107.91, -0.9 56.8, 0 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g stroke-linecap="round"><g transform="translate(421.177734375 59.49999999999994) rotate(0 135.65234375 0)"><path d="M0 0 C63.01 -0.55, 125.82 0.03, 271.3 0 M0 0 C100.8 1.88, 201.8 1.88, 271.3 0" stroke="#000" stroke-width="1" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(421.177734375 241.49999999999994) rotate(0 135.65234375 0)"><path d="M0 0 C67.9 1.11, 139.29 3.19, 271.3 0 M0 0 C66.99 -1.29, 134.48 -1.55, 271.3 0" stroke="#000" stroke-width="1" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(10 389.49999999999994) rotate(0 111.8046875 0)"><path d="M0 0 C46.73 2.41, 90.08 1.06, 223.61 0 M0 0 C89.34 -1.3, 176.9 -1.19, 223.61 0" stroke="#000" stroke-width="1" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(10 488.49999999999994) rotate(0 111.8046875 0)"><path d="M0 0 C52.78 -1.5, 109.06 -1.18, 223.61 0 M0 0 C88.17 -0.56, 177.06 -0.48, 223.61 0" stroke="#000" stroke-width="1" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(283.609375 389.49999999999994) rotate(0 110.3046875 0)"><path d="M0 0 C84.01 0.34, 166.34 1.7, 220.61 0 M0 0 C80.26 -0.7, 159.85 -2.02, 220.61 0" stroke="#000" stroke-width="1" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(283.609375 488.49999999999994) rotate(0 110.3046875 0)"><path d="M0 0 C66.63 1.33, 131.05 -0.65, 220.61 0 M0 0 C82.62 -2.19, 165.03 -1.03, 220.61 0" stroke="#000" stroke-width="1" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(554.21875 389.49999999999994) rotate(0 165.52734375 0)"><path d="M0 0 C104.67 -2.38, 208.66 -1.54, 331.05 0 M0 0 C126.8 2, 253.95 1.24, 331.05 0" stroke="#000" stroke-width="1" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(554.21875 488.49999999999994) rotate(0 165.52734375 0)"><path d="M0 0 C130.77 1.04, 260.64 0.52, 331.05 0 M0 0 C76.54 -1.78, 153.56 -1.44, 331.05 0" stroke="#000" stroke-width="1" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(935.2734375 389.49999999999994) rotate(0 111.96484375 0)"><path d="M0 0 C63.58 -0.74, 123.11 -1.17, 223.93 0 M0 0 C82.37 0.92, 164.17 0.66, 223.93 0" stroke="#000" stroke-width="1" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(935.2734375 488.49999999999994) rotate(0 111.96484375 0)"><path d="M0 0 C74.77 -0.43, 153.02 0.02, 223.93 0 M0 0 C57.58 -0.3, 114.08 0.7, 223.93 0" stroke="#000" stroke-width="1" fill="none"></path></g></g><mask></mask><g mask="url(#mask-wMxpPYbUBRI-PCb-KjCCF)" stroke-linecap="round"><g transform="translate(420.6779999999999 183.20099999999996) rotate(0 -149.1865 78.14949999999999)"><path d="M-0.29 0.78 C-50.01 26.88, -248.82 129.82, -298.35 155.75 M1.76 0.14 C-48.12 26.47, -249.36 130.74, -299.28 156.99" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(420.6779999999999 183.20099999999996) rotate(0 -149.1865 78.14949999999999)"><path d="M-279.03 134.86 C-283.98 141.51, -292.29 149.63, -299.28 156.99 M-279.03 134.86 C-284.59 142.44, -290.89 148.9, -299.28 156.99" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(420.6779999999999 183.20099999999996) rotate(0 -149.1865 78.14949999999999)"><path d="M-269.54 153.05 C-277.22 154.21, -288.38 156.85, -299.28 156.99 M-269.54 153.05 C-278.14 155.07, -287.32 156.01, -299.28 156.99" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask id="mask-wMxpPYbUBRI-PCb-KjCCF"><rect x="0" y="0" fill="#fff" width="820.0509999999999" height="440.49999999999994"></rect><rect x="239.4595252075194" y="251.3505" fill="#000" width="64.06394958496094" height="20" opacity="1"></rect></mask><g mask="url(#mask-wbTF8je_AAxDKkwIfuyLj)" stroke-linecap="round"><g transform="translate(436.6109999999999 252.99999999999994) rotate(0 -21.0985 43.25)"><path d="M0.03 -0.55 C-6.81 13.74, -34.43 72.09, -41.3 86.55 M-1.42 1.77 C-8.31 16.21, -35.1 73.85, -41.77 88.11" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(436.6109999999999 252.99999999999994) rotate(0 -21.0985 43.25)"><path d="M-39.16 58.22 C-40.61 67.97, -40.33 76.38, -41.77 88.11 M-39.16 58.22 C-39.48 67.07, -40.33 74.67, -41.77 88.11" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(436.6109999999999 252.99999999999994) rotate(0 -21.0985 43.25)"><path d="M-20.56 66.9 C-27.2 74.26, -32.05 80.27, -41.77 88.11 M-20.56 66.9 C-26.01 73.54, -31.95 78.76, -41.77 88.11" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask id="mask-wbTF8je_AAxDKkwIfuyLj"><rect x="0" y="0" fill="#fff" width="579.8079999999999" height="440.49999999999994"></rect><rect x="383.48052520751935" y="286.25" fill="#000" width="64.06394958496094" height="20" opacity="1"></rect></mask><g mask="url(#mask-UMTe_zLz8Z9AZhs7M--Kc)" stroke-linecap="round"><g transform="translate(677.049 252.99999999999994) rotate(0 21.0985 43.25)"><path d="M0.9 0.05 C8.09 14.5, 36.23 71.6, 43.19 86.19 M-0.09 -0.97 C7.03 13.71, 35.72 73.09, 42.77 87.56" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(677.049 252.99999999999994) rotate(0 21.0985 43.25)"><path d="M21.24 66.67 C27.72 74.48, 33.63 79.96, 42.77 87.56 M21.24 66.67 C29.83 74.73, 38.12 83.23, 42.77 87.56" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(677.049 252.99999999999994) rotate(0 21.0985 43.25)"><path d="M39.7 57.71 C40.57 68.37, 40.89 76.55, 42.77 87.56 M39.7 57.71 C41.11 69.39, 42.2 81.38, 42.77 87.56" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask id="mask-UMTe_zLz8Z9AZhs7M--Kc"><rect x="0" y="0" fill="#fff" width="820.246" height="440.49999999999994"></rect><rect x="666.1155252075196" y="286.25" fill="#000" width="64.06394958496094" height="20" opacity="1"></rect></mask><g mask="url(#mask-6FLrBaobDly5S_1AydQ2i)" stroke-linecap="round"><g transform="translate(692.982 177.39100000000002) rotate(0 176.87800000000004 81.05450000000002)"><path d="M0.99 -0.31 C59.89 26.88, 295.4 135.99, 354.25 163.19 M0.06 -1.53 C58.76 25.35, 294.66 134.56, 353.57 161.64" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(692.982 177.39100000000002) rotate(0 176.87800000000004 81.05450000000002)"><path d="M323.67 159.14 C334.36 160.66, 347.89 161.31, 353.57 161.64 M323.67 159.14 C334.58 160.43, 346.05 161.17, 353.57 161.64" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(692.982 177.39100000000002) rotate(0 176.87800000000004 81.05450000000002)"><path d="M332.27 140.51 C339.74 149.08, 350.05 156.72, 353.57 161.64 M332.27 140.51 C340.07 148.58, 348.42 156.11, 353.57 161.64" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask id="mask-6FLrBaobDly5S_1AydQ2i"><rect x="0" y="0" fill="#fff" width="1147.738" height="440.50000000000006"></rect><rect x="837.8280252075194" y="248.44550000000004" fill="#000" width="64.06394958496094" height="20" opacity="1"></rect></mask><g transform="translate(453.740234375 15) rotate(0 94.22992706298828 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">NoSQL_Databases</text></g><g transform="translate(428.677734375 68.49999999999994) rotate(0 89.73992156982422 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">+Key-Value Stores</text></g><g transform="translate(428.677734375 109.99999999999994) rotate(0 89.87992095947266 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">+Document Stores</text></g><g transform="translate(428.677734375 151.49999999999994) rotate(0 107.36990356445312 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">+Column-Family Stores</text></g><g transform="translate(428.677734375 192.99999999999994) rotate(0 94.84993743896484 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">+Graph Databases</text></g><g transform="translate(17.5 344.99999999999994) rotate(0 90.89991760253906 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Key_Value_Stores</text></g><g transform="translate(17.5 398.49999999999994) rotate(0 65.52994537353516 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">-Fast Access</text></g><g transform="translate(17.5 439.99999999999994) rotate(0 63.72993469238281 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">-Simple Model</text></g><g transform="translate(291.109375 344.99999999999994) rotate(0 86.8899154663086 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Document_Stores</text></g><g transform="translate(291.109375 398.49999999999994) rotate(0 38.93995666503906 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">-Flexible</text></g><g transform="translate(291.109375 439.99999999999994) rotate(0 61.68993377685547 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">-Schema-less</text></g><g transform="translate(586.65625 344.99999999999994) rotate(0 108.52989959716797 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Column_Family_Stores</text></g><g transform="translate(561.71875 398.49999999999994) rotate(0 44.359962463378906 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">-Scalable</text></g><g transform="translate(561.71875 439.99999999999994) rotate(0 132.71987915039062 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">-High performance for write</text></g><g transform="translate(947.03515625 344.99999999999994) rotate(0 91.85993194580078 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Graph_Databases</text></g><g transform="translate(942.7734375 398.49999999999994) rotate(0 66.62992858886719 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">-Relationships</text></g><g transform="translate(942.7734375 439.99999999999994) rotate(0 92.66990661621094 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">-Efficient retrieval</text></g><g transform="translate(239.4595252075194 251.3505) rotate(0 32.45829222764823 10.418912981487836)"><text x="32.03197479248047" y="0" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Includes</text></g><g transform="translate(383.4805252075194 286.25) rotate(0 32.25663491854445 10.528945234026764)"><text x="32.03197479248047" y="0" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Includes</text></g><g transform="translate(666.1155252075196 286.25) rotate(0 32.48565498614681 10.04280728373675)"><text x="32.03197479248047" y="0" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Includes</text></g><g transform="translate(837.8280252075195 248.44550000000004) rotate(0 32.309268997702816 9.778580284621626)"><text x="32.03197479248047" y="0" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Includes</text></g></svg></span></span></div></div><div class="MuiGrid-root MuiGrid-item mui-1wxaqej"><span class="MuiTypography-root MuiTypography-caption mui-17cupi8">NoSQL Databases</span></div></div></div></div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">NoSQL databases are strong candidates for situations where:</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><strong>Flexible Data Models:</strong> Your data model is evolving or you need to store different types of data structures without a fixed schema.
<strong>Scalability:</strong> Your application needs to scale horizontally (across many servers) to accommodate large amounts of data or high user loads.
<strong>Handling Big Data and Real-Time Web Apps:</strong> You have applications dealing with large volumes of data, especially unstructured data, or applications requiring real-time data processing and analytics.</div>
<div class="my-6"><div class="MuiBox-root mui-o9fqh4"><div class="MuiBox-root mui-3t6lyr"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-6 h-6 heroicon-sw-2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"></path></svg></div><div class="MuiBox-root mui-79elbk"><div style="overflow: hidden; max-height: 300px;"><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">The places where NoSQL databases excel are not necessarily places where relational databases fail (and vice-versa). For example, while NoSQL databases are great for handling unstructured data, relational databases can also have JSON columns with flexible schemas. While NoSQL databases are great for scaling horizontally, relational databases can also scale horizontally with the right architecture. When you're discussing NoSQL databases in your system design interview, make sure you're not making broad statements but instead discussing the specific features of the database you're using and how they will help you solve the problem at hand.</div></div></div></div></div>
<h5 class="MuiTypography-root MuiTypography-h6 mui-13de2kc" id="things-you-should-know-about-nosql-databases">Things you should know about NoSQL databases</h5>
<ol style="list-style: outside decimal;">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Data Models:</strong> NoSQL databases come in many different flavors, each with its own data model. The most common types of NoSQL databases are key-value stores, document stores, column-family stores, and graph databases.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Consistency Models:</strong> NoSQL databases offer various consistency models ranging from strong to eventual consistency. Strong consistency ensures that all nodes in the system have the same data at the same time, while eventual consistency ensures that all nodes will eventually have the same data.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Indexing:</strong> Just like with relational databases, NoSQL databases support indexing to make data faster to query. The most common types of indexes are B-Tree and Hash Table indexes.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Scalability:</strong> NoSQL databases scale horizontally by using <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="http://highscalability.com/blog/2023/2/22/consistent-hashing-algorithm.html#:~:text=Consistent%20hashing%20is%20a%20distributed,of%20nodes%20changes%20%5B4%5D." target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">consistent hashing</a> and/or <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://www.mongodb.com/features/database-sharding-explained#:~:text=Sharding%20is%20a%20method%20for,storage%20capacity%20of%20the%20system." target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">sharding</a> to distribute data across many servers.</div></li>
</ol>
<h5 class="MuiTypography-root MuiTypography-h6 mui-13de2kc" id="what-are-the-most-common-nosql-databases">What are the most common NoSQL databases?</h5>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">The most common NoSQL databases are <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://www.hellointerview.com/learn/system-design/deep-dives/dynamodb" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">DynamoDB</a>, <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://www.hellointerview.com/learn/system-design/deep-dives/cassandra" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Cassandra</a>, and <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://www.mongodb.com/" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">MongoDB</a>. DynamoDB is one of our favorites due to the breadth of features and how widely accepted it is, you can read our <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="/learn/system-design/deep-dives/dynamodb" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">DynamoDB deep-dive</a> to learn more. Cassandra is a good choice for write-heavy workloads due to its append-only storage model, but comes with some tradeoffs in functionality. We have a <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="/learn/system-design/deep-dives/cassandra" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Cassandra deep dive</a> to help you dig in.</div>
<h2 class="MuiTypography-root MuiTypography-h3 mui-1rzqq5q" id="blob-storage">Blob Storage</h2>
<h5 class="MuiTypography-root MuiTypography-h6 mui-13de2kc" id="what-is-blob-storage-and-when-should-you-use-it">What is blob storage and when should you use it?</h5>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Sometimes you'll need to store large, unstructured blobs of data. This could be images, videos, or other files. Storing these large blobs in a traditional database is both expensive and inefficient and should be avoided when possible. Instead, you should use a blob storage service like <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://aws.amazon.com/pm/serv-s3/" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Amazon S3</a> or <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://cloud.google.com/storage" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Google Cloud Storage</a>. These platforms are specifically designed for handling large blobs of data, and are much more cost effective than a traditional database.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Blob storage services are simple. You can upload a blob of data and that data is stored and get back a URL. You can then use this URL to download the blob of data. Often times blob storage services work in conjunction with CDNs, so you can get fast downloads from anywhere in the world. Upload a file/blob to blob storage which will act as your origin, and then use a CDN to cache the file/blob in edge locations around the world.</div>
<div class="my-6"><div class="MuiBox-root mui-o9fqh4"><div class="MuiBox-root mui-3t6lyr"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-6 h-6 heroicon-sw-2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"></path></svg></div><div class="MuiBox-root mui-79elbk"><div style="overflow: hidden; max-height: 300px;"><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Avoid using blob storage like S3 as your primary database unless you have a very good reason. In a typical setup you will have a core database like Postgres or DynamoDB that has pointers (just a url) to the blobs stored in S3. This allows you to use the database to query and index the data with very low latency, while still getting the benefits of cheap blob storage.</div></div></div></div></div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Here are some common examples of when to use blob storage:</div>
<ul class="MuiList-root MuiList-padding mui-sedpvs">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="/learn/system-design/problem-breakdown/youtube" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Design Youtube</a> -&gt; Store videos in blob storage, store metadata in a database.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Design Instagram -&gt; Store images &amp; videos in blob storage, store metadata in a database.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="/learn/system-design/problem-breakdown/dropbox" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Design Dropbox</a> -&gt; Store files in blob storage, store metadata in a database.</div></li>
</ul>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">A very common setup when dealing with large binary artifacts looks like this:</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><div class="MuiBox-root mui-10khgmf" style="cursor: pointer;"><div class="MuiGrid-root MuiGrid-container MuiGrid-direction-xs-column mui-1tdxmx0"><div class="MuiGrid-root MuiGrid-item mui-tolxbf"><div class="relative w-full"><button class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall mui-wksd04" tabindex="0" type="button" aria-label="zoom-in"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ZoomInIcon"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"></path><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"></path></svg><span class="MuiTouchRipple-root mui-w0pj6f"></span></button><span class="w-full h-full"><span class="block"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 924.6398230082814 429.70079874381366">
  <!-- svg-source:excalidraw -->
  <!-- payload-type:application/vnd.excalidraw+json --><!-- payload-version:2 -->
  <defs>
    <style class="style-fonts">
      
      
      
    </style>
    
  </defs>
  <rect x="0" y="0" width="924.6398230082814" height="429.70079874381366" fill="#ffffff"></rect><g stroke-linecap="round" transform="translate(34.09645695848667 275.8321576392298) rotate(0 60.72158669626015 42.31588000214083)"><path d="M21.16 0 C38.27 -2.16, 59.47 -0.21, 100.29 0 M21.16 0 C39.25 0.29, 58.55 -0.16, 100.29 0 M100.29 0 C115.97 -1.09, 121.06 7.28, 121.44 21.16 M100.29 0 C114.75 0.95, 122.95 7.48, 121.44 21.16 M121.44 21.16 C122.31 38.34, 122.4 53.24, 121.44 63.47 M121.44 21.16 C121.95 31.99, 120.66 44.34, 121.44 63.47 M121.44 63.47 C121.33 78.05, 113.74 83.39, 100.29 84.63 M121.44 63.47 C119.94 78.53, 112.29 82.8, 100.29 84.63 M100.29 84.63 C73.48 84.91, 47.24 84.76, 21.16 84.63 M100.29 84.63 C69.02 85.54, 36.99 84.63, 21.16 84.63 M21.16 84.63 C7.71 85.98, 1.4 78.45, 0 63.47 M21.16 84.63 C5.95 83.6, -0.6 79.63, 0 63.47 M0 63.47 C1.54 54.14, 1.97 46.35, 0 21.16 M0 63.47 C0.44 53.38, 0.66 44.57, 0 21.16 M0 21.16 C-0.47 5.26, 8.48 -1.38, 21.16 0 M0 21.16 C0.82 5.24, 9.33 1.5, 21.16 0" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(73.17805952388744 308.14803764137065) rotate(0 21.639984130859375 10)"><text x="21.639984130859375" y="0" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Client</text></g><g stroke-linecap="round"><g transform="translate(167.26546237533194 313.987550324958) rotate(0 44.683160133180536 0.9787916507292778)"><path d="M0.23 -0.78 C15.16 -0.41, 73.86 1.81, 88.62 2.38 M-1.1 1.42 C14.29 1.42, 76.13 0.6, 90.93 0.47" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(167.26546237533194 313.987550324958) rotate(0 44.683160133180536 0.9787916507292778)"><path d="M28.77 -10.05 C21.14 -9.19, 16.81 -6.84, 0.23 -0.78 M28.77 -10.05 C19.39 -7.25, 8.22 -3.29, 0.23 -0.78" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(167.26546237533194 313.987550324958) rotate(0 44.683160133180536 0.9787916507292778)"><path d="M28.05 10.46 C20.56 6.77, 16.39 4.56, 0.23 -0.78 M28.05 10.46 C18.88 5.93, 7.97 2.58, 0.23 -0.78" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(167.26546237533194 313.987550324958) rotate(0 44.683160133180536 0.9787916507292778)"><path d="M62.86 11.05 C67.77 7.39, 76.01 5.34, 90.93 0.47 M62.86 11.05 C73.64 6.69, 82.69 3.58, 90.93 0.47" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(167.26546237533194 313.987550324958) rotate(0 44.683160133180536 0.9787916507292778)"><path d="M62.63 -9.47 C67.62 -8.57, 75.9 -6.07, 90.93 0.47 M62.63 -9.47 C73.55 -6.5, 82.67 -2.29, 90.93 0.47" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(275.90950820253966 214.98017825142784) rotate(0 79.60821868216999 102.36031024619291)"><path d="M32 0 C63.11 -0.36, 93.97 1.08, 127.22 0 M32 0 C61.51 0.63, 91.55 0.93, 127.22 0 M127.22 0 C149.86 0.37, 160.99 11.64, 159.22 32 M127.22 0 C150.8 0.75, 160.06 11.52, 159.22 32 M159.22 32 C157.55 70.24, 157.78 104.09, 159.22 172.72 M159.22 32 C158.81 81.03, 158.49 131.71, 159.22 172.72 M159.22 172.72 C157.39 192.46, 149.27 204.21, 127.22 204.72 M159.22 172.72 C160.99 193.8, 148.17 204.87, 127.22 204.72 M127.22 204.72 C101.65 204.37, 75.96 203.24, 32 204.72 M127.22 204.72 C102.03 205.79, 74.96 204.91, 32 204.72 M32 204.72 C10.15 206.51, -1.51 192.79, 0 172.72 M32 204.72 C12.17 206.19, 0.2 196.01, 0 172.72 M0 172.72 C1.69 118.64, 0.62 63.52, 0 32 M0 172.72 C1.04 115.95, 0.69 59.77, 0 32 M0 32 C1.98 11.97, 11.59 0.83, 32 0 M0 32 C2.12 10.57, 12.13 0.24, 32 0" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(330.8377418383229 307.34048849762075) rotate(0 24.67998504638672 10)"><text x="24.67998504638672" y="0" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Server</text></g><g stroke-linecap="round" transform="translate(539.7425543327445 252.17851309013048) rotate(0 68.7420184982766 65.57355985397106)"><path d="M95.25 5.18 C104.53 7.87, 113.85 15.4, 120.48 22.6 C127.1 29.81, 132.26 39.23, 135.01 48.4 C137.76 57.57, 138.64 68.37, 136.98 77.63 C135.33 86.89, 130.86 96.47, 125.08 103.96 C119.29 111.46, 111.1 118.24, 102.28 122.6 C93.46 126.96, 82.26 129.39, 72.17 130.12 C62.08 130.86, 50.95 130.57, 41.74 127.02 C32.53 123.47, 23.35 116.05, 16.93 108.81 C10.5 101.56, 5.8 92.69, 3.19 83.58 C0.57 74.47, -0.27 63.62, 1.22 54.17 C2.71 44.72, 6.32 34.72, 12.12 26.9 C17.91 19.07, 27.31 11.63, 35.99 7.22 C44.67 2.82, 53.27 0.19, 64.19 0.46 C75.11 0.73, 94.36 6.8, 101.51 8.83 C108.67 10.87, 107.62 11.88, 107.12 12.66 M101.27 8.6 C110.19 11.8, 117.64 18.66, 123.57 26.31 C129.49 33.96, 134.7 45.01, 136.8 54.51 C138.9 64.01, 138.95 74.44, 136.15 83.32 C133.36 92.19, 126.78 100.48, 120.04 107.77 C113.3 115.06, 104.91 123.34, 95.72 127.06 C86.53 130.79, 74.62 130.58, 64.91 130.15 C55.21 129.71, 46.06 128.52, 37.49 124.45 C28.92 120.37, 19.3 113.65, 13.48 105.69 C7.67 97.73, 4.27 86.11, 2.6 76.67 C0.93 67.23, 0.92 58.09, 3.46 49.06 C6 40.03, 11.28 29.51, 17.84 22.48 C24.4 15.46, 33.94 10.86, 42.82 6.9 C51.7 2.94, 61.22 -1.25, 71.09 -1.29 C80.96 -1.34, 97.09 5.13, 102.05 6.62 C107.01 8.11, 101.34 6.33, 100.87 7.63" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(568.8246463334972 297.88456410481666) rotate(0 39.551979064941406 20)"><text x="39.551979064941406" y="0" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Core </text><text x="39.551979064941406" y="20" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Database</text></g><g stroke-linecap="round"><g transform="translate(448.48575422156864 318.3620336778501) rotate(0 41.47732989490942 0)"><path d="M-0.23 0.14 C13.47 0.33, 69.15 0.48, 83.14 0.5 M-1.81 -0.84 C11.66 -0.95, 68.09 -1.78, 82.29 -1.37" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(448.48575422156864 318.3620336778501) rotate(0 41.47732989490942 0)"><path d="M54.06 8.78 C65.03 5.3, 76.33 2.45, 82.29 -1.37 M54.06 8.78 C63.94 5.74, 72.32 2.55, 82.29 -1.37" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(448.48575422156864 318.3620336778501) rotate(0 41.47732989490942 0)"><path d="M54.14 -11.74 C64.97 -7.45, 76.24 -2.52, 82.29 -1.37 M54.14 -11.74 C64.18 -8.25, 72.53 -4.9, 82.29 -1.37" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g></g><mask></mask><g transform="translate(681.6438256506417 267.6268785642713) rotate(0 51.479957580566406 50)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Entity</text><text x="0" y="20" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- entityId</text><text x="0" y="40" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- name</text><text x="0" y="60" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- description</text><text x="0" y="80" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- s3ImageUrl</text></g><g stroke-linecap="round" transform="translate(524.0838055265403 47.9955479557602) rotate(0 79.26337765944254 71.33388812070997)"><path d="M113.64 7.28 C123.96 10.29, 134.28 18.36, 141.37 26.18 C148.45 34, 153.69 43.93, 156.13 54.2 C158.57 64.46, 158.55 77.61, 156.02 87.77 C153.49 97.93, 147.9 107.21, 140.98 115.15 C134.06 123.08, 124.71 130.86, 114.53 135.4 C104.34 139.93, 91.54 142.39, 79.88 142.34 C68.23 142.29, 54.92 139.63, 44.6 135.1 C34.28 130.57, 25.17 123.03, 17.95 115.17 C10.73 107.3, 3.99 97.67, 1.28 87.9 C-1.44 78.14, -0.96 66.72, 1.65 56.57 C4.26 46.41, 9.79 35.23, 16.95 26.96 C24.1 18.7, 34.11 11.59, 44.59 6.97 C55.08 2.35, 66.87 -1.53, 79.86 -0.77 C92.85 0, 114.18 8.51, 122.53 11.56 C130.89 14.6, 130.79 16.49, 129.97 17.51 M104.67 3.31 C115.1 5.65, 126.83 14.95, 134.88 22.19 C142.92 29.44, 148.91 37.1, 152.93 46.77 C156.95 56.44, 160.08 69.6, 159.02 80.22 C157.95 90.85, 152.56 102.1, 146.54 110.52 C140.52 118.93, 132.45 125.35, 122.91 130.73 C113.37 136.11, 100.73 141.5, 89.29 142.79 C77.84 144.08, 65.02 141.71, 54.26 138.46 C43.49 135.21, 33.06 130.77, 24.71 123.29 C16.35 115.82, 7.97 103.76, 4.12 93.6 C0.26 83.45, 0.14 72.59, 1.56 62.36 C2.99 52.14, 6.49 40.65, 12.65 32.25 C18.81 23.84, 28.8 17.14, 38.53 11.94 C48.26 6.75, 59.64 2.42, 71.02 1.08 C82.39 -0.26, 100.97 3.18, 106.77 3.92 C112.57 4.66, 106.3 4.16, 105.82 5.49" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(552.5075420439243 99.38876005791366) rotate(0 50.791969299316406 20)"><text x="50.791969299316406" y="0" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Blob </text><text x="50.791969299316406" y="20" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Storage (s3)</text></g><g stroke-linecap="round" transform="translate(63.29833183527626 55.4374397042925) rotate(0 55.91059528163669 52.09138825573311)"><path d="M65.74 -0.06 C74.43 0.92, 84.53 7.64, 91.59 13.36 C98.65 19.08, 104.8 26.26, 108.11 34.28 C111.41 42.3, 112.99 52.95, 111.42 61.49 C109.85 70.04, 104.92 79.06, 98.68 85.57 C92.45 92.08, 82.74 97.73, 73.99 100.53 C65.24 103.34, 55.37 103.81, 46.17 102.4 C36.98 101, 26.03 97.44, 18.83 92.08 C11.63 86.73, 5.97 78.55, 2.96 70.28 C-0.04 62.01, -0.92 51.17, 0.82 42.47 C2.57 33.76, 7.21 24.75, 13.44 18.05 C19.66 11.34, 27.73 4.64, 38.19 2.23 C48.64 -0.18, 68.37 2.63, 76.17 3.61 C83.97 4.58, 85.41 7.24, 84.98 8.08 M73.62 2.24 C82 4.36, 91.86 12.89, 97.87 19.42 C103.89 25.95, 107.74 32.95, 109.71 41.42 C111.68 49.88, 112.54 61.65, 109.68 70.21 C106.82 78.78, 99.53 87.48, 92.54 92.83 C85.56 98.17, 76.77 100.79, 67.77 102.29 C58.78 103.8, 47.42 104.59, 38.57 101.85 C29.72 99.12, 20.7 92.3, 14.67 85.88 C8.65 79.45, 4.41 72.01, 2.43 63.29 C0.45 54.58, -0.24 42.2, 2.77 33.58 C5.78 24.96, 13.27 17.24, 20.48 11.6 C27.69 5.95, 36.78 1.02, 46.01 -0.27 C55.23 -1.55, 71.05 3.09, 75.82 3.89 C80.6 4.69, 74.98 3.87, 74.66 4.52" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(102.6301825936184 97.69465408297543) rotate(0 16.543983459472656 10)"><text x="16.543983459472656" y="0" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">CDN</text></g><g transform="translate(10 10) rotate(0 115.79193115234375 20)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- caches frequently accessed</text><text x="0" y="20" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">resources close to user</text></g><g stroke-linecap="round"><g transform="translate(112.07164849500387 170.88045840031043) rotate(0 -5.845274743544728 45.304253258887485)"><path d="M-1.11 -0.72 C-2.8 14.34, -8.77 74.69, -10.61 90.02 M0.5 1.51 C-1.2 16.76, -8.71 76.62, -10.99 91.24" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(112.07164849500387 170.88045840031043) rotate(0 -5.845274743544728 45.304253258887485)"><path d="M-17.3 61.92 C-16.97 71.37, -15.11 76.38, -10.99 91.24 M-17.3 61.92 C-15.41 71.63, -13.51 83.01, -10.99 91.24" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(112.07164849500387 170.88045840031043) rotate(0 -5.845274743544728 45.304253258887485)"><path d="M3.03 64.72 C-1.89 73.26, -5.3 77.54, -10.99 91.24 M3.03 64.72 C-2.26 73.49, -7.53 83.88, -10.99 91.24" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(506.7453472225352 121.88051805105425) rotate(0 -160.0859558571301 -7.662515843718012)"><path d="M1.08 -0.59 C-52.17 -2.92, -267.09 -12.28, -320.64 -14.69 M0.19 1.71 C-53.16 -0.9, -268.3 -13.93, -321.84 -16.48" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(506.7453472225352 121.88051805105425) rotate(0 -160.0859558571301 -7.662515843718012)"><path d="M-293.13 -25.18 C-300.12 -23.9, -304.03 -21.43, -321.84 -16.48 M-293.13 -25.18 C-303.09 -22.13, -312.64 -20.53, -321.84 -16.48" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(506.7453472225352 121.88051805105425) rotate(0 -160.0859558571301 -7.662515843718012)"><path d="M-294.25 -4.69 C-300.89 -7.67, -304.56 -9.44, -321.84 -16.48 M-294.25 -4.69 C-303.79 -8.26, -312.97 -13.29, -321.84 -16.48" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(450.91169353119767 264.488229633378) rotate(0 46.72420845306988 -35.230170270640116)"><path d="M-0.47 0.63 C14.91 -10.96, 77.79 -58.21, 93.38 -70.18 M1.48 -0.08 C16.61 -12.01, 77.3 -60.45, 92.4 -72.15" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(450.91169353119767 264.488229633378) rotate(0 46.72420845306988 -35.230170270640116)"><path d="M15.87 -24.52 C10.43 -14.88, 3.46 -5.6, -0.47 0.63 M15.87 -24.52 C10.91 -19.26, 8.29 -12.73, -0.47 0.63" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(450.91169353119767 264.488229633378) rotate(0 46.72420845306988 -35.230170270640116)"><path d="M28.22 -8.13 C18.04 -4.93, 6.25 -2.05, -0.47 0.63 M28.22 -8.13 C20.42 -6.72, 14.87 -4.09, -0.47 0.63" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(450.91169353119767 264.488229633378) rotate(0 46.72420845306988 -35.230170270640116)"><path d="M76.61 -46.65 C83.95 -56.65, 89.53 -67.15, 92.4 -72.15 M76.61 -46.65 C79.62 -53.58, 84.65 -59.11, 92.4 -72.15" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(450.91169353119767 264.488229633378) rotate(0 46.72420845306988 -35.230170270640116)"><path d="M63.91 -62.76 C76.13 -66.43, 86.66 -70.63, 92.4 -72.15 M63.91 -62.76 C69.83 -65.91, 77.89 -67.61, 92.4 -72.15" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g></g><mask></mask><g mask="url(#mask-qASUWA-vXcxdZT9BMhCWV)" stroke-linecap="round"><g transform="translate(790.2576239057535 358.34910171677217) rotate(0 -26.006877921658088 -111.11870126712228)"><path d="M-0.07 0.28 C8.34 -18.77, 67.19 -76.68, 50 -113.69 C32.81 -150.69, -77.6 -203.49, -103.19 -221.74 M-1.56 -0.62 C6.7 -19.59, 65.37 -75.34, 48.85 -112.54 C32.32 -149.74, -75.26 -205.48, -100.7 -223.82" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(790.2576239057535 358.34910171677217) rotate(0 -26.006877921658088 -111.11870126712228)"><path d="M-71.34 -217.66 C-78.56 -219.94, -87.93 -222.19, -100.7 -223.82 M-71.34 -217.66 C-80.95 -220.25, -90.57 -222.21, -100.7 -223.82" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(790.2576239057535 358.34910171677217) rotate(0 -26.006877921658088 -111.11870126712228)"><path d="M-82.17 -200.23 C-86.66 -207.04, -93.2 -213.85, -100.7 -223.82 M-82.17 -200.23 C-87.92 -208.69, -93.84 -216.6, -100.7 -223.82" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g></g><mask id="mask-qASUWA-vXcxdZT9BMhCWV"><rect x="0" y="0" fill="#fff" width="1043.0518607177974" height="680.5865042510168"></rect><rect x="766.6559057719533" y="225.4077635471209" fill="#000" width="147.98391723632812" height="40" opacity="1"></rect></mask><g transform="translate(766.6559057719533 225.40776354712102) rotate(0 -1.4276424702090935 21.1715793785836)"><text x="73.99195861816406" y="0" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Points to resource</text><text x="73.99195861816406" y="20" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">in s3</text></g><g transform="translate(460.9707590230437 17.45576612657922) rotate(0 140.639892578125 10)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">- stores blobs like media, files, etc.</text></g><g stroke-linecap="round"><g transform="translate(160.73920952665154 268.69129409378775) rotate(0 174.37042911374448 -61.81888486094047)"><path d="M-0.85 0.54 C24.12 -14.37, 92.35 -70.08, 150.45 -90.59 C208.55 -111.1, 314.59 -117.16, 347.75 -122.52 M0.91 -0.23 C25.74 -14.85, 91.79 -68.5, 149.99 -89.17 C208.19 -109.85, 316.79 -118.33, 350.12 -124.28" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(160.73920952665154 268.69129409378775) rotate(0 174.37042911374448 -61.81888486094047)"><path d="M323.55 -110.36 C334.02 -113.58, 342.18 -121.73, 350.12 -124.28 M323.55 -110.36 C333.57 -115.3, 344.33 -121.74, 350.12 -124.28" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(160.73920952665154 268.69129409378775) rotate(0 174.37042911374448 -61.81888486094047)"><path d="M320.82 -130.7 C332.07 -126.67, 341.2 -127.58, 350.12 -124.28 M320.82 -130.7 C332.02 -127.67, 343.86 -126.12, 350.12 -124.28" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g></g><mask></mask><g transform="translate(192.6324115041407 143.7410243719068) rotate(0 44.83995056152344 25)"><text x="44.83995056152344" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Presigned</text><text x="44.83995056152344" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Uploads</text></g></svg></span></span></div></div><div class="MuiGrid-root MuiGrid-item mui-1wxaqej"><span class="MuiTypography-root MuiTypography-caption mui-17cupi8">Basic Blob Storage Example</span></div></div></div></div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">To upload:</div>
<ul class="MuiList-root MuiList-padding mui-sedpvs">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">When clients want to upload a file, they request a presigned URL from the server.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">The server returns a presigned URL to the client, recording it in the database.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">The client uploads the file to the presigned URL.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">The blob storage triggers a notification to the server that the upload is complete and the status is updated.</div></li>
</ul>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">To download:</div>
<ul class="MuiList-root MuiList-padding mui-sedpvs">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">The client requests a specific file from the server and are returned a presigned URL.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">The client uses the presigned URL to download the file via the CDN, which proxies the request to the underlying blob storage.</div></li>
</ul>
<h5 class="MuiTypography-root MuiTypography-h6 mui-13de2kc" id="things-you-should-know-about-blob-storage">Things you should know about blob storage</h5>
<ol style="list-style: outside decimal;">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Durability</strong>: Blob storage services are designed to be incredibly durable. They use techniques like replication and erasure coding to ensure that your data is safe even if a disk or server fails.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Scalability</strong>: Hosted blob storage solutions like AWS S3 can be considered infinitely scalable. They can store an unlimited amount of data and can handle an unlimited number of requests (obviously within the limits of your account). As a result, in your interview, you don't need to explicitly consider the scalability of blob storage services -- consider this as a given.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Cost</strong>: Blob storage services are designed to be cost effective. They are much cheaper than storing large blobs of data in a traditional database. For example, AWS S3 charges $0.023 per GB per month for the first 50 TB of storage. This is much cheaper than storing the same data in a database like DynamoDB, which charges $1.25 per GB per month for the first 10 TB of storage.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Security</strong>: Blob storage services have built-in security features like encryption at rest and in transit. They also have access control features that allow you to control who can access your data.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Upload and Download Directly from the Client</strong>: Blob storage services allow you to upload and download blobs directly from the client. This is useful for applications that need to store and retrieve large blobs of data, like images or videos. Familiarize yourself with presigned URLs and how they can be used to grant temporary access to a blob -- either for upload or download.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Chunking</strong>: When uploading large files, it's common to use chunking to upload the file in smaller pieces. This allows you to resume an upload if it fails partway through, and it also allows you to upload the file in parallel. This is especially useful for large files, where uploading the entire file at once might take a long time. Modern blob storage services like S3 support chunking out of the box via the <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/mpuoverview.html" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">multipart upload API</a>.</div></li>
</ol>
<h5 class="MuiTypography-root MuiTypography-h6 mui-13de2kc" id="examples-of-blob-storage-services">Examples of blob storage services</h5>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">The most popular blob storage services are <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://aws.amazon.com/s3/" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Amazon S3</a>, <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://cloud.google.com/storage" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Google Cloud Storage</a>, and <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://azure.microsoft.com/en-us/products/storage/blobs" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Azure Blob</a>. All of these services are designed to be fast, durable, and cost effective. They also have a range of features like versioning, lifecycle policies, and access control. They are used by companies like Netflix, Airbnb, and Spotify to store large blobs of data like images, videos, and files.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">If you don't have experience with them, opt for S3 as it's the most popular and widely understood by interviewers - even non-S3 platforms often have an S3-compatible API.</div>
<h2 class="MuiTypography-root MuiTypography-h3 mui-1rzqq5q" id="search-optimized-database">Search Optimized Database</h2>
<h5 class="MuiTypography-root MuiTypography-h6 mui-13de2kc" id="what-is-a-search-optimized-database-and-when-should-you-use-it">What is a search optimized database and when should you use it?</h5>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Sometimes you're tasked with implementing full-text search as a feature of your design. Full-text search is the ability to search through a large amount of text data and find relevant results. This is different from a traditional database query, which is usually based on exact matches or ranges. Without a search optimized database, you would need to run a query that looks something like this:</div>
<pre><div class="MuiBox-root mui-xnilmx"><div class="MuiBox-root mui-v2ritd"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-4 h-4  cursor-pointer" aria-label="Copy"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg></div><div style="background: rgb(250, 250, 250); color: rgb(56, 58, 66); font-family: &quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; line-height: 1.5; tab-size: 2; hyphens: none; padding: 1em; margin: 0px; overflow: auto; border-radius: 0.375rem; border: none;"><code font-size="18" style="white-space: pre;"><span class="token" style="color: rgb(166, 38, 164);">SELECT</span><span> </span><span class="token" style="color: rgb(64, 120, 242);">*</span><span> </span><span class="token" style="color: rgb(166, 38, 164);">FROM</span><span> documents </span><span class="token" style="color: rgb(166, 38, 164);">WHERE</span><span> document_text </span><span class="token" style="color: rgb(64, 120, 242);">LIKE</span><span> </span><span class="token" style="color: rgb(80, 161, 79);">'%search_term%'</span></code></div></div></pre>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">This query is slow and inefficient, and it doesn't scale well because it requires a full table scan. That means the database has to grab each record and test it against your predicate rather than relying on an index or lookup. Slow!</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Search optimized databases, on the other hand, are specifically designed to handle full-text search. They use techniques like indexing, tokenization, and stemming to make search queries fast and efficient. In short, they work by building what are called <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="/learn/system-design/deep-dives/elasticsearch#lucene-segment-features" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">inverted indexes</a>. Inverted indexes are a data structure that maps from words to the documents that contain them. This allows you to quickly find documents that contain a given word. A simple example of an inverted index might look like this:</div>
<pre><div class="MuiBox-root mui-xnilmx"><div class="MuiBox-root mui-v2ritd"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-4 h-4  cursor-pointer" aria-label="Copy"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg></div><div style="background: rgb(250, 250, 250); color: rgb(56, 58, 66); font-family: &quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; line-height: 1.5; tab-size: 2; hyphens: none; padding: 1em; margin: 0px; overflow: auto; border-radius: 0.375rem; border: none;"><code font-size="18" style="white-space: pre;"><span class="token" style="color: rgb(56, 58, 66);">{</span><span>
</span><span>  </span><span class="token" style="color: rgb(228, 86, 73);">"word1"</span><span class="token" style="color: rgb(64, 120, 242);">:</span><span> </span><span class="token" style="color: rgb(56, 58, 66);">[</span><span>doc1</span><span class="token" style="color: rgb(56, 58, 66);">,</span><span> doc2</span><span class="token" style="color: rgb(56, 58, 66);">,</span><span> doc3</span><span class="token" style="color: rgb(56, 58, 66);">]</span><span class="token" style="color: rgb(56, 58, 66);">,</span><span>
</span><span>  </span><span class="token" style="color: rgb(228, 86, 73);">"word2"</span><span class="token" style="color: rgb(64, 120, 242);">:</span><span> </span><span class="token" style="color: rgb(56, 58, 66);">[</span><span>doc2</span><span class="token" style="color: rgb(56, 58, 66);">,</span><span> doc3</span><span class="token" style="color: rgb(56, 58, 66);">,</span><span> doc4</span><span class="token" style="color: rgb(56, 58, 66);">]</span><span class="token" style="color: rgb(56, 58, 66);">,</span><span>
</span><span>  </span><span class="token" style="color: rgb(228, 86, 73);">"word3"</span><span class="token" style="color: rgb(64, 120, 242);">:</span><span> </span><span class="token" style="color: rgb(56, 58, 66);">[</span><span>doc1</span><span class="token" style="color: rgb(56, 58, 66);">,</span><span> doc3</span><span class="token" style="color: rgb(56, 58, 66);">,</span><span> doc4</span><span class="token" style="color: rgb(56, 58, 66);">]</span><span>
</span><span></span><span class="token" style="color: rgb(56, 58, 66);">}</span></code></div></div></pre>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Now, instead of scanning the entire table, the database can quickly look up the word in the query and find all the matching documents. Fast!</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Examples of search optimized databases are straightforward, consider an application like Ticketmaster that needs to search through a large number of events to find relevant results. Or a social media platform like Twitter that needs to search through a large number of tweets to find relevant results. In either case, a search optimized database would be an optimal choice.</div>
<h5 class="MuiTypography-root MuiTypography-h6 mui-13de2kc" id="things-you-should-know-about-search-optimized-databases">Things you should know about search optimized databases</h5>
<ol style="list-style: outside decimal;">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Inverted Indexes</strong>: As just mentioned, search optimized databases use inverted indexes to make search queries fast and efficient. An inverted index is a data structure that maps from words to the documents that contain them. This allows you to quickly find documents that contain a given word.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Tokenization</strong>: Tokenization is the process of breaking a piece of text into individual words. This allows you to map from words to documents in the inverted index.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Stemming</strong>: Stemming is the process of reducing words to their root form. This allows you to match different forms of the same word. For example, "running" and "runs" would both be reduced to "run".</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Fuzzy Search</strong>: Fuzzy search is the ability to find results that are similar to a given search term. Most search optimized databases support fuzzy search out of the box as a configuration option. In short, this works by using algorithms that can tolerate slight misspellings or variations in the search term. This is achieved through techniques like edit distance calculation, which measures how many letters need to be changed, added, or removed to transform one word into another.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Scaling</strong>: Just like traditional databases, search optimized databases scale by adding more nodes to a cluster and sharding data across those nodes.</div></li>
</ol>
<h5 class="MuiTypography-root MuiTypography-h6 mui-13de2kc" id="examples-of-search-optimized-databases">Examples of search optimized databases</h5>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">The clear leader in this space is <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://www.elastic.co/elasticsearch/" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Elasticsearch</a>. You can learn more in our <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="/learn/system-design/deep-dives/elasticsearch" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Elasticsearch deep dive</a>, but in short: Elasticsearch is a distributed, RESTful search and analytics engine that is built on top of Apache Lucene. It is designed to be fast, scalable, and easy to use, and is the most popular search optimized database and is used by companies like Netflix, Uber, and Yelp.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Other options for search optimized databases include using full-text search capabilities of your database. Postgres has <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="/learn/system-design/deep-dives/postgres#beyond-basic-indexes" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">GIN indexes which support full-text search</a> and Redis has a (in my opinion, quite immature and bad) full-text search capability](<a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://redis.io/docs/latest/develop/interact/search-and-query/" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">https://redis.io/docs/latest/develop/interact/search-and-query/</a>). Using your existing database can be a good idea to reduce the footprint of your design, but knowing about these features are essential!</div>
<h2 class="MuiTypography-root MuiTypography-h3 mui-1rzqq5q" id="api-gateway">API Gateway</h2>
<h5 class="MuiTypography-root MuiTypography-h6 mui-13de2kc" id="what-is-an-api-gateway-and-when-should-you-use-it">What is an API gateway and when should you use it?</h5>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Especially in a microservice architecture, an API gateway sits in front of your system and is responsible for routing incoming requests to the appropriate backend service. For example, if the system receives a request to <span class="MuiBox-root mui-1vu004u">GET /users/123</span>, the API gateway would route that request to the <span class="MuiBox-root mui-1vu004u">users</span> service and return the response to the client. The gateway is also typically also responsible for handling cross-cutting concerns like authentication, rate limiting, and logging.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">In nearly all product design style system design interviews, it is a good idea to include an API gateway in your design as the first point of contact for your clients.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><div class="MuiBox-root mui-10khgmf" style="cursor: pointer;"><div class="MuiGrid-root MuiGrid-container MuiGrid-direction-xs-column mui-1tdxmx0"><div class="MuiGrid-root MuiGrid-item mui-tolxbf"><div class="relative w-full"><button class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall mui-wksd04" tabindex="0" type="button" aria-label="zoom-in"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ZoomInIcon"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"></path><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"></path></svg><span class="MuiTouchRipple-root mui-w0pj6f"></span></button><span class="w-full h-full"><span class="block"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 615.2290728467134 441.6385131282856">
  <!-- svg-source:excalidraw -->
  <!-- payload-type:application/vnd.excalidraw+json --><!-- payload-version:2 -->
  <defs>
    <style class="style-fonts">
      
      
      
    </style>
    
  </defs>
  <rect x="0" y="0" width="615.2290728467134" height="441.6385131282856" fill="#ffffff"></rect><g stroke-linecap="round" transform="translate(10 177.886715214883) rotate(0 66.19516930746317 47.01093044671944)"><path d="M23.51 0 C54.96 -0.95, 90.18 -0.05, 108.88 0 M23.51 0 C41.86 0.54, 60.67 -0.65, 108.88 0 M108.88 0 C123.44 1.29, 133.9 7.58, 132.39 23.51 M108.88 0 C126.04 1.54, 134.23 8.53, 132.39 23.51 M132.39 23.51 C133.99 36.04, 134.75 50.7, 132.39 70.52 M132.39 23.51 C131.3 37.89, 133.07 53.4, 132.39 70.52 M132.39 70.52 C131.96 84.89, 123.61 94.28, 108.88 94.02 M132.39 70.52 C131.15 87.76, 122.72 94.53, 108.88 94.02 M108.88 94.02 C87.06 93.24, 66.44 95.38, 23.51 94.02 M108.88 94.02 C90.05 93.88, 69.4 95.1, 23.51 94.02 M23.51 94.02 C8.67 95.72, -0.6 84.53, 0 70.52 M23.51 94.02 C7.3 92, 2.09 84.13, 0 70.52 M0 70.52 C-0.42 52.08, -0.08 37.39, 0 23.51 M0 70.52 C-1.18 58.74, 0.3 45.81, 0 23.51 M0 23.51 C-1.97 7.83, 9.72 1.49, 23.51 0 M0 23.51 C-1.22 8.68, 8.55 -0.63, 23.51 0" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(49.14519677328349 212.39764566160244) rotate(0 27.049972534179688 12.5)"><text x="27.049972534179688" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Client</text></g><g stroke-linecap="round"><g transform="translate(155.6919009015561 222.46915359052332) rotate(0 29.914092406361988 -0.028522547812201537)"><path d="M0.12 -0.92 C10.22 -1.05, 50.4 -0.38, 60.22 -0.14 M-1.28 1.21 C8.74 1.22, 49.01 1.81, 59.47 1.36" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(155.6919009015561 222.46915359052332) rotate(0 29.914092406361988 -0.028522547812201537)"><path d="M31.47 11.89 C37.29 9.72, 46.11 4.91, 59.47 1.36 M31.47 11.89 C40.76 9.07, 51.81 4.63, 59.47 1.36" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(155.6919009015561 222.46915359052332) rotate(0 29.914092406361988 -0.028522547812201537)"><path d="M31.25 -8.57 C37.24 -5.32, 46.11 -4.72, 59.47 1.36 M31.25 -8.57 C40.43 -4.27, 51.56 -1.59, 59.47 1.36" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(227.7830055827268 93.48694940740143) rotate(0 50.98453447830343 130.97737750904975)"><path d="M25.49 0 C41.15 -1.54, 58.03 -2, 76.48 0 M25.49 0 C37.95 -0.45, 49.55 0.34, 76.48 0 M76.48 0 C95.07 0.61, 101.34 10.26, 101.97 25.49 M76.48 0 C91.87 1.37, 101.87 10.73, 101.97 25.49 M101.97 25.49 C102.24 107.91, 101.63 194.95, 101.97 236.46 M101.97 25.49 C101.15 98.66, 101.09 172.2, 101.97 236.46 M101.97 236.46 C100.37 253.9, 92.26 263.05, 76.48 261.95 M101.97 236.46 C103.05 251.85, 92.12 260.13, 76.48 261.95 M76.48 261.95 C59.34 263.93, 40.23 262.28, 25.49 261.95 M76.48 261.95 C56.69 261.56, 37.27 261.51, 25.49 261.95 M25.49 261.95 C10.31 260.17, 1.39 253.21, 0 236.46 M25.49 261.95 C10.21 261.4, -1.23 253.29, 0 236.46 M0 236.46 C-0.24 155.06, 1.79 77.54, 0 25.49 M0 236.46 C2.66 171.63, 1.37 105.81, 0 25.49 M0 25.49 C0.63 7.95, 9.95 -0.48, 25.49 0 M0 25.49 C0.6 10.21, 7.34 -1.04, 25.49 0" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(235.63756569579584 199.46432691645117) rotate(0 43.129974365234375 25.00000000000003)"><text x="43.129974365234375" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">API</text><text x="43.129974365234375" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Gateway</text></g><g stroke-linecap="round" transform="translate(451.87031822928054 10) rotate(0 74.1504081439274 55.89796028417942)"><path d="M27.95 0 C47.89 -0.26, 71.94 2.36, 120.35 0 M27.95 0 C55.31 -0.32, 80.76 0.26, 120.35 0 M120.35 0 C137.6 1.19, 148.22 11.26, 148.3 27.95 M120.35 0 C141.23 0.3, 147.12 9.36, 148.3 27.95 M148.3 27.95 C149.04 39.54, 146.82 51.05, 148.3 83.85 M148.3 27.95 C147.2 45.67, 147.39 63.5, 148.3 83.85 M148.3 83.85 C149.24 101.08, 137.81 110.21, 120.35 111.8 M148.3 83.85 C149.4 100.92, 138.92 112.47, 120.35 111.8 M120.35 111.8 C85.09 112.78, 48.24 111.35, 27.95 111.8 M120.35 111.8 C101.18 110.09, 80.89 110.86, 27.95 111.8 M27.95 111.8 C10.8 111.31, -1.07 102.34, 0 83.85 M27.95 111.8 C11.15 110.97, 2.25 101.29, 0 83.85 M0 83.85 C-0.14 69.15, -0.36 60.28, 0 27.95 M0 83.85 C0.61 62.64, 1.02 41.74, 0 27.95 M0 27.95 C0.52 10.81, 8.31 -0.9, 27.95 0 M0 27.95 C1.86 11.32, 7.27 1.15, 27.95 0" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(463.20078771353985 40.89796028417942) rotate(0 62.81993865966797 25)"><text x="62.81993865966797" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Microservice </text><text x="62.81993865966797" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">#1</text></g><g stroke-linecap="round" transform="translate(453.92446053047627 162.0710448080149) rotate(0 74.1504081439274 55.89796028417942)"><path d="M27.95 0 C50.29 0.6, 74.47 0.9, 120.35 0 M27.95 0 C57.79 -0.22, 88.97 0.16, 120.35 0 M120.35 0 C140.94 0.26, 147.28 9.35, 148.3 27.95 M120.35 0 C137.03 -0.76, 150.42 10.38, 148.3 27.95 M148.3 27.95 C148.2 42.44, 149.3 57.48, 148.3 83.85 M148.3 27.95 C148.43 45.25, 147.37 63.15, 148.3 83.85 M148.3 83.85 C149.26 101.12, 138.93 112.39, 120.35 111.8 M148.3 83.85 C150.59 101.57, 139.37 113.69, 120.35 111.8 M120.35 111.8 C87.12 111.06, 55.45 113.33, 27.95 111.8 M120.35 111.8 C101.63 111.44, 80.88 111.61, 27.95 111.8 M27.95 111.8 C10.91 111.07, 1.96 101.44, 0 83.85 M27.95 111.8 C7.65 113.25, 1.74 102.72, 0 83.85 M0 83.85 C1.49 71.53, 0.74 61.95, 0 27.95 M0 83.85 C-0.15 69.35, -0.91 52.92, 0 27.95 M0 27.95 C1.62 11.06, 7.53 1, 27.95 0 M0 27.95 C1.38 10.6, 8.23 1.73, 27.95 0" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(465.2549300147358 192.96900509219432) rotate(0 62.81993865966797 25)"><text x="62.81993865966797" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Microservice </text><text x="62.81993865966797" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">#2</text></g><g stroke-linecap="round" transform="translate(456.9282565588586 319.84259255992674) rotate(0 74.1504081439274 55.89796028417942)"><path d="M27.95 0 C62.25 -1.37, 97.09 -2.13, 120.35 0 M27.95 0 C62.14 -0.77, 93.86 -0.88, 120.35 0 M120.35 0 C137.29 -0.66, 150.14 10.24, 148.3 27.95 M120.35 0 C138.49 -1.49, 147.21 9.62, 148.3 27.95 M148.3 27.95 C149.12 40.5, 149.78 56.41, 148.3 83.85 M148.3 27.95 C148.45 40.13, 147.95 53.97, 148.3 83.85 M148.3 83.85 C150.29 101.69, 139.32 113.44, 120.35 111.8 M148.3 83.85 C149.26 104.43, 138.3 109.89, 120.35 111.8 M120.35 111.8 C92.99 114.02, 68.95 114.12, 27.95 111.8 M120.35 111.8 C95.66 111.37, 70.34 111.21, 27.95 111.8 M27.95 111.8 C7.87 113.06, 1.51 102.69, 0 83.85 M27.95 111.8 C7.05 111.79, 2.17 104.19, 0 83.85 M0 83.85 C-0.75 71.49, -0.69 56.75, 0 27.95 M0 83.85 C1.09 63.79, -0.61 42.48, 0 27.95 M0 27.95 C1.2 10.43, 8.37 1.5, 27.95 0 M0 27.95 C2.1 8.45, 7.78 -0.45, 27.95 0" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(468.2587260431179 350.7405528441061) rotate(0 62.81993865966797 25)"><text x="62.81993865966797" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Microservice </text><text x="62.81993865966797" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">#3</text></g><g stroke-linecap="round"><g transform="translate(344.5181577647653 180.62284003828904) rotate(0 48.76007384560137 -46.89431394137432)"><path d="M-0.83 0.71 C15.47 -14.9, 80.88 -76.9, 97.47 -92.62 M0.93 0.04 C17.11 -15.36, 80.23 -78.75, 96.5 -94.13" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(344.5181577647653 180.62284003828904) rotate(0 48.76007384560137 -46.89431394137432)"><path d="M83.51 -67.09 C87.95 -74.34, 92.19 -79.56, 96.5 -94.13 M83.51 -67.09 C86.87 -75.88, 92.7 -83.56, 96.5 -94.13" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(344.5181577647653 180.62284003828904) rotate(0 48.76007384560137 -46.89431394137432)"><path d="M69.17 -81.76 C77.58 -84.97, 85.68 -86.26, 96.5 -94.13 M69.17 -81.76 C76.93 -85.96, 87.26 -89.05, 96.5 -94.13" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(346.79939117463607 237.11691448273996) rotate(0 48.029769484748954 -7.57142400968479)"><path d="M-0.05 1.17 C16.29 -1.45, 81.32 -12.27, 97.23 -14.99 M-1.54 0.73 C14.83 -1.73, 80.92 -10.95, 96.9 -13.37" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(346.79939117463607 237.11691448273996) rotate(0 48.029769484748954 -7.57142400968479)"><path d="M70.47 0.82 C78.42 -0.48, 82.83 -6.73, 96.9 -13.37 M70.47 0.82 C79.48 -2.91, 86.32 -8.3, 96.9 -13.37" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(346.79939117463607 237.11691448273996) rotate(0 48.029769484748954 -7.57142400968479)"><path d="M67.53 -19.49 C76.28 -16.11, 81.37 -17.68, 96.9 -13.37 M67.53 -19.49 C77.26 -17.08, 84.99 -16.35, 96.9 -13.37" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(348.8225665064673 301.27531384497024) rotate(0 47.69945514485812 33.0391757314228)"><path d="M1.17 0.16 C16.98 10.98, 79.25 55.18, 94.78 66.1 M0.33 -0.81 C16.54 10.73, 81.1 56.38, 97.17 67.65" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(348.8225665064673 301.27531384497024) rotate(0 47.69945514485812 33.0391757314228)"><path d="M68.22 59.8 C77.12 60.81, 85.46 62.46, 97.17 67.65 M68.22 59.8 C75.81 61.11, 83.28 63.99, 97.17 67.65" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(348.8225665064673 301.27531384497024) rotate(0 47.69945514485812 33.0391757314228)"><path d="M80.04 43.02 C85.61 49.11, 90.45 55.73, 97.17 67.65 M80.04 43.02 C84.63 48.87, 88.94 56.23, 97.17 67.65" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g></g><mask></mask></svg></span></span></div></div><div class="MuiGrid-root MuiGrid-item mui-1wxaqej"><span class="MuiTypography-root MuiTypography-caption mui-17cupi8">API Gateway</span></div></div></div></div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">You're free to read more in our <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="/learn/system-design/deep-dives/api-gateway" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">API Gateway deep dive</a>, but note that interviewers rarely get into detail of the API gateway, they'll usually want to ask questions which are more specific to the problem at hand.</div>
<h5 class="MuiTypography-root MuiTypography-h6 mui-13de2kc" id="what-are-the-most-common-api-gateways">What are the most common API gateways?</h5>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">The most common API gateways are <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://aws.amazon.com/api-gateway/" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">AWS API Gateway</a>, <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://konghq.com/kong/" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Kong</a>, and <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://cloud.google.com/apigee" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Apigee</a>. It's also not uncommon to have an <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://nginx.org/" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">nginx</a> or <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://httpd.apache.org/" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Apache webserver</a> as your API gateway (in the early days of Amazon a gigantic fleet of Apache webservers served this purpose).</div>
<h2 class="MuiTypography-root MuiTypography-h3 mui-1rzqq5q" id="load-balancer">Load Balancer</h2>
<h5 class="MuiTypography-root MuiTypography-h6 mui-13de2kc" id="what-is-a-load-balancer-and-when-should-you-use-it">What is a load balancer and when should you use it?</h5>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Most system design problems will require you to design a system that can handle a large amount of traffic. When you have a large amount of traffic, you will need to distribute that traffic across multiple machines (called horizontal scaling) to avoid overloading any single machine or creating a hotspot. This is where a load balancer comes in. For the purposes of an interview, you can assume that your load balancer is a black box that will distribute work across your system.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">The reality is that you need a load balancer wherever you have multiple machines capable of handling the same request. However, in an interview, it can be redundant to draw a load balancer in front of every service. Instead, either omit a load balancer from your design altogether (and just mention that the services are horizontally scaled) or add one only to the front of the design as an abstraction.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><div class="MuiBox-root mui-10khgmf" style="cursor: pointer;"><div class="MuiGrid-root MuiGrid-container MuiGrid-direction-xs-column mui-1tdxmx0"><div class="MuiGrid-root MuiGrid-item mui-tolxbf"><div class="relative w-full"><button class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall mui-wksd04" tabindex="0" type="button" aria-label="zoom-in"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ZoomInIcon"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"></path><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"></path></svg><span class="MuiTouchRipple-root mui-w0pj6f"></span></button><span class="w-full h-full"><span class="block"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 703.6953125 355.7421875">
  <!-- svg-source:excalidraw -->
  <!-- payload-type:application/vnd.excalidraw+json --><!-- payload-version:2 -->
  <defs>
    <style class="style-fonts">
      
      
      
    </style>
    
  </defs>
  <rect x="0" y="0" width="703.6953125" height="355.7421875" fill="#ffffff"></rect><g stroke-linecap="round" transform="translate(10 118.53125) rotate(0 56.505859375 56.505859375)"><path d="M44.12 0.62 C52.77 -2.12, 65.38 -0.57, 74.24 2.32 C83.09 5.2, 90.85 11.04, 97.24 17.92 C103.63 24.8, 110.38 34.21, 112.58 43.59 C114.77 52.98, 113.27 65.17, 110.41 74.22 C107.56 83.28, 102.4 91.67, 95.44 97.94 C88.47 104.21, 78.04 109.76, 68.62 111.86 C59.2 113.96, 47.81 113.41, 38.94 110.53 C30.06 107.65, 21.59 101.45, 15.37 94.56 C9.15 87.67, 3.82 78.48, 1.63 69.19 C-0.56 59.9, -0.55 47.72, 2.25 38.84 C5.04 29.96, 10.49 22.16, 18.41 15.89 C26.33 9.63, 43.55 3.76, 49.77 1.25 C55.98 -1.25, 55.44 0.2, 55.68 0.86 M79.35 5.39 C87.9 7.73, 96.52 13.36, 102.08 20.78 C107.65 28.21, 111.51 40.6, 112.74 49.94 C113.97 59.27, 113.03 68.47, 109.48 76.81 C105.93 85.15, 99.28 93.87, 91.45 99.95 C83.62 106.04, 71.84 111.77, 62.5 113.32 C53.15 114.87, 43.66 112.98, 35.38 109.25 C27.1 105.53, 18.73 98.41, 12.8 90.98 C6.86 83.55, 1.41 74.01, -0.21 64.65 C-1.83 55.3, -0.41 43.48, 3.08 34.83 C6.57 26.18, 13 18.71, 20.73 12.76 C28.46 6.81, 39.68 0.49, 49.43 -0.87 C59.18 -2.24, 74.32 3.61, 79.24 4.59 C84.15 5.57, 79.45 4.4, 78.91 5" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(34.50021049998436 150.0814330341641) rotate(0 32.04997253417968 25)"><text x="32.04997253417969" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Client/</text><text x="32.04997253417969" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">User</text></g><g stroke-linecap="round" transform="translate(178.3984375 10) rotate(0 63.267578125 167.81640625)"><path d="M31.63 0 C47.99 -1.29, 65.94 -0.19, 94.9 0 M31.63 0 C45.43 -0.67, 61.06 -0.04, 94.9 0 M94.9 0 C115.89 -0.75, 127.02 8.89, 126.54 31.63 M94.9 0 C116.12 0.8, 125.81 11.09, 126.54 31.63 M126.54 31.63 C126.35 120.1, 125.78 207.2, 126.54 304 M126.54 31.63 C125.29 111.21, 126.4 189.91, 126.54 304 M126.54 304 C128.06 326.5, 116.92 333.78, 94.9 335.63 M126.54 304 C126.84 326.2, 117.22 333.5, 94.9 335.63 M94.9 335.63 C74.4 335.85, 52.58 336.64, 31.63 335.63 M94.9 335.63 C74.5 336.01, 54.81 336.75, 31.63 335.63 M31.63 335.63 C10.84 333.84, 1.38 325.43, 0 304 M31.63 335.63 C12.29 335.06, -0.03 323.08, 0 304 M0 304 C-1.98 218, -3.23 129.1, 0 31.63 M0 304 C2.13 214.65, 0.88 125.41, 0 31.63 M0 31.63 C0.11 10.93, 11.45 1.3, 31.63 0 M0 31.63 C1.18 8.65, 10.9 -1.61, 31.63 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(198.53604125976562 152.81640625) rotate(0 43.129974365234375 25)"><text x="43.129974365234375" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">API </text><text x="43.129974365234375" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Gateway</text></g><g stroke-linecap="round" transform="translate(345.236328125 10.109375) rotate(0 63.267578125 167.81640625)"><path d="M31.63 0 C44.22 -0.3, 61.74 -0.71, 94.9 0 M31.63 0 C50.18 -0.73, 69.07 -1.18, 94.9 0 M94.9 0 C116.1 0.69, 125.9 11.01, 126.54 31.63 M94.9 0 C116.45 -0.67, 124.41 11.18, 126.54 31.63 M126.54 31.63 C126.18 136.56, 127.44 241.04, 126.54 304 M126.54 31.63 C128.38 135.36, 128.14 237.27, 126.54 304 M126.54 304 C126.8 326.05, 117.06 333.77, 94.9 335.63 M126.54 304 C127.47 322.89, 113.99 336.84, 94.9 335.63 M94.9 335.63 C73.69 335.21, 53.24 334.45, 31.63 335.63 M94.9 335.63 C75.98 335.21, 57.46 336.28, 31.63 335.63 M31.63 335.63 C12.06 335.14, -0.02 323.34, 0 304 M31.63 335.63 C11.02 337.78, -2.07 325.09, 0 304 M0 304 C2.12 197.59, 1.19 94.63, 0 31.63 M0 304 C1.78 237.27, 2.09 170.76, 0 31.63 M0 31.63 C1.03 8.9, 10.85 -1.4, 31.63 0 M0 31.63 C1.59 10.97, 9.46 1.04, 31.63 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(365.8039321899414 152.92578125) rotate(0 42.699974060058594 25)"><text x="42.699974060058594" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Load </text><text x="42.699974060058594" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Balancer</text></g><g stroke-linecap="round" transform="translate(524.96875 79.30078125) rotate(0 84.36328125 90.5234375)"><path d="M32 0 C61.01 2.4, 91.39 0.35, 136.73 0 M32 0 C59.57 1.21, 86.72 1.1, 136.73 0 M136.73 0 C158.46 -0.58, 166.88 11.22, 168.73 32 M136.73 0 C160.06 -0.21, 170.71 10.43, 168.73 32 M168.73 32 C171.13 65.03, 170.46 97.23, 168.73 149.05 M168.73 32 C169.41 75.83, 169.81 117.77, 168.73 149.05 M168.73 149.05 C169.54 168.47, 156.32 182.09, 136.73 181.05 M168.73 149.05 C169.61 171.26, 159.85 181.26, 136.73 181.05 M136.73 181.05 C110.11 178.25, 84.96 180.46, 32 181.05 M136.73 181.05 C115.47 180.98, 92.69 180.35, 32 181.05 M32 181.05 C11.08 182.91, -1.8 170.39, 0 149.05 M32 181.05 C12.66 179.2, -0.31 170.99, 0 149.05 M0 149.05 C-0.71 120.67, -1.49 95.68, 0 32 M0 149.05 C-0.01 110.85, -0.37 73.59, 0 32 M0 32 C1.38 11.03, 9.72 0.91, 32 0 M0 32 C-0.49 8.52, 12.92 -2.01, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(575.5720672607422 157.32421875) rotate(0 33.75996398925781 12.5)"><text x="33.75996398925781" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Service</text></g><g stroke-linecap="round"><g transform="translate(474.90234375 176.7578125) rotate(0 21.142578125 0)"><path d="M-0.03 -0.2 C6.95 -0.33, 35.36 -0.52, 42.42 -0.45 M-0.7 -0.79 C6.17 -0.89, 34.94 0.01, 42.06 0.01" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(474.90234375 176.7578125) rotate(0 21.142578125 0)"><path d="M22.07 6.9 C29.62 4.41, 37.12 1.48, 42.06 0.01 M22.07 6.9 C28.87 4.42, 35 2.4, 42.06 0.01" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(474.90234375 176.7578125) rotate(0 21.142578125 0)"><path d="M22.32 -7.56 C29.82 -4.3, 37.21 -1.48, 42.06 0.01 M22.32 -7.56 C29.01 -5.2, 35.06 -2.38, 42.06 0.01" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(309.93359375 181.41796875) rotate(0 15.193359375 0)"><path d="M0.13 -0.45 C5.21 -0.39, 25.4 0.09, 30.42 0.19 M-0.46 0.5 C4.55 0.42, 24.96 -0.73, 30 -0.68" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(309.93359375 181.41796875) rotate(0 15.193359375 0)"><path d="M15.87 4.91 C19.42 3.29, 24.48 1.36, 30 -0.68 M15.87 4.91 C20.09 3.23, 25.34 1.28, 30 -0.68" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(309.93359375 181.41796875) rotate(0 15.193359375 0)"><path d="M15.59 -5.48 C19.2 -4.04, 24.35 -2.9, 30 -0.68 M15.59 -5.48 C19.9 -3.8, 25.25 -2.39, 30 -0.68" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(130.9375 177.5390625) rotate(0 20.03125 0)"><path d="M0.03 0.19 C6.66 0.29, 33.2 0.19, 39.89 0.13 M-0.62 -0.19 C5.91 -0.22, 32.62 -0.86, 39.37 -0.77" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(130.9375 177.5390625) rotate(0 20.03125 0)"><path d="M20.6 6.22 C27.06 3.64, 33.04 1.88, 39.37 -0.77 M20.6 6.22 C26.15 4.26, 31.24 2.36, 39.37 -0.77" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(130.9375 177.5390625) rotate(0 20.03125 0)"><path d="M20.49 -7.48 C26.94 -5.62, 32.95 -2.93, 39.37 -0.77 M20.49 -7.48 C26.01 -5.73, 31.12 -3.92, 39.37 -0.77" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask></svg></span></span></div></div><div class="MuiGrid-root MuiGrid-item mui-1wxaqej"><span class="MuiTypography-root MuiTypography-caption mui-17cupi8">A common setup for a horizontally scaled, authenticated service.</span></div></div></div></div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Note that sometimes you'll need to have specific features from your load balancer, like sticky sessions or persistent connections. The most common decision to make is whether to use an L4 (layer 4) or L7 (layer 7) load balancer.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">You can somewhat shortcut this decision with a simple rule of thumb: if you have persistent connections like websockets, you'll likely want to use an L4 load balancer. Otherwise, an L7 load balancer offers great flexibility in routing traffic to different services while minimizing the connection load downstream. Read more about how to handle websocket connections in our <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="/learn/system-design/deep-dives/realtime-updates" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">deep dive on problems that require real-time updates</a>.</div>
<h5 class="MuiTypography-root MuiTypography-h6 mui-13de2kc" id="what-are-the-most-common-load-balancers">What are the most common load balancers?</h5>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">The most common load balancers are <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://aws.amazon.com/elasticloadbalancing/" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">AWS Elastic Load Balancer</a> (a hosted offering from AWS), <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://www.nginx.com/" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">NGINX</a> (an open-source webserver frequently used as a load balancer), and <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://www.haproxy.org/" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">HAProxy</a> (a popular open-source load balancer). Note that for problems with extremely high traffic, specialized hardware load balancers will outperform software load balancers you'd host yourself - you'll quickly be pulled into the crazy world of network engineering.</div>
<h2 class="MuiTypography-root MuiTypography-h3 mui-1rzqq5q" id="queue">Queue</h2>
<h5 class="MuiTypography-root MuiTypography-h6 mui-13de2kc" id="what-are-queues-and-when-should-you-use-them">What are queues and when should you use them?</h5>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Queues serve as buffers for bursty traffic or as a means of distributing work across a system. A compute resource sends messages to a queue and forgets about them. On the other end, a pool of workers (also compute resources) processes the messages at their own pace. Messages can be anything from a simple string to a complex object.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">The queue's function is to smooth out the load on the system. If I get a spike of 1,000 requests but can only handle 200 requests per second, 800 requests will wait in the queue before being processed — but they are not dropped! Queues also decouple the producer and consumer of a system, allowing you to scale them independently. I can bring down and up services behind a queue with negligible impact.</div>
<div class="my-6"><div class="MuiBox-root mui-o9fqh4"><div class="MuiBox-root mui-3t6lyr"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-6 h-6 heroicon-sw-2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"></path></svg></div><div class="MuiBox-root mui-79elbk"><div style="overflow: hidden; max-height: 300px;"><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Be careful of introducing queues into synchronous workloads. If you have strong latency requirements (e.g. &lt; 500ms), by adding a queue you're nearly guaranteeing you'll break that latency constraint.</div></div></div></div></div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Let's look at a couple common use cases for queues:</div>
<ol style="list-style: outside decimal;">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Buffer for Bursty Traffic</strong>: In a ride-sharing application like Uber, queues can be used to manage sudden surges in ride requests. During peak hours or special events, ride requests can spike massively. A queue buffers these incoming requests, allowing the system to process them at a manageable rate without overloading the server or degrading the user experience.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Distribute Work Across a System:</strong> In a cloud-based photo processing service, queues can be used to distribute expensive image processing tasks. When a user uploads photos for editing or filtering, these tasks are placed in a queue. Different worker nodes then pull tasks from the queue, ensuring even distribution of workload and efficient use of computing resources.</div></li>
</ol>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><div class="MuiBox-root mui-10khgmf" style="cursor: pointer;"><div class="MuiGrid-root MuiGrid-container MuiGrid-direction-xs-column mui-1tdxmx0"><div class="MuiGrid-root MuiGrid-item mui-tolxbf"><div class="relative w-full"><button class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall mui-wksd04" tabindex="0" type="button" aria-label="zoom-in"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-10dohqv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ZoomInIcon"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"></path><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"></path></svg><span class="MuiTouchRipple-root mui-w0pj6f"></span></button><span class="w-full h-full"><span class="block"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 596 473">
  <!-- svg-source:excalidraw -->
  <!-- payload-type:application/vnd.excalidraw+json --><!-- payload-version:2 -->
  <defs>
    <style class="style-fonts">
      
      
      
    </style>
    
  </defs>
  <rect x="0" y="0" width="596" height="473" fill="#ffffff"></rect><g stroke-linecap="round" transform="translate(10 10) rotate(0 75 32.5)"><path d="M0 0 C44.59 1.25, 90.03 0.04, 150 0 M0 0 C46.76 -1.74, 94.11 -1.59, 150 0 M150 0 C151.97 22.11, 150.71 47.46, 150 65 M150 0 C150.68 26.01, 150.76 50.77, 150 65 M150 65 C119.38 65.57, 86.56 64.43, 0 65 M150 65 C114.05 65.48, 78.29 66.04, 0 65 M0 65 C0.82 44.46, -2.05 25.27, 0 0 M0 65 C-0.5 44.02, 0.39 25.26, 0 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(10 398) rotate(0 75 32.5)"><path d="M0 0 C32.37 -1.22, 64.63 1.28, 150 0 M0 0 C57.18 0.42, 114.59 1.33, 150 0 M150 0 C150.91 18.55, 152.36 39.71, 150 65 M150 0 C150.46 16.5, 149.27 33.85, 150 65 M150 65 C114.5 66.47, 77.31 66.72, 0 65 M150 65 C100.25 65.63, 51.09 65.58, 0 65 M0 65 C-2.08 46.71, -0.21 27.58, 0 0 M0 65 C0.89 44.37, -0.54 22.76, 0 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(210 10) rotate(0 75 32.5)"><path d="M0 0 C45.02 2.19, 91.12 0.58, 150 0 M0 0 C37.54 1.1, 73.64 1.41, 150 0 M150 0 C151.95 14.63, 149.24 26.96, 150 65 M150 0 C149.33 23.75, 149.59 46.89, 150 65 M150 65 C92.55 65.86, 38.16 64.85, 0 65 M150 65 C104.78 66.43, 59.26 66.47, 0 65 M0 65 C0.72 47.31, 1 26.59, 0 0 M0 65 C-1.12 51.28, -1.07 38.43, 0 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(210 398) rotate(0 75 32.5)"><path d="M0 0 C37.29 -1.29, 70.3 -0.46, 150 0 M0 0 C39.07 0.05, 77.29 -0.58, 150 0 M150 0 C149.71 17.97, 151.71 35.65, 150 65 M150 0 C148.81 19.33, 150.18 37.56, 150 65 M150 65 C102.96 65.04, 54.76 64.99, 0 65 M150 65 C96.15 66.41, 42.26 64.97, 0 65 M0 65 C0.4 41.68, -1.92 20.18, 0 0 M0 65 C-0.14 43.53, -0.6 21.86, 0 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(436 10) rotate(0 75 32.5)"><path d="M0 0 C53.32 0.74, 108.03 1.66, 150 0 M0 0 C51.74 -1.04, 105.1 -0.32, 150 0 M150 0 C150.83 24.62, 149.47 46.23, 150 65 M150 0 C150.35 23.59, 149.77 46.34, 150 65 M150 65 C100.58 64.24, 52.25 64.98, 0 65 M150 65 C96.74 65.03, 44.16 65.96, 0 65 M0 65 C-2.02 42.4, 0.54 15.18, 0 0 M0 65 C-0.64 47.8, 0.92 30.87, 0 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(436 398) rotate(0 75 32.5)"><path d="M0 0 C41.56 1.04, 85.72 -0.46, 150 0 M0 0 C57 0.63, 115.31 -0.73, 150 0 M150 0 C150.12 19.24, 151.59 40.76, 150 65 M150 0 C150.66 22.85, 150.78 47.23, 150 65 M150 65 C109.26 64.95, 67.26 64.65, 0 65 M150 65 C96.8 63.81, 43.18 63.95, 0 65 M0 65 C1.3 44.51, 0 25.23, 0 0 M0 65 C1.22 44.7, 0.26 22.02, 0 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(60 85) rotate(0 238 19.5)"><path d="M0 0 C154.64 -1.51, 309.09 -2.31, 476 0 M476 0 C477.26 11.55, 476.34 25.99, 476 39 M476 39 C318.75 36.62, 160.96 37.82, 0 39 M0 39 C0.53 27.45, -0.48 14.75, 0 0" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="8 10"></path></g><g stroke-linecap="round" transform="translate(210 186) rotate(0 75 25)"><path d="M0 0 C57.11 -1.85, 111.32 -0.53, 150 0 M150 0 C150.81 20.69, 150.98 38.91, 150 50 M150 50 C119.38 50.57, 86.56 49.43, 0 50 M0 50 C-0.56 38.13, -0.6 27.35, 0 0" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="8 10"></path></g><g stroke-linecap="round" transform="translate(210 339) rotate(0 75 25)"><path d="M0 0 C44.6 0.83, 90.27 2.82, 150 0 M150 0 C150.74 12.54, 148.36 26.79, 150 50 M150 50 C114.5 51.47, 77.31 51.72, 0 50 M0 50 C-0.35 34.67, 0.39 18.08, 0 0" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="8 10"></path></g><g stroke-linecap="round"><g transform="translate(85 75) rotate(0 0 161.5)"><path d="M0 0 C1.7 66.8, -0.19 132, 0 323 M0 0 C0.1 115.41, 0.28 230.39, 0 323" stroke="#999" stroke-width="1" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(285 75) rotate(0 0 161.5)"><path d="M0 0 C1.44 87.34, 2.83 174.48, 0 323 M0 0 C-2.4 93.46, -1.45 186.16, 0 323" stroke="#999" stroke-width="1" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(511 75) rotate(0 0 161.5)"><path d="M0 0 C-0.22 119.65, -1.16 237.21, 0 323 M0 0 C-0.87 116.75, -1.26 232.91, 0 323" stroke="#999" stroke-width="1" fill="none"></path></g></g><mask></mask><g mask="url(#mask-usYXikHGOE8XoExkkFY5n)" stroke-linecap="round"><g transform="translate(85.5 166) rotate(0 99.5 0)"><path d="M0.38 -0.14 C33.32 -0.13, 164.97 0.59, 197.95 0.73 M-0.88 -1.26 C32.4 -1.65, 166.5 -1.01, 200.11 -1" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(85.5 166) rotate(0 99.5 0)"><path d="M171.89 9.19 C180.71 4.05, 191.29 1.28, 200.11 -1 M171.89 9.19 C182.18 4.86, 192.48 2.1, 200.11 -1" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(85.5 166) rotate(0 99.5 0)"><path d="M171.94 -11.34 C180.86 -9.84, 191.42 -5.98, 200.11 -1 M171.94 -11.34 C182.36 -8.25, 192.65 -3.61, 200.11 -1" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask id="mask-usYXikHGOE8XoExkkFY5n"><rect x="0" y="0" fill="#fff" width="385.5" height="266"></rect><rect x="122.20003509521484" y="156" fill="#000" width="125.59992980957031" height="20" opacity="1"></rect></mask><g mask="url(#mask-GLuo5FbRFZavW6a6xhbOb)" stroke-linecap="round"><g transform="translate(285.5 267) rotate(0 112.5 0)"><path d="M-1.05 0.73 C36.26 0.88, 186.43 0.83, 224.26 0.73" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="1.5 8"></path></g><g transform="translate(285.5 267) rotate(0 112.5 0)"><path d="M196.08 11.03 C206.66 6.63, 215.99 5.95, 224.26 0.73" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="1.5 6"></path></g><g transform="translate(285.5 267) rotate(0 112.5 0)"><path d="M196.05 -9.49 C206.62 -7.09, 215.96 -0.97, 224.26 0.73" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="1.5 6"></path></g></g><mask id="mask-GLuo5FbRFZavW6a6xhbOb"><rect x="0" y="0" fill="#fff" width="611.5" height="367"></rect><rect x="315.34405517578125" y="257" fill="#000" width="165.3118896484375" height="20" opacity="1"></rect></mask><g mask="url(#mask-AXzA8YCgYwCrrDO9SSUlG)" stroke-linecap="round"><g transform="translate(510.5 319) rotate(0 -112.5 0)"><path d="M-0.74 0.73 C-37.92 0.63, -186.76 0.38, -224.1 0.14 M1.07 0.07 C-36.09 0.12, -186.83 1.73, -224.58 1.75" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(510.5 319) rotate(0 -112.5 0)"><path d="M-196.45 -8.69 C-201.14 -5.15, -208.1 -4.08, -224.58 1.75 M-196.45 -8.69 C-203.33 -6.09, -210.05 -3.04, -224.58 1.75" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(510.5 319) rotate(0 -112.5 0)"><path d="M-196.33 11.84 C-201.16 11.02, -208.15 7.73, -224.58 1.75 M-196.33 11.84 C-203.29 9.54, -210.05 7.7, -224.58 1.75" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask id="mask-AXzA8YCgYwCrrDO9SSUlG"><rect x="0" y="0" fill="#fff" width="836.5" height="419"></rect><rect x="337.0720443725586" y="299" fill="#000" width="121.85591125488281" height="40" opacity="1"></rect></mask><g transform="translate(50.912025451660156 32.5) rotate(0 34.087974548339844 10)"><text x="34.087974548339844" y="0" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#000" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Producer</text></g><g transform="translate(50.912025451660156 420.5) rotate(0 34.087974548339844 10)"><text x="34.087974548339844" y="0" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#000" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Producer</text></g><g transform="translate(261.52000427246094 32.5) rotate(0 23.479995727539062 10)"><text x="23.479995727539062" y="0" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#000" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Queue</text></g><g transform="translate(261.52000427246094 420.5) rotate(0 23.479995727539062 10)"><text x="23.479995727539062" y="0" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#000" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Queue</text></g><g transform="translate(475.91202545166016 32.5) rotate(0 35.087974548339844 10)"><text x="35.087974548339844" y="0" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#000" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Consumer</text></g><g transform="translate(475.91202545166016 420.5) rotate(0 35.087974548339844 10)"><text x="35.087974548339844" y="0" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#000" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Consumer</text></g><g transform="translate(206.68804168701172 94.5) rotate(0 91.31195831298828 10)"><text x="91.31195831298828" y="0" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#000" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Message Queue System</text></g><g transform="translate(247.48001861572266 191) rotate(0 37.519981384277344 20)"><text x="37.519981384277344" y="0" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#000" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">2. Store </text><text x="37.519981384277344" y="20" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#000" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Messages</text></g><g transform="translate(242.00802612304688 344) rotate(0 42.991973876953125 20)"><text x="42.991973876953125" y="0" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#000" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">5. Remove </text><text x="42.991973876953125" y="20" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#000" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Message</text></g><g transform="translate(122.20003509521484 156) rotate(0 62.91151338328609 9.672579182065533)"><text x="62.799964904785156" y="0" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">1. Send Message</text></g><g transform="translate(315.34405517578125 257) rotate(0 81.75855163186782 10.779026327574115)"><text x="82.65594482421875" y="0" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">3. Dispatch Message</text></g><g transform="translate(337.0720443725586 299) rotate(0 61.6732660578657 20.909787010802006)"><text x="60.927955627441406" y="0" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">4. Acknowledge </text><text x="60.927955627441406" y="20" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Receipt</text></g></svg></span></span></div></div><div class="MuiGrid-root MuiGrid-item mui-1wxaqej"><span class="MuiTypography-root MuiTypography-caption mui-17cupi8">Queue Buffer</span></div></div></div></div>
<h5 class="MuiTypography-root MuiTypography-h6 mui-13de2kc" id="things-you-should-know-about-queues-for-your-interview">Things you should know about queues for your interview</h5>
<ol style="list-style: outside decimal;">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Message Ordering</strong>: Most queues are FIFO (first in, first out), meaning that messages are processed in the order they were received. However, some queues (like <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://www.hellointerview.com/learn/system-design/deep-dives/kafka" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Kafka</a>) allow for more complex ordering guarantees, such as ordering based on a specified priority or time.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Retry Mechanisms</strong>: Many queues have built-in retry mechanisms that attempt to redeliver a message a certain number of times before considering it a failure. You can configure retries, including the delay between attempts, and the maximum number of attempts.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Dead Letter Queues</strong>: Dead letter queues are used to store messages that cannot be processed. They're useful for debugging and auditing, as it allows you to inspect messages that failed to be processed and understand why they failed.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Scaling with Partitions</strong>: Queues can be partitioned across multiple servers so that they can scale to handle more messages. Each partition can be processed by a different set of workers. Just like databases, you will need to specify a partition key to ensure that related messages are stored in the same partition.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Backpressure</strong>: The biggest problem with queues is they make it easy to overwhelm your system. If my system supports 200 requests per second but I'm receiving 300 requests per second, I'll never finish them! A queue is just obscuring the problem that I don't have enough capacity. The answer is backpressure. Backpressure is a way of slowing down the production of messages when the queue is overwhelmed. This helps prevent the queue from becoming a bottleneck in your system. For example, if a queue is full, you might want to reject new messages or slow down the rate at which new messages are accepted, potentially returning an error to the user or producer.</div></li>
</ol>
<h5 class="MuiTypography-root MuiTypography-h6 mui-13de2kc" id="what-are-the-most-common-queueing-technologies">What are the most common queueing technologies?</h5>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">The most common queueing technologies are <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://kafka.apache.org/" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Kafka</a> and <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://aws.amazon.com/sqs/" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">SQS</a>. Kafka is a distributed streaming platform that can be used as a queue (<a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="/learn/system-design/deep-dives/kafka" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">we have a deep-dive which goes into significant detail about how to use it</a>), while SQS is a fully managed queue services provided by AWS.</div>
<h2 class="MuiTypography-root MuiTypography-h3 mui-1rzqq5q" id="streams--event-sourcing">Streams / Event Sourcing</h2>
<h5 class="MuiTypography-root MuiTypography-h6 mui-13de2kc" id="what-are-streams-and-when-should-you-use-them">What are streams and when should you use them?</h5>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Sometimes you'll be asked a question that requires either processing vast amounts of data in real-time or supporting complex processing scenarios, such as event sourcing.</div>
<div class="my-6"><div class="MuiBox-root mui-1ygn9bx"><div class="MuiBox-root mui-14185gn"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-6 h-6 heroicon-sw-2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"></path></svg></div><div class="MuiBox-root mui-79elbk"><div style="overflow: hidden; max-height: 300px;"><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Event sourcing is a technique where changes in application state are stored as a sequence of events. These events can be replayed to reconstruct the application's state at any point in time, making it an effective strategy for systems that require a detailed audit trail or the ability to reverse or replay transactions.</div></div></div></div></div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">In either case, you'll likely want to use a stream. Unlike message queues, streams can retain data for a configurable period of time, allowing consumers to read and re-read messages from the same position or from a specified time in the past. Streams are a good choice...</div>
<ol style="list-style: outside decimal;">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>When you need to process large amounts of data in real-time.</strong> Imagine designing a system for a social media platform where you need to display real-time analytics of user engagements (likes, comments, shares) on posts. You can use a stream to ingest high volumes of engagement events generated by users across the globe. A stream processing system (like Apache Flink or Spark Streaming) can process these events in real-time to update the analytics dashboard.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>When you need to support complex processing scenarios like event sourcing.</strong> Consider a banking system where every transaction (deposits, withdrawals, transfers) needs to be recorded and could affect multiple accounts. Using event sourcing with a stream like Kafka, each transaction is an event that can be stored, processed, and replayed. This setup not only allows for real-time processing of transactions but also enables the bank to audit transactions, rollback changes, or reconstruct the state of any account at any point in time by replaying the events.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>When you need to support multiple consumers reading from the same stream.</strong> In a real-time chat application, when a user sends a message, it's published to a stream associated with the chat room. This stream acts as a centralized channel where all chat participants are subscribers. As the message is distributed through the stream, each participant (consumer) receives the message simultaneously, allowing for real-time communication. <strong>This is a great example of a publish-subscribe pattern, which is a common use case for streams.</strong></div></li>
</ol>
<h5 class="MuiTypography-root MuiTypography-h6 mui-13de2kc" id="things-you-should-know-about-streams-for-your-interview">Things you should know about streams for your interview</h5>
<ol style="list-style: outside decimal;">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Scaling with Partitioning</strong>: In order to scale streams, they can be partitioned across multiple servers. Each partition can be processed by a different consumer, allowing for horizontal scaling. Just like databases, you will need to specify a partition key to ensure that related events are stored in the same partition.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Multiple Consumer Groups</strong>: Streams can support multiple consumer groups, allowing different consumers to read from the same stream independently. This is useful for scenarios where you need to process the same data in different ways. For example, in a real-time analytics system, one consumer group might process events to update a dashboard, while another group processes the same events to store them in a database for historical analysis.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Replication</strong>: In order to support fault tolerance, just like databases, streams can replicate data across multiple servers. This ensures that if a server fails, the data can still be read from another server.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Windowing</strong>: Streams can support windowing, which is a way of grouping events together based on time or count. This is useful for scenarios where you need to process events in batches, such as calculating hourly or daily aggregates of data. Think about a real-time dashboard that shows mean delivery time per region over the last 24 hours.</div></li>
</ol>
<h5 class="MuiTypography-root MuiTypography-h6 mui-13de2kc" id="what-are-the-most-common-streaming-technologies">What are the most common streaming technologies?</h5>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">The most common stream technologies are <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://kafka.apache.org/" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Kafka</a>, <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://flink.apache.org/" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Flink</a>, and <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://aws.amazon.com/kinesis/" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Kinesis</a>. Our <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="/learn/system-design/deep-dives/kafka" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">deep-dive on Kafka</a> goes into significant detail about how it can be used in system design questions.</div>
<h2 class="MuiTypography-root MuiTypography-h3 mui-1rzqq5q" id="distributed-lock">Distributed Lock</h2>
<h5 class="MuiTypography-root MuiTypography-h6 mui-13de2kc" id="what-are-distributed-locks-and-when-should-you-use-them">What are distributed locks and when should you use them?</h5>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">When you're dealing with online systems like Ticketmaster, you might need a way to lock a resource - like a concert ticket - for a short time (~10 minutes in this case). This is so while one user is in the middle of buying a ticket, no one else can grab it. Traditional databases with ACID properties use transaction locks to keep data consistent, which is great for ensuring that while one user is updating a record, no one else can update it, but they're not designed for longer-term locking. This is where distributed locks come in handy.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Distributed locks are perfect for situations where you need to lock something across different systems or processes for a reasonable period of time. They're often implemented using a distributed key-value store like Redis or Zookeeper. The basic idea is that you can use a key-value store to store a lock and then use the atomicity of the key-value store to ensure that only one process can acquire the lock at a time. For example, if you have a Redis instance with a key <span class="MuiBox-root mui-1vu004u">ticket-123</span> and you want to lock it, you can set the value of <span class="MuiBox-root mui-1vu004u">ticket-123</span> to <span class="MuiBox-root mui-1vu004u">locked</span>. If another process tries to set the value of <span class="MuiBox-root mui-1vu004u">ticket-123</span> to <span class="MuiBox-root mui-1vu004u">locked</span>, it will fail because the value is already set to <span class="MuiBox-root mui-1vu004u">locked</span>. Once the first process is done with the lock, it can set the value of <span class="MuiBox-root mui-1vu004u">ticket-123</span> to <span class="MuiBox-root mui-1vu004u">unlocked</span> and another process can acquire the lock.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Another handy feature of distributed locks is that they can be set to expire after a certain amount of time. This is great for ensuring that locks don't get stuck in a locked state if a process crashes or is killed. For example, if you set the value of <span class="MuiBox-root mui-1vu004u">ticket-123</span> to <span class="MuiBox-root mui-1vu004u">locked</span> and then the process crashes, the lock will expire after a certain amount of time (like after 10 minutes) and another process can acquire the lock at that point.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Here are some common examples of when to use a distributed lock in a system design interview:</div>
<ol style="list-style: outside decimal;">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>E-Commerce Checkout System:</strong> Use a distributed lock to hold a high-demand item, like limited-edition sneakers, in a user's cart for a short duration (like 10 minutes) during checkout to ensure that while one user is completing the payment process, the item isn't sold to someone else.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Ride-Sharing Matchmaking:</strong> A distributed lock can be used to manage the assignment of drivers to riders. When a rider requests a ride, the system can lock a nearby driver, preventing them from being matched with multiple riders simultaneously. This lock can be held until the driver confirms or declines the ride or until a certain amount of time has passed.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Distributed Cron Jobs:</strong> For systems that <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="/learn/system-design/problem-breakdowns/job-scheduler" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">run scheduled tasks (cron jobs) across multiple servers</a>, a distributed lock ensures that a task is executed by only one server at a time. For instance, in a data analytics platform, a daily job aggregates user data for reports. A distributed lock can prevent the duplication of this task across multiple servers to save compute resources.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Online Auction Bidding System:</strong> In an <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="/learn/system-design/problem-breakdowns/online-auction" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">online auction</a>, a distributed lock can be used during the final moments of bidding to ensure that when a bid is placed in the last seconds, the system locks the item briefly to process the bid and update the current highest bid, preventing other users from placing a bid on the same item simultaneously.</div></li>
</ol>
<h5 class="MuiTypography-root MuiTypography-h6 mui-13de2kc" id="things-you-should-know-about-distributed-locks-for-your-interview">Things you should know about distributed locks for your interview</h5>
<ol style="list-style: outside decimal;">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Locking Mechanisms</strong>: There are different ways to implement distributed locks. One common implementation uses Redis and is called Redlock. Redlock uses multiple Redis instances to ensure that a lock is acquired and released in a safe and consistent manner.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Lock Expiry</strong>: Distributed locks can be set to expire after a certain amount of time. This is important for ensuring that locks don't get stuck in a locked state if a process crashes or is killed.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Locking Granularity</strong>: Distributed locks can be used to lock a single resource or a group of resources. For example, you might want to lock a single ticket in a ticketing system or you might want to lock a group of tickets in a section of a stadium.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Deadlocks</strong>: Deadlocks can occur when two or more processes are waiting for each other to release a lock. Think about a situation where two processes are trying to acquire two locks at the same time. One process acquires lock A and then tries to acquire lock B, while the other process acquires lock B and then tries to acquire lock A. This can lead to a situation where both processes are waiting for each other to release a lock, causing a deadlock. You should be prepared to discuss how to prevent this - a common mistake is to have locks pulled from far-flung pieces of infrastructure or your code, this makes it hard to recognize and prevent deadlocks.</div></li>
</ol>
<h2 class="MuiTypography-root MuiTypography-h3 mui-1rzqq5q" id="distributed-cache">Distributed Cache</h2>
<h5 class="MuiTypography-root MuiTypography-h6 mui-13de2kc" id="what-is-a-distributed-cache-and-when-should-you-use-it">What is a distributed cache and when should you use it?</h5>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">In most system design interviews you'll be tasked with both scaling your system and lowering system latency. One common way to do this is to use a distributed cache. A cache is just a server, or cluster of servers, that stores data in memory. They're great for storing data that's expensive to compute or retrieve from a database.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">You'll want to use a cache to:</div>
<ol style="list-style: outside decimal;">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Save Aggregated Metrics</strong>: Consider an analytics platform that aggregates data from numerous sources to display a dashboard of metrics. The data for these metrics is expensive to compute, so the platform calculates metrics asynchronously (like hourly via a background job) and stores the results in a distributed cache. When a user requests a dashboard, the platform can retrieve the data from the cache instead of recomputing it, reducing latency.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Reduce Number of DB Queries</strong>: In a web application, user sessions are often stored in a distributed cache to reduce the load on the database. This is especially important for systems that need to support a large number of concurrent users. When a user logs in, the system can store their session data in the cache, allowing the system to quickly retrieve the data when the user makes a request.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Speed Up Expensive Queries</strong>: Some complex queries take a long time to run on a traditional, disk based database. For example, if you have a social media platform like Twitter, you might want to show users a list of posts from people they follow. This is a complex query that requires joining multiple tables and filtering by multiple columns. Running this query on Postgres could take ages. Instead, you can run the query once, store the results in a distributed cache, and then retrieve the results from the cache when a user requests them.</div></li>
</ol>
<h5 class="MuiTypography-root MuiTypography-h6 mui-13de2kc" id="things-you-should-know-about-distributed-caches-for-your-interview">Things you should know about distributed caches for your interview</h5>
<ol style="list-style: outside decimal;">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><strong>Eviction Policy</strong>: Distributed caches have different eviction policies that determine which items are removed from the cache when the cache is full. Some common eviction policies are:</div>
<ul class="MuiList-root MuiList-padding mui-sedpvs">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Least Recently Used (LRU): Evicts the least recently accessed items first.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">First In, First Out (FIFO): Evicts items in the order they were added.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Least Frequently Used (LFU): Removes items that are least frequently accessed.</div></li>
</ul>
</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><strong>Cache Invalidation Strategy</strong>: This is the strategy you'll use to ensure that the data in your cache is up to date. For example, if you are designing Ticketmaster and caching popular events, then you'll need to invalidate an event in the cache if the event in your Database was updated (like the venue changed).</div>
</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag"><strong>Cache Write Strategy</strong>: This is the strategy you use to make sure that data is written to your cache in a consistent way. Some strategies are:</div>
<ul class="MuiList-root MuiList-padding mui-sedpvs">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Write-Through Cache: Writes data to both the cache and the underlying datastore simultaneously. Ensures consistency but can be slower for write operations.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Write-Around Cache: Writes data directly to the datastore, bypassing the cache. This can minimize cache pollution but might increase data fetch times on subsequent reads.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0">Write-Back Cache: Writes data to the cache and then asynchronously writes the data to the datastore. This can be faster for write operations but can lead to data loss if the cache is not persisted to disk.</div></li>
</ul>
</div></li>
</ol>
<div class="my-6"><div class="MuiBox-root mui-1147lff"><div class="MuiBox-root mui-zvu67g"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-6 h-6 heroicon-sw-2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"></path></svg></div><div class="MuiBox-root mui-79elbk"><div style="overflow: hidden; max-height: 300px;"><div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Don't forget to be explicit about what data you are storing in the cache, including the data structure you're using. Remember, modern caches have many different datastructures you can leverage, they are not just simple key-value stores. So for example, if you are storing a list of events in your cache, you might want to use a sorted set so that you can easily retrieve the most popular events. Many candidates will just say, "I'll store the events in a cache" and leave it at that. This is a missed opportunity and may invite follow-up questions.</div></div></div></div></div>
<h5 class="MuiTypography-root MuiTypography-h6 mui-13de2kc" id="what-are-the-most-common-distributed-cache-technologies">What are the most common distributed cache technologies?</h5>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">The two most common in-memory caches are <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://www.hellointerview.com/learn/system-design/deep-dives/redis" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Redis</a> and <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://memcached.org/" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Memcached</a>. Redis is a key-value store that supports many different data structures, including strings, hashes, lists, sets, sorted sets, bitmaps, and hyperloglogs. Memcached is a simple key-value store that supports strings and binary objects.</div>
<h2 class="MuiTypography-root MuiTypography-h3 mui-1rzqq5q" id="cdn">CDN</h2>
<h5 class="MuiTypography-root MuiTypography-h6 mui-13de2kc" id="what-is-a-cdn-and-when-should-you-use-it">What is a CDN and when should you use it?</h5>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Modern systems often serve users globally, which makes it challenging to deliver content quickly to users all over the world. Users (and interviewers) expect fast load times, and delays can lead to a poor user experience and loss of traffic. A content delivery network (CDN) is a type of cache that uses distributed servers to deliver content to users based on their geographic location. CDNs are often used to deliver static content like images, videos, and HTML files, but they can also be used to deliver dynamic content like API responses.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">They work by caching content on servers that are close to users. When a user requests content, the CDN routes the request to the closest server. If the content is cached on that server, the CDN will return the cached content. If the content is not cached on that server, the CDN will fetch the content from the origin server, cache it on the server, and then return the content to the user.</div>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">The most common application of a CDN in an interview is to cache static media assets like images and videos. For example, if you have a social media platform like Instagram, you might use a CDN to cache user profile pictures. This would allow you to serve profile pictures quickly to users all over the world.</div>
<h5 class="MuiTypography-root MuiTypography-h6 mui-13de2kc" id="things-you-should-know-about-cdns">Things you should know about CDNs</h5>
<ol style="list-style: outside decimal;">
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>CDNs are not just for static assets</strong>. While CDNs are often used to cache static assets like images, videos, and javascript files, they can also be used to cache dynamic content. This is especially useful for content that is accessed frequently, but changes infrequently. For example, a blog post that is updated once a day can be cached by a CDN.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>CDNs can be used to cache API responses</strong>. If you have an API that is accessed frequently, you can use a CDN to cache the responses. This can help reduce the load on your servers and improve the performance of your API.</div></li>
<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ioa8ei"><div class="MuiBox-root mui-0"><strong>Eviction policies</strong>. Like other caches, CDNs have eviction policies that determine when cached content is removed. For example, you can set a time-to-live (TTL) for cached content, or you can use a cache invalidation mechanism to remove content from the cache when it changes.</div></li>
</ol>
<h5 class="MuiTypography-root MuiTypography-h6 mui-13de2kc" id="examples-of-cdns">Examples of CDNs</h5>
<div class="MuiTypography-root MuiTypography-body1 mui-1p1f0ag">Some of the most popular CDNs are <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://www.cloudflare.com/" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Cloudflare</a>, <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://www.akamai.com/" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Akamai</a>, and <a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-pvpazu" href="https://aws.amazon.com/cloudfront/" target="_blank" rel="noopener noreferrer" style="color: rgb(99, 115, 129); cursor: pointer; font-weight: 600; text-decoration: underline;">Amazon CloudFront</a>. These CDNs offer a range of features, including caching, DDoS protection, and web application firewalls. They also have a global network of edge locations, which means that they can deliver content to users around the world with low latency.</div>
</body>
</html>